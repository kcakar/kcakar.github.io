/*! For license information please see contact.4f5351983eb713336838.js.LICENSE.txt */
(()=>{"use strict";var t={304:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(601),s=i.n(n),r=i(314),o=i.n(r)()(s());o.push([t.id,"",""]);const a=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);n&&o[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),e.push(h))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var r={},o=[],a=0;a<t.length;a++){var c=t[a],l=n.base?c[0]+n.base:c[0],h=r[l]||0,u="".concat(l," ").concat(h);r[l]=h+1;var d=i(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=s(f,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function s(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,s){var r=n(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=i(r[o]);e[a].references--}for(var c=n(t,s),l=0;l<r.length;l++){var h=i(r[l]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=c}}},659:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0;var n=i(72),s=i.n(n),r=i(825),o=i.n(r),a=i(659),c=i.n(a),l=i(56),h=i.n(l),u=i(540),d=i.n(u),f=i(113),p=i.n(f),g=i(304),m={};m.styleTagTransform=p(),m.setAttributes=h(),m.insert=c().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d();s()(g.A,m);g.A&&g.A.locals&&g.A.locals;function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var _,w,b,x,T,E,C,S,k,I,D,A={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},M={duration:.5,overwrite:!1,delay:0},O=1e8,P=1e-8,R=2*Math.PI,L=R/4,N=0,z=Math.sqrt,F=Math.cos,V=Math.sin,B=function(t){return"string"==typeof t},U=function(t){return"function"==typeof t},j=function(t){return"number"==typeof t},q=function(t){return void 0===t},$=function(t){return"object"==typeof t},H=function(t){return!1!==t},G=function(){return"undefined"!=typeof window},X=function(t){return U(t)||B(t)},K="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},W=Array.isArray,Q=/(?:-?\.?\d|\.)+/gi,Y=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,J=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Z=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,tt=/[+-]=-?[.\d]+/,et=/[^,'"\[\]\s]+/gi,it=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nt={},st={},rt=function(t){return(st=Rt(t,nt))&&Li},ot=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},at=function(t,e){return!e&&console.warn(t)},ct=function(t,e){return t&&(nt[t]=e)&&st&&(st[t]=e)||nt},lt=function(){return 0},ht={suppressEvents:!0,isStart:!0,kill:!1},ut={suppressEvents:!0,kill:!1},dt={suppressEvents:!0},ft={},pt=[],gt={},mt={},vt={},yt=30,_t=[],wt="",bt=function(t){var e,i,n=t[0];if($(n)||U(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=_t.length;i--&&!_t[i].targetTest(n););e=_t[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new We(t[i],e)))||t.splice(i,1);return t},xt=function(t){return t._gsap||bt(de(t))[0]._gsap},Tt=function(t,e,i){return(i=t[e])&&U(i)?t[e]():q(i)&&t.getAttribute&&t.getAttribute(e)||i},Et=function(t,e){return(t=t.split(",")).forEach(e)||t},Ct=function(t){return Math.round(1e5*t)/1e5||0},St=function(t){return Math.round(1e7*t)/1e7||0},kt=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+n:"-"===i?t-n:"*"===i?t*n:t/n},It=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Dt=function(){var t,e,i=pt.length,n=pt.slice(0);for(gt={},pt.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},At=function(t,e,i,n){pt.length&&!w&&Dt(),t.render(e,i,n||w&&e<0&&(t._initted||t._startAt)),pt.length&&!w&&Dt()},Mt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(et).length<2?e:B(t)?t.trim():t},Ot=function(t){return t},Pt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Rt=function(t,e){for(var i in e)t[i]=e[i];return t},Lt=function t(e,i){for(var n in i)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=$(i[n])?t(e[n]||(e[n]={}),i[n]):i[n]);return e},Nt=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},zt=function(t){var e,i=t.parent||x,n=t.keyframes?(e=W(t.keyframes),function(t,i){for(var n in i)n in t||"duration"===n&&e||"ease"===n||(t[n]=i[n])}):Pt;if(H(t.inherit))for(;i;)n(t,i.vars.defaults),i=i.parent||i._dp;return t},Ft=function(t,e,i,n,s){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r,o=t[n];if(s)for(r=e[s];o&&o[s]>r;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e},Vt=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s=e._prev,r=e._next;s?s._next=r:t[i]===e&&(t[i]=r),r?r._prev=s:t[n]===e&&(t[n]=s),e._next=e._prev=e.parent=null},Bt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ut=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},jt=function(t,e,i,n){return t._startAt&&(w?t._startAt.revert(ut):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},qt=function t(e){return!e||e._ts&&t(e.parent)},$t=function(t){return t._repeat?Ht(t._tTime,t=t.duration()+t._rDelay)*t:0},Ht=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Gt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Xt=function(t){return t._end=St(t._start+(t._tDur/Math.abs(t._ts||t._rts||P)||0))},Kt=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=St(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Xt(t),i._dirty||Ut(i,t)),t},Wt=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=Gt(t.rawTime(),e),(!e._dur||ae(0,e.totalDuration(),i)-e._tTime>P)&&e.render(i,!0)),Ut(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},Qt=function(t,e,i,n){return e.parent&&Bt(e),e._start=St((j(i)?i:i||t!==x?se(t,i,e):t._time)+e._delay),e._end=St(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Ft(t,e,"_first","_last",t._sort?"_start":0),te(e)||(t._recent=e),n||Wt(t,e),t._ts<0&&Kt(t,t._tTime),t},Yt=function(t,e){return(nt.ScrollTrigger||ot("scrollTrigger",e))&&nt.ScrollTrigger.create(e,t)},Jt=function(t,e,i,n,s){return ni(t,e,s),t._initted?!i&&t._pt&&!w&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&k!==Ne.frame?(pt.push(t),t._lazy=[s,n],1):void 0:1},Zt=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},te=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},ee=function(t,e,i,n){var s=t._repeat,r=St(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=r/t._dur),t._dur=r,t._tDur=s?s<0?1e10:St(r*(s+1)+t._rDelay*s):r,o>0&&!n&&Kt(t,t._tTime=t._tDur*o),t.parent&&Xt(t),i||Ut(t.parent,t),t},ie=function(t){return t instanceof Ye?Ut(t):ee(t,t._dur)},ne={_start:0,endTime:lt,totalDuration:lt},se=function t(e,i,n){var s,r,o,a=e.labels,c=e._recent||ne,l=e.duration()>=O?c.endTime(!1):e._dur;return B(i)&&(isNaN(i)||i in a)?(r=i.charAt(0),o="%"===i.substr(-1),s=i.indexOf("="),"<"===r||">"===r?(s>=0&&(i=i.replace(/=/,"")),("<"===r?c._start:c.endTime(c._repeat>=0))+(parseFloat(i.substr(1))||0)*(o?(s<0?c:n).totalDuration()/100:1)):s<0?(i in a||(a[i]=l),a[i]):(r=parseFloat(i.charAt(s-1)+i.substr(s+1)),o&&n&&(r=r/100*(W(n)?n[0]:n).totalDuration()),s>1?t(e,i.substr(0,s-1),n)+r:l+r)):null==i?l:+i},re=function(t,e,i){var n,s,r=j(e[1]),o=(r?2:1)+(t<2?0:1),a=e[o];if(r&&(a.duration=e[1]),a.parent=i,t){for(n=a,s=i;s&&!("immediateRender"in n);)n=s.vars.defaults||{},s=H(s.vars.inherit)&&s.parent;a.immediateRender=H(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new ci(e[0],a,e[o+1])},oe=function(t,e){return t||0===t?e(t):e},ae=function(t,e,i){return i<t?t:i>e?e:i},ce=function(t,e){return B(t)&&(e=it.exec(t))?e[1]:""},le=[].slice,he=function(t,e){return t&&$(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&$(t[0]))&&!t.nodeType&&t!==T},ue=function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var n;return B(t)&&!e||he(t,1)?(n=i).push.apply(n,de(t)):i.push(t)}))||i},de=function(t,e,i){return b&&!e&&b.selector?b.selector(t):!B(t)||i||!E&&ze()?W(t)?ue(t,i):he(t)?le.call(t,0):t?[t]:[]:le.call((e||C).querySelectorAll(t),0)},fe=function(t){return t=de(t)[0]||at("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return de(e,i.querySelectorAll?i:i===t?at("Invalid scope")||C.createElement("div"):t)}},pe=function(t){return t.sort((function(){return.5-Math.random()}))},ge=function(t){if(U(t))return t;var e=$(t)?t:{each:t},i=$e(e.ease),n=e.from||0,s=parseFloat(e.base)||0,r={},o=n>0&&n<1,a=isNaN(n)||o,c=e.axis,l=n,h=n;return B(n)?l=h={center:.5,edges:.5,end:1}[n]||0:!o&&a&&(l=n[0],h=n[1]),function(t,o,u){var d,f,p,g,m,v,y,_,w,b=(u||e).length,x=r[b];if(!x){if(!(w="auto"===e.grid?0:(e.grid||[1,O])[1])){for(y=-O;y<(y=u[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(x=r[b]=[],d=a?Math.min(w,b)*l-.5:n%w,f=w===O?0:a?b*h/w-.5:n/w|0,y=0,_=O,v=0;v<b;v++)p=v%w-d,g=f-(v/w|0),x[v]=m=c?Math.abs("y"===c?g:p):z(p*p+g*g),m>y&&(y=m),m<_&&(_=m);"random"===n&&pe(x),x.max=y-_,x.min=_,x.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(w>b?b-1:c?"y"===c?b/w:w:Math.max(w,b/w))||0)*("edges"===n?-1:1),x.b=b<0?s-b:s,x.u=ce(e.amount||e.each)||0,i=i&&b<0?je(i):i}return b=(x[t]-x.min)/x.max||0,St(x.b+(i?i(b):b)*x.v)+x.u}},me=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=St(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(j(i)?0:ce(i))}},ve=function(t,e){var i,n,s=W(t);return!s&&$(t)&&(i=s=t.radius||O,t.values?(t=de(t.values),(n=!j(t[0]))&&(i*=i)):t=me(t.increment)),oe(e,s?U(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var s,r,o=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),c=O,l=0,h=t.length;h--;)(s=n?(s=t[h].x-o)*s+(r=t[h].y-a)*r:Math.abs(t[h]-o))<c&&(c=s,l=h);return l=!i||c<=i?t[l]:e,n||l===e||j(e)?l:l+ce(e)}:me(t))},ye=function(t,e,i,n){return oe(W(t)?!e:!0===i?!!(i=0):!n,(function(){return W(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n}))},_e=function(t,e,i){return oe(i,(function(i){return t[~~e(i)]}))},we=function(t){for(var e,i,n,s,r=0,o="";~(e=t.indexOf("random(",r));)n=t.indexOf(")",e),s="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(s?et:Q),o+=t.substr(r,e-r)+ye(s?i:+i[0],s?0:+i[1],+i[2]||1e-5),r=n+1;return o+t.substr(r,t.length-r)},be=function(t,e,i,n,s){var r=e-t,o=n-i;return oe(s,(function(e){return i+((e-t)/r*o||0)}))},xe=function(t,e,i){var n,s,r,o=t.labels,a=O;for(n in o)(s=o[n]-e)<0==!!i&&s&&a>(s=Math.abs(s))&&(r=n,a=s);return r},Te=function(t,e,i){var n,s,r,o=t.vars,a=o[e],c=b,l=t._ctx;if(a)return n=o[e+"Params"],s=o.callbackScope||t,i&&pt.length&&Dt(),l&&(b=l),r=n?a.apply(s,n):a.call(s),b=c,r},Ee=function(t){return Bt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!w),t.progress()<1&&Te(t,"onInterrupt"),t},Ce=[],Se=function(t){if(t)if(t=!t.name&&t.default||t,G()||t.headless){var e=t.name,i=U(t),n=e&&!i&&t.init?function(){this._props=[]}:t,s={init:lt,render:vi,add:ei,kill:_i,modifier:yi,rawVars:0},r={targetTest:0,get:0,getSetter:fi,aliases:{},register:0};if(ze(),t!==n){if(mt[e])return;Pt(n,Pt(Nt(t,s),r)),Rt(n.prototype,Rt(s,Nt(t,r))),mt[n.prop=e]=n,t.targetTest&&(_t.push(n),ft[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ct(e,n),t.register&&t.register(Li,n,xi)}else Ce.push(t)},ke=255,Ie={aqua:[0,ke,ke],lime:[0,ke,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ke],navy:[0,0,128],white:[ke,ke,ke],olive:[128,128,0],yellow:[ke,ke,0],orange:[ke,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ke,0,0],pink:[ke,192,203],cyan:[0,ke,ke],transparent:[ke,ke,ke,0]},De=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*ke+.5|0},Ae=function(t,e,i){var n,s,r,o,a,c,l,h,u,d,f=t?j(t)?[t>>16,t>>8&ke,t&ke]:0:Ie.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ie[t])f=Ie[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),s=t.charAt(2),r=t.charAt(3),t="#"+n+n+s+s+r+r+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&ke,f&ke,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&ke,t&ke]}else if("hsl"===t.substr(0,3))if(f=d=t.match(Q),e){if(~t.indexOf("="))return f=t.match(Y),i&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,n=2*(c=+f[2]/100)-(s=c<=.5?c*(a+1):c+a-c*a),f.length>3&&(f[3]*=1),f[0]=De(o+1/3,n,s),f[1]=De(o,n,s),f[2]=De(o-1/3,n,s);else f=t.match(Q)||Ie.transparent;f=f.map(Number)}return e&&!d&&(n=f[0]/ke,s=f[1]/ke,r=f[2]/ke,c=((l=Math.max(n,s,r))+(h=Math.min(n,s,r)))/2,l===h?o=a=0:(u=l-h,a=c>.5?u/(2-l-h):u/(l+h),o=l===n?(s-r)/u+(s<r?6:0):l===s?(r-n)/u+2:(n-s)/u+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*c+.5)),i&&f.length<4&&(f[3]=1),f},Me=function(t){var e=[],i=[],n=-1;return t.split(Pe).forEach((function(t){var s=t.match(J)||[];e.push.apply(e,s),i.push(n+=s.length+1)})),e.c=i,e},Oe=function(t,e,i){var n,s,r,o,a="",c=(t+a).match(Pe),l=e?"hsla(":"rgba(",h=0;if(!c)return t;if(c=c.map((function(t){return(t=Ae(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(r=Me(t),(n=i.c).join(a)!==r.c.join(a)))for(o=(s=t.replace(Pe,"1").split(J)).length-1;h<o;h++)a+=s[h]+(~n.indexOf(h)?c.shift()||l+"0,0,0,0)":(r.length?r:c.length?c:i).shift());if(!s)for(o=(s=t.split(Pe)).length-1;h<o;h++)a+=s[h]+c[h];return a+s[o]},Pe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ie)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Re=/hsl[a]?\(/,Le=function(t){var e,i=t.join(" ");if(Pe.lastIndex=0,Pe.test(i))return e=Re.test(i),t[1]=Oe(t[1],e),t[0]=Oe(t[0],e,Me(t[1])),!0},Ne=function(){var t,e,i,n,s,r,o=Date.now,a=500,c=33,l=o(),h=l,u=1e3/240,d=u,f=[],p=function i(p){var g,m,v,y,_=o()-h,w=!0===p;if((_>a||_<0)&&(l+=_-c),((g=(v=(h+=_)-l)-d)>0||w)&&(y=++n.frame,s=v-1e3*n.time,n.time=v/=1e3,d+=g+(g>=u?4:u-g),m=1),w||(t=e(i)),m)for(r=0;r<f.length;r++)f[r](v,s,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return s/(1e3/(t||60))},wake:function(){S&&(!E&&G()&&(T=E=window,C=T.document||{},nt.gsap=Li,(T.gsapVersions||(T.gsapVersions=[])).push(Li.version),rt(st||T.GreenSockGlobals||!T.gsap&&T||{}),Ce.forEach(Se)),i="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&n.sleep(),e=i||function(t){return setTimeout(t,d-1e3*n.time+1|0)},D=1,p(2))},sleep:function(){(i?cancelAnimationFrame:clearTimeout)(t),D=0,e=lt},lagSmoothing:function(t,e){a=t||1/0,c=Math.min(e||33,a)},fps:function(t){u=1e3/(t||240),d=1e3*n.time+u},add:function(t,e,i){var s=e?function(e,i,r,o){t(e,i,r,o),n.remove(s)}:t;return n.remove(t),f[i?"unshift":"push"](s),ze(),s},remove:function(t,e){~(e=f.indexOf(t))&&f.splice(e,1)&&r>=e&&r--},_listeners:f},n}(),ze=function(){return!D&&Ne.wake()},Fe={},Ve=/^[\d.\-M][\d.\-,\s]/,Be=/["']/g,Ue=function(t){for(var e,i,n,s={},r=t.substr(1,t.length-3).split(":"),o=r[0],a=1,c=r.length;a<c;a++)i=r[a],e=a!==c-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),s[o]=isNaN(n)?n.replace(Be,"").trim():+n,o=i.substr(e+1).trim();return s},je=function(t){return function(e){return 1-t(1-e)}},qe=function t(e,i){for(var n,s=e._first;s;)s instanceof Ye?t(s,i):!s.vars.yoyoEase||s._yoyo&&s._repeat||s._yoyo===i||(s.timeline?t(s.timeline,i):(n=s._ease,s._ease=s._yEase,s._yEase=n,s._yoyo=i)),s=s._next},$e=function(t,e){return t&&(U(t)?t:Fe[t]||function(t){var e,i,n,s,r=(t+"").split("("),o=Fe[r[0]];return o&&r.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Ue(r[1])]:(e=t,i=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",i),e.substring(i,~s&&s<n?e.indexOf(")",n+1):n)).split(",").map(Mt)):Fe._CE&&Ve.test(t)?Fe._CE("",t):o}(t))||e},He=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var s,r={easeIn:e,easeOut:i,easeInOut:n};return Et(t,(function(t){for(var e in Fe[t]=nt[t]=r,Fe[s=t.toLowerCase()]=i,r)Fe[s+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Fe[t+"."+e]=r[e]})),r},Ge=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Xe=function t(e,i,n){var s=i>=1?i:1,r=(n||(e?.3:.45))/(i<1?i:1),o=r/R*(Math.asin(1/s)||0),a=function(t){return 1===t?1:s*Math.pow(2,-10*t)*V((t-o)*r)+1},c="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Ge(a);return r=R/r,c.config=function(i,n){return t(e,i,n)},c},Ke=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},s="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Ge(n);return s.config=function(i){return t(e,i)},s};Et("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;He(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn,He("Elastic",Xe("in"),Xe("out"),Xe()),function(t,e){var i=1/e,n=2*i,s=2.5*i,r=function(r){return r<i?t*r*r:r<n?t*Math.pow(r-1.5/e,2)+.75:r<s?t*(r-=2.25/e)*r+.9375:t*Math.pow(r-2.625/e,2)+.984375};He("Bounce",(function(t){return 1-r(1-t)}),r)}(7.5625,2.75),He("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),He("Circ",(function(t){return-(z(1-t*t)-1)})),He("Sine",(function(t){return 1===t?1:1-F(t*L)})),He("Back",Ke("in"),Ke("out"),Ke()),Fe.SteppedEase=Fe.steps=nt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),s=e?1:0;return function(t){return((n*ae(0,.99999999,t)|0)+s)*i}}},M.ease=Fe["quad.out"],Et("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return wt+=t+","+t+"Params,"}));var We=function(t,e){this.id=N++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Tt,this.set=e?e.getSetter:fi},Qe=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ee(this,+t.duration,1,1),this.data=t.data,b&&(this._ctx=b,b.data.push(this)),D||Ne.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,ee(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(ze(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Kt(this,t),!i._dp||i.parent||Wt(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Qt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===P||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),At(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+$t(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+$t(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Ht(this._tTime,i)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var i=this.parent&&this._ts?Gt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(ae(-Math.abs(this._delay),this._tDur,i),!1!==e),Xt(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ze(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==P&&(this._tTime-=P)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Qt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(H(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=dt);var e=w;return w=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),w=e,this},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,ie(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,ie(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(se(this,t),H(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,H(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-P))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(i){var n=U(t)?t:Ot,s=function(){var t=e.then;e.then=null,U(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?s():e._prom=s}))},e.kill=function(){Ee(this)},t}();Pt(Qe.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ye=function(t){function e(e,i){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=H(e.sortChildren),x&&Qt(e.parent||x,v(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&Yt(v(n),e.scrollTrigger),n}y(e,t);var i=e.prototype;return i.to=function(t,e,i){return re(0,arguments,this),this},i.from=function(t,e,i){return re(1,arguments,this),this},i.fromTo=function(t,e,i,n){return re(2,arguments,this),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,zt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ci(t,e,se(this,i),1),this},i.call=function(t,e,i){return Qt(this,ci.delayedCall(0,t,e),i)},i.staggerTo=function(t,e,i,n,s,r,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=r,i.onCompleteParams=o,i.parent=this,new ci(t,i,se(this,s)),this},i.staggerFrom=function(t,e,i,n,s,r,o){return i.runBackwards=1,zt(i).immediateRender=H(i.immediateRender),this.staggerTo(t,e,i,n,s,r,o)},i.staggerFromTo=function(t,e,i,n,s,r,o,a){return n.startAt=i,zt(n).immediateRender=H(n.immediateRender),this.staggerTo(t,e,n,s,r,o,a)},i.render=function(t,e,i){var n,s,r,o,a,c,l,h,u,d,f,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=t<=0?0:St(t),_=this._zTime<0!=t<0&&(this._initted||!v);if(this!==x&&y>m&&t>=0&&(y=m),y!==this._tTime||i||_){if(g!==this._time&&v&&(y+=this._time-g,t+=this._time-g),n=y,u=this._start,c=!(h=this._ts),_&&(v||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,i);if(n=St(y%a),y===m?(o=this._repeat,n=v):((o=~~(y/a))&&o===y/a&&(n=v,o--),n>v&&(n=v)),d=Ht(this._tTime,a),!g&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(n=v-n,p=1),o!==d&&!this._lock){var b=f&&1&d,T=b===(f&&1&o);if(o<d&&(b=!b),g=b?0:y%v?v:y,this._lock=1,this.render(g||(p?0:St(o*a)),e,!v)._lock=0,this._tTime=y,!e&&this.parent&&Te(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,T&&(this._lock=2,g=b?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;qe(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,St(g),St(n)),l&&(y-=n-(n=l._start))),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&!o&&(Te(this,"onStart"),this._tTime!==y))return this;if(n>=g&&t>=0)for(s=this._first;s;){if(r=s._next,(s._act||n>=s._start)&&s._ts&&l!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(n-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(n-s._start)*s._ts,e,i),n!==this._time||!this._ts&&!c){l=0,r&&(y+=this._zTime=-1e-8);break}}s=r}else{s=this._last;for(var E=t<0?t:n;s;){if(r=s._prev,(s._act||E<=s._end)&&s._ts&&l!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(E-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(E-s._start)*s._ts,e,i||w&&(s._initted||s._startAt)),n!==this._time||!this._ts&&!c){l=0,r&&(y+=this._zTime=E?-1e-8:P);break}}s=r}}if(l&&!e&&(this.pause(),l.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=u,Xt(this),this.render(t,e,i);this._onUpdate&&!e&&Te(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&g)&&(u!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!v)&&(y===m&&this._ts>0||!y&&this._ts<0)&&Bt(this,1),e||t<0&&!g||!y&&!g&&m||(Te(this,y===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(j(e)||(e=se(this,e,t)),!(t instanceof Qe)){if(W(t))return t.forEach((function(t){return i.add(t,e)})),this;if(B(t))return this.addLabel(t,e);if(!U(t))return this;t=ci.delayedCall(0,t)}return this!==t?Qt(this,t,e):this},i.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-O);for(var s=[],r=this._first;r;)r._start>=n&&(r instanceof ci?e&&s.push(r):(i&&s.push(r),t&&s.push.apply(s,r.getChildren(!0,e,i)))),r=r._next;return s},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return B(t)?this.removeLabel(t):U(t)?this.killTweensOf(t):(Vt(this,t),t===this._recent&&(this._recent=this._last),Ut(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=St(Ne.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=se(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var n=ci.delayedCall(0,e||lt,i);return n.data="isPause",this._hasPause=1,Qt(this,n,se(this,t))},i.removePause=function(t){var e=this._first;for(t=se(this,t);e;)e._start===t&&"isPause"===e.data&&Bt(e),e=e._next},i.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),s=n.length;s--;)Je!==n[s]&&n[s].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,n=[],s=de(t),r=this._first,o=j(e);r;)r instanceof ci?It(r._targets,s)&&(o?(!Je||r._initted&&r._ts)&&r.globalTime(0)<=e&&r.globalTime(r.totalDuration())>e:!e||r.isActive())&&n.push(r):(i=r.getTweensOf(s,e)).length&&n.push.apply(n,i),r=r._next;return n},i.tweenTo=function(t,e){e=e||{};var i,n=this,s=se(n,t),r=e,o=r.startAt,a=r.onStart,c=r.onStartParams,l=r.immediateRender,h=ci.to(n,Pt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:e.duration||Math.abs((s-(o&&"time"in o?o.time:n._time))/n.timeScale())||P,onStart:function(){if(n.pause(),!i){var t=e.duration||Math.abs((s-(o&&"time"in o?o.time:n._time))/n.timeScale());h._dur!==t&&ee(h,t,0,1).render(h._time,!0,!0),i=1}a&&a.apply(h,c||[])}},e));return l?h.render(0):h},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Pt({startAt:{time:se(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),xe(this,se(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),xe(this,se(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+P)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,s=this._first,r=this.labels;s;)s._start>=i&&(s._start+=t,s._end+=t),s=s._next;if(e)for(n in r)r[n]>=i&&(r[n]+=t);return Ut(this)},i.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ut(this)},i.totalDuration=function(t){var e,i,n,s=0,r=this,o=r._last,a=O;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-t:t));if(r._dirty){for(n=r.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(i=o._start)>a&&r._sort&&o._ts&&!r._lock?(r._lock=1,Qt(r,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(s-=i,(!n&&!r._dp||n&&n.smoothChildTiming)&&(r._start+=i/r._ts,r._time-=i,r._tTime-=i),r.shiftChildren(-i,!1,-Infinity),a=0),o._end>s&&o._ts&&(s=o._end),o=e;ee(r,r===x&&r._time>s?r._time:s,1,1),r._dirty=0}return r._tDur},e.updateRoot=function(t){if(x._ts&&(At(x,Gt(t,x)),k=Ne.frame),Ne.frame>=yt){yt+=A.autoSleep||120;var e=x._first;if((!e||!e._ts)&&A.autoSleep&&Ne._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ne.sleep()}}},e}(Qe);Pt(Ye.prototype,{_lock:0,_hasPause:0,_forcing:0});var Je,Ze,ti=function(t,e,i,n,s,r,o){var a,c,l,h,u,d,f,p,g=new xi(this._pt,t,e,0,1,mi,null,s),m=0,v=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=we(n)),r&&(r(p=[i,n],t,e),i=p[0],n=p[1]),c=i.match(Z)||[];a=Z.exec(n);)h=a[0],u=n.substring(m,a.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),h!==c[v++]&&(d=parseFloat(c[v-1])||0,g._pt={_next:g._pt,p:u||1===v?u:",",s:d,c:"="===h.charAt(1)?kt(d,h)-d:parseFloat(h)-d,m:l&&l<4?Math.round:0},m=Z.lastIndex);return g.c=m<n.length?n.substring(m,n.length):"",g.fp=o,(tt.test(n)||f)&&(g.e=0),this._pt=g,g},ei=function(t,e,i,n,s,r,o,a,c,l){U(n)&&(n=n(s||0,t,r));var h,u=t[e],d="get"!==i?i:U(u)?c?t[e.indexOf("set")||!U(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,f=U(u)?c?ui:hi:li;if(B(n)&&(~n.indexOf("random(")&&(n=we(n)),"="===n.charAt(1)&&((h=kt(d,n)+(ce(d)||0))||0===h)&&(n=h)),!l||d!==n||Ze)return isNaN(d*n)||""===n?(!u&&!(e in t)&&ot(e,n),ti.call(this,t,e,d,n,f,a||A.stringFilter,c)):(h=new xi(this._pt,t,e,+d||0,n-(d||0),"boolean"==typeof u?gi:pi,0,f),c&&(h.fp=c),o&&h.modifier(o,this,t),this._pt=h)},ii=function(t,e,i,n,s,r){var o,a,c,l;if(mt[t]&&!1!==(o=new mt[t]).init(s,o.rawVars?e[t]:function(t,e,i,n,s){if(U(t)&&(t=ri(t,s,e,i,n)),!$(t)||t.style&&t.nodeType||W(t)||K(t))return B(t)?ri(t,s,e,i,n):t;var r,o={};for(r in t)o[r]=ri(t[r],s,e,i,n);return o}(e[t],n,s,r,i),i,n,r)&&(i._pt=a=new xi(i._pt,s,t,0,1,o.render,o,0,o.priority),i!==I))for(c=i._ptLookup[i._targets.indexOf(s)],l=o._props.length;l--;)c[o._props[l]]=a;return o},ni=function t(e,i,n){var s,r,o,a,c,l,h,u,d,f,p,g,m,v=e.vars,y=v.ease,b=v.startAt,T=v.immediateRender,E=v.lazy,C=v.onUpdate,S=v.runBackwards,k=v.yoyoEase,I=v.keyframes,D=v.autoRevert,A=e._dur,R=e._startAt,L=e._targets,N=e.parent,z=N&&"nested"===N.data?N.vars.targets:L,F="auto"===e._overwrite&&!_,V=e.timeline;if(V&&(!I||!y)&&(y="none"),e._ease=$e(y,M.ease),e._yEase=k?je($e(!0===k?y:k,M.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),e._from=!V&&!!v.runBackwards,!V||I&&!v.stagger){if(g=(u=L[0]?xt(L[0]).harness:0)&&v[u.prop],s=Nt(v,ft),R&&(R._zTime<0&&R.progress(1),i<0&&S&&T&&!D?R.render(-1,!0):R.revert(S&&A?ut:ht),R._lazy=0),b){if(Bt(e._startAt=ci.set(L,Pt({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!R&&H(E),startAt:null,delay:0,onUpdate:C&&function(){return Te(e,"onUpdate")},stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(w||!T&&!D)&&e._startAt.revert(ut),T&&A&&i<=0&&n<=0)return void(i&&(e._zTime=i))}else if(S&&A&&!R)if(i&&(T=!1),o=Pt({overwrite:!1,data:"isFromStart",lazy:T&&!R&&H(E),immediateRender:T,stagger:0,parent:N},s),g&&(o[u.prop]=g),Bt(e._startAt=ci.set(L,o)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(w?e._startAt.revert(ut):e._startAt.render(-1,!0)),e._zTime=i,T){if(!i)return}else t(e._startAt,P,P);for(e._pt=e._ptCache=0,E=A&&H(E)||E&&!A,r=0;r<L.length;r++){if(h=(c=L[r])._gsap||bt(L)[r]._gsap,e._ptLookup[r]=f={},gt[h.id]&&pt.length&&Dt(),p=z===L?r:z.indexOf(c),u&&!1!==(d=new u).init(c,g||s,e,p,z)&&(e._pt=a=new xi(e._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){f[t]=a})),d.priority&&(l=1)),!u||g)for(o in s)mt[o]&&(d=ii(o,s,e,p,c,z))?d.priority&&(l=1):f[o]=a=ei.call(e,c,o,"get",s[o],p,z,0,v.stringFilter);e._op&&e._op[r]&&e.kill(c,e._op[r]),F&&e._pt&&(Je=e,x.killTweensOf(c,f,e.globalTime(i)),m=!e.parent,Je=0),e._pt&&E&&(gt[h.id]=1)}l&&bi(e),e._onInit&&e._onInit(e)}e._onUpdate=C,e._initted=(!e._op||e._pt)&&!m,I&&i<=0&&V.render(O,!0,!0)},si=function(t,e,i,n){var s,r,o=e.ease||n||"power1.inOut";if(W(e))r=i[t]||(i[t]=[]),e.forEach((function(t,i){return r.push({t:i/(e.length-1)*100,v:t,e:o})}));else for(s in e)r=i[s]||(i[s]=[]),"ease"===s||r.push({t:parseFloat(t),v:e[s],e:o})},ri=function(t,e,i,n,s){return U(t)?t.call(e,i,n,s):B(t)&&~t.indexOf("random(")?we(t):t},oi=wt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ai={};Et(oi+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return ai[t]=1}));var ci=function(t){function e(e,i,n,s){var r;"number"==typeof i&&(n.duration=i,i=n,n=null);var o,a,c,l,h,u,d,f,p=(r=t.call(this,s?i:zt(i))||this).vars,g=p.duration,m=p.delay,y=p.immediateRender,w=p.stagger,b=p.overwrite,T=p.keyframes,E=p.defaults,C=p.scrollTrigger,S=p.yoyoEase,k=i.parent||x,I=(W(e)||K(e)?j(e[0]):"length"in i)?[e]:de(e);if(r._targets=I.length?bt(I):at("GSAP target "+e+" not found. https://gsap.com",!A.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=b,T||w||X(g)||X(m)){if(i=r.vars,(o=r.timeline=new Ye({data:"nested",defaults:E||{},targets:k&&"nested"===k.data?k.vars.targets:I})).kill(),o.parent=o._dp=v(r),o._start=0,w||X(g)||X(m)){if(l=I.length,d=w&&ge(w),$(w))for(h in w)~oi.indexOf(h)&&(f||(f={}),f[h]=w[h]);for(a=0;a<l;a++)(c=Nt(i,ai)).stagger=0,S&&(c.yoyoEase=S),f&&Rt(c,f),u=I[a],c.duration=+ri(g,v(r),a,u,I),c.delay=(+ri(m,v(r),a,u,I)||0)-r._delay,!w&&1===l&&c.delay&&(r._delay=m=c.delay,r._start+=m,c.delay=0),o.to(u,c,d?d(a,u,I):0),o._ease=Fe.none;o.duration()?g=m=0:r.timeline=0}else if(T){zt(Pt(o.vars.defaults,{ease:"none"})),o._ease=$e(T.ease||i.ease||"none");var D,M,O,P=0;if(W(T))T.forEach((function(t){return o.to(I,t,">")})),o.duration();else{for(h in c={},T)"ease"===h||"easeEach"===h||si(h,T[h],c,T.easeEach);for(h in c)for(D=c[h].sort((function(t,e){return t.t-e.t})),P=0,a=0;a<D.length;a++)(O={ease:(M=D[a]).e,duration:(M.t-(a?D[a-1].t:0))/100*g})[h]=M.v,o.to(I,O,P),P+=O.duration;o.duration()<g&&o.to({},{duration:g-o.duration()})}}g||r.duration(g=o.duration())}else r.timeline=0;return!0!==b||_||(Je=v(r),x.killTweensOf(I),Je=0),Qt(k,v(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),(y||!g&&!T&&r._start===St(k._time)&&H(y)&&qt(v(r))&&"nested"!==k.data)&&(r._tTime=-1e-8,r.render(Math.max(0,-m)||0)),C&&Yt(v(r),C),r}y(e,t);var i=e.prototype;return i.render=function(t,e,i){var n,s,r,o,a,c,l,h,u,d=this._time,f=this._tDur,p=this._dur,g=t<0,m=t>f-P&&!g?f:t<P?0:t;if(p){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(n=m,h=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+t,e,i);if(n=St(m%o),m===f?(r=this._repeat,n=p):((r=~~(m/o))&&r===St(m/o)&&(n=p,r--),n>p&&(n=p)),(c=this._yoyo&&1&r)&&(u=this._yEase,n=p-n),a=Ht(this._tTime,o),n===d&&!i&&this._initted&&r===a)return this._tTime=m,this;r!==a&&(h&&this._yEase&&qe(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==o&&this._initted&&(this._lock=i=1,this.render(St(o*r),!0).invalidate()._lock=0))}if(!this._initted){if(Jt(this,g?t:n,i,e,m))return this._tTime=0,this;if(!(d===this._time||i&&this.vars.repeatRefresh&&r!==a))return this;if(p!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(u||this._ease)(n/p),this._from&&(this.ratio=l=1-l),n&&!d&&!e&&!r&&(Te(this,"onStart"),this._tTime!==m))return this;for(s=this._pt;s;)s.r(l,s.d),s=s._next;h&&h.render(t<0?t:h._dur*h._ease(n/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&jt(this,t,0,i),Te(this,"onUpdate")),this._repeat&&r!==a&&this.vars.onRepeat&&!e&&this.parent&&Te(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&jt(this,t,0,!0),(t||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Bt(this,1),e||g&&!d||!(m||d||c)||(Te(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,n){var s,r,o,a=t.ratio,c=e<0||!e&&(!t._start&&Zt(t)&&(t._initted||!te(t))||(t._ts<0||t._dp._ts<0)&&!te(t))?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=ae(0,t._tDur,e),r=Ht(h,l),t._yoyo&&1&r&&(c=1-c),r!==Ht(t._tTime,l)&&(a=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==a||w||n||t._zTime===P||!e&&t._zTime){if(!t._initted&&Jt(t,e,n,i,h))return;for(o=t._zTime,t._zTime=e||(i?P:0),i||(i=e&&!o),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,s=t._pt;s;)s.r(c,s.d),s=s._next;e<0&&jt(t,e,0,!0),t._onUpdate&&!i&&Te(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&Te(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Bt(t,1),i||w||(Te(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},i.resetTo=function(t,e,i,n,s){D||Ne.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ni(this,r),function(t,e,i,n,s,r,o,a){var c,l,h,u,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],h=t._ptLookup,u=t._targets.length;u--;){if((c=h[u][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return Ze=1,t.vars[e]="+=0",ni(t,o),Ze=0,a?at(e+" not eligible for reset"):1;d.push(c)}for(u=d.length;u--;)(c=(l=d[u])._pt||l).s=!n&&0!==n||s?c.s+(n||0)+r*c.c:n,c.c=i-c.s,l.e&&(l.e=Ct(i)+ce(l.e)),l.b&&(l.b=c.s+ce(l.b))}(this,t,e,i,n,this._ease(r/this._dur),r,s)?this.resetTo(t,e,i,n,1):(Kt(this,0),this.parent||Ft(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Ee(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Je&&!0!==Je.vars.overwrite)._first||Ee(this),this.parent&&i!==this.timeline.totalDuration()&&ee(this,this._dur*this.timeline._tDur/i,0,1),this}var n,s,r,o,a,c,l,h=this._targets,u=t?de(t):h,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(h,u))return"all"===e&&(this._pt=0),Ee(this);for(n=this._op=this._op||[],"all"!==e&&(B(e)&&(a={},Et(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var i,n,s,r,o=t[0]?xt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in i=Rt({},e),a)if(n in i)for(s=(r=a[n].split(",")).length;s--;)i[r[s]]=i[n];return i}(h,e)),l=h.length;l--;)if(~u.indexOf(h[l]))for(a in s=d[l],"all"===e?(n[l]=e,o=s,r={}):(r=n[l]=n[l]||{},o=e),o)(c=s&&s[a])&&("kill"in c.d&&!0!==c.d.kill(a)||Vt(this,c,"_pt"),delete s[a]),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&f&&Ee(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,e){return re(1,arguments)},e.delayedCall=function(t,i,n,s){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:s})},e.fromTo=function(t,e,i){return re(2,arguments)},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return x.killTweensOf(t,e,i)},e}(Qe);Pt(ci.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Et("staggerTo,staggerFrom,staggerFromTo",(function(t){ci[t]=function(){var e=new Ye,i=le.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var li=function(t,e,i){return t[e]=i},hi=function(t,e,i){return t[e](i)},ui=function(t,e,i,n){return t[e](n.fp,i)},di=function(t,e,i){return t.setAttribute(e,i)},fi=function(t,e){return U(t[e])?hi:q(t[e])&&t.setAttribute?di:li},pi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},gi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},mi=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},vi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},yi=function(t,e,i,n){for(var s,r=this._pt;r;)s=r._next,r.p===n&&r.modifier(t,e,i),r=s},_i=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?Vt(this,n,"_pt"):n.dep||(e=1),n=i;return!e},wi=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},bi=function(t){for(var e,i,n,s,r=t._pt;r;){for(e=r._next,i=n;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:s)?r._prev._next=r:n=r,(r._next=i)?i._prev=r:s=r,r=e}t._pt=n},xi=function(){function t(t,e,i,n,s,r,o,a,c){this.t=e,this.s=n,this.c=s,this.p=i,this.r=r||pi,this.d=o||this,this.set=a||li,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=wi,this.m=t,this.mt=i,this.tween=e},t}();Et(wt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ft[t]=1})),nt.TweenMax=nt.TweenLite=ci,nt.TimelineLite=nt.TimelineMax=Ye,x=new Ye({sortChildren:!1,defaults:M,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),A.stringFilter=Le;var Ti=[],Ei={},Ci=[],Si=0,ki=0,Ii=function(t){return(Ei[t]||Ci).map((function(t){return t()}))},Di=function(){var t=Date.now(),e=[];t-Si>2&&(Ii("matchMediaInit"),Ti.forEach((function(t){var i,n,s,r,o=t.queries,a=t.conditions;for(n in o)(i=T.matchMedia(o[n]).matches)&&(s=1),i!==a[n]&&(a[n]=i,r=1);r&&(t.revert(),s&&e.push(t))})),Ii("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Si=t,Ii("matchMedia"))},Ai=function(){function t(t,e){this.selector=e&&fe(e),this.data=[],this._r=[],this.isReverted=!1,this.id=ki++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,i){U(t)&&(i=e,e=t,t=U);var n=this,s=function(){var t,s=b,r=n.selector;return s&&s!==n&&s.data.push(n),i&&(n.selector=fe(i)),b=n,t=e.apply(n,arguments),U(t)&&n._r.push(t),b=s,n.selector=r,n.isReverted=!1,t};return n.last=s,t===U?s(n,(function(t){return n.add(null,t)})):t?n[t]=s:s},e.ignore=function(t){var e=b;b=null,t(this),b=e},e.getTweens=function(){var e=[];return this.data.forEach((function(i){return i instanceof t?e.push.apply(e,i.getTweens()):i instanceof ci&&!(i.parent&&"nested"===i.parent.data)&&e.push(i)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var i=this;if(t?function(){for(var e,n=i.getTweens(),s=i.data.length;s--;)"isFlip"===(e=i.data[s]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),s=i.data.length;s--;)(e=i.data[s])instanceof Ye?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof ci)&&e.revert&&e.revert(t);i._r.forEach((function(e){return e(t,i)})),i.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=Ti.length;n--;)Ti[n].id===this.id&&Ti.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),Mi=function(){function t(t){this.contexts=[],this.scope=t,b&&b.data.push(this)}var e=t.prototype;return e.add=function(t,e,i){$(t)||(t={matches:t});var n,s,r,o=new Ai(0,i||this.scope),a=o.conditions={};for(s in b&&!o.selector&&(o.selector=b.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t,t)"all"===s?r=1:(n=T.matchMedia(t[s]))&&(Ti.indexOf(o)<0&&Ti.push(o),(a[s]=n.matches)&&(r=1),n.addListener?n.addListener(Di):n.addEventListener("change",Di));return r&&e(o,(function(t){return o.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Oi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return Se(t)}))},timeline:function(t){return new Ye(t)},getTweensOf:function(t,e){return x.getTweensOf(t,e)},getProperty:function(t,e,i,n){B(t)&&(t=de(t)[0]);var s=xt(t||{}).get,r=i?Ot:Mt;return"native"===i&&(i=""),t?e?r((mt[e]&&mt[e].get||s)(t,e,i,n)):function(e,i,n){return r((mt[e]&&mt[e].get||s)(t,e,i,n))}:t},quickSetter:function(t,e,i){if((t=de(t)).length>1){var n=t.map((function(t){return Li.quickSetter(t,e,i)})),s=n.length;return function(t){for(var e=s;e--;)n[e](t)}}t=t[0]||{};var r=mt[e],o=xt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,c=r?function(e){var n=new r;I._pt=0,n.init(t,i?e+i:e,I,0,[t]),n.render(1,n),I._pt&&vi(1,I)}:o.set(t,a);return r?c:function(e){return c(t,a,i?e+i:e,o,1)}},quickTo:function(t,e,i){var n,s=Li.to(t,Rt(((n={})[e]="+=0.1",n.paused=!0,n),i||{})),r=function(t,i,n){return s.resetTo(e,t,i,n)};return r.tween=s,r},isTweening:function(t){return x.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$e(t.ease,M.ease)),Lt(M,t||{})},config:function(t){return Lt(A,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,s=t.defaults,r=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!mt[t]&&!nt[t]&&at(e+" effect requires "+t+" plugin.")})),vt[e]=function(t,e,n){return i(de(t),Pt(e||{},s),n)},r&&(Ye.prototype[e]=function(t,i,n){return this.add(vt[e](t,$(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){Fe[t]=$e(e)},parseEase:function(t,e){return arguments.length?$e(t,e):Fe},getById:function(t){return x.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,s=new Ye(t);for(s.smoothChildTiming=H(t.smoothChildTiming),x.remove(s),s._dp=0,s._time=s._tTime=x._time,i=x._first;i;)n=i._next,!e&&!i._dur&&i instanceof ci&&i.vars.onComplete===i._targets[0]||Qt(s,i,i._start-i._delay),i=n;return Qt(x,s,0),s},context:function(t,e){return t?new Ai(t,e):b},matchMedia:function(t){return new Mi(t)},matchMediaRefresh:function(){return Ti.forEach((function(t){var e,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,e=1);e&&t.revert()}))||Di()},addEventListener:function(t,e){var i=Ei[t]||(Ei[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ei[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:function t(e,i,n){var s=i-e;return W(e)?_e(e,t(0,e.length),i):oe(n,(function(t){return(s+(t-e)%s)%s+e}))},wrapYoyo:function t(e,i,n){var s=i-e,r=2*s;return W(e)?_e(e,t(0,e.length-1),i):oe(n,(function(t){return e+((t=(r+(t-e)%r)%r||0)>s?r-t:t)}))},distribute:ge,random:ye,snap:ve,normalize:function(t,e,i){return be(t,e,0,1,i)},getUnit:ce,clamp:function(t,e,i){return oe(i,(function(i){return ae(t,e,i)}))},splitColor:Ae,toArray:de,selector:fe,mapRange:be,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ce(i))}},interpolate:function t(e,i,n,s){var r=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!r){var o,a,c,l,h,u=B(e),d={};if(!0===n&&(s=1)&&(n=null),u)e={p:e},i={p:i};else if(W(e)&&!W(i)){for(c=[],l=e.length,h=l-2,a=1;a<l;a++)c.push(t(e[a-1],e[a]));l--,r=function(t){t*=l;var e=Math.min(h,~~t);return c[e](t-e)},n=i}else s||(e=Rt(W(e)?[]:{},e));if(!c){for(o in i)ei.call(d,e,o,"get",i[o]);r=function(t){return vi(t,d)||(u?e.p:e)}}}return oe(n,r)},shuffle:pe},install:rt,effects:vt,ticker:Ne,updateRoot:Ye.updateRoot,plugins:mt,globalTimeline:x,core:{PropTween:xi,globals:ct,Tween:ci,Timeline:Ye,Animation:Qe,getCache:xt,_removeLinkedListItem:Vt,reverting:function(){return w},context:function(t){return t&&b&&(b.data.push(t),t._ctx=b),b},suppressOverwrites:function(t){return _=t}}};Et("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Oi[t]=ci[t]})),Ne.add(Ye.updateRoot),I=Oi.to({},{duration:0});var Pi=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Ri=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,s;if(B(i)&&(n={},Et(i,(function(t){return n[t]=1})),i=n),e){for(s in n={},i)n[s]=e(i[s]);i=n}!function(t,e){var i,n,s,r=t._targets;for(i in e)for(n=r.length;n--;)(s=t._ptLookup[n][i])&&(s=s.d)&&(s._pt&&(s=Pi(s,i)),s&&s.modifier&&s.modifier(e[i],t,r[n],i))}(t,i)}}}},Li=Oi.registerPlugin({name:"attr",init:function(t,e,i,n,s){var r,o,a;for(r in this.tween=i,e)a=t.getAttribute(r)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[r],n,s,0,0,r)).op=r,o.b=a,this._props.push(r)},render:function(t,e){for(var i=e._pt;i;)w?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Ri("roundProps",me),Ri("modifiers"),Ri("snap",ve))||Oi;ci.version=Ye.version=Li.version="3.12.5",S=1,G()&&ze();Fe.Power0,Fe.Power1,Fe.Power2,Fe.Power3,Fe.Power4,Fe.Linear,Fe.Quad,Fe.Cubic,Fe.Quart,Fe.Quint,Fe.Strong,Fe.Elastic,Fe.Back,Fe.SteppedEase,Fe.Bounce,Fe.Sine,Fe.Expo,Fe.Circ;var Ni,zi,Fi,Vi,Bi,Ui,ji,qi,$i={},Hi=180/Math.PI,Gi=Math.PI/180,Xi=Math.atan2,Ki=/([A-Z])/g,Wi=/(left|right|width|margin|padding|x)/i,Qi=/[\s,\(]\S/,Yi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ji=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Zi=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},tn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},en=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},nn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},sn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},rn=function(t,e,i){return t.style[e]=i},on=function(t,e,i){return t.style.setProperty(e,i)},an=function(t,e,i){return t._gsap[e]=i},cn=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},ln=function(t,e,i,n,s){var r=t._gsap;r.scaleX=r.scaleY=i,r.renderTransform(s,r)},hn=function(t,e,i,n,s){var r=t._gsap;r[e]=i,r.renderTransform(s,r)},un="transform",dn=un+"Origin",fn=function t(e,i){var n=this,s=this.target,r=s.style,o=s._gsap;if(e in $i&&r){if(this.tfm=this.tfm||{},"transform"===e)return Yi.transform.split(",").forEach((function(e){return t.call(n,e,i)}));if(~(e=Yi[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=Mn(s,t)})):this.tfm[e]=o.x?o[e]:Mn(s,e),e===dn&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(un)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(dn,i,"")),e=un}(r||i)&&this.props.push(e,i,r[e])},pn=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},gn=function(){var t,e,i=this.props,n=this.target,s=n.style,r=n._gsap;for(t=0;t<i.length;t+=3)i[t+1]?n[i[t]]=i[t+2]:i[t+2]?s[i[t]]=i[t+2]:s.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(Ki,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)r[e]=this.tfm[e];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=ji())&&t.isStart||s[un]||(pn(s),r.zOrigin&&s[dn]&&(s[dn]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},mn=function(t,e){var i={target:t,props:[],revert:gn,save:fn};return t._gsap||Li.core.getCache(t),e&&e.split(",").forEach((function(t){return i.save(t)})),i},vn=function(t,e){var i=zi.createElementNS?zi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):zi.createElement(t);return i&&i.style?i:zi.createElement(t)},yn=function t(e,i,n){var s=getComputedStyle(e);return s[i]||s.getPropertyValue(i.replace(Ki,"-$1").toLowerCase())||s.getPropertyValue(i)||!n&&t(e,wn(i)||i,1)||""},_n="O,Moz,ms,Ms,Webkit".split(","),wn=function(t,e,i){var n=(e||Bi).style,s=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(_n[s]+t in n););return s<0?null:(3===s?"ms":s>=0?_n[s]:"")+t},bn=function(){"undefined"!=typeof window&&window.document&&(Ni=window,zi=Ni.document,Fi=zi.documentElement,Bi=vn("div")||{style:{}},vn("div"),un=wn(un),dn=un+"Origin",Bi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",qi=!!wn("perspective"),ji=Li.core.reverting,Vi=1)},xn=function t(e){var i,n=vn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Fi.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return s&&(r?s.insertBefore(this,r):s.appendChild(this)),Fi.removeChild(n),this.style.cssText=o,i},Tn=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},En=function(t){var e;try{e=t.getBBox()}catch(i){e=xn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===xn||(e=xn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Tn(t,["x","cx","x1"])||0,y:+Tn(t,["y","cy","y1"])||0,width:0,height:0}},Cn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!En(t))},Sn=function(t,e){if(e){var i,n=t.style;e in $i&&e!==dn&&(e=un),n.removeProperty?("ms"!==(i=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===i?e:e.replace(Ki,"-$1").toLowerCase())):n.removeAttribute(e)}},kn=function(t,e,i,n,s,r){var o=new xi(t._pt,e,i,0,1,r?sn:nn);return t._pt=o,o.b=n,o.e=s,t._props.push(i),o},In={deg:1,rad:1,turn:1},Dn={grid:1,flex:1},An=function t(e,i,n,s){var r,o,a,c,l=parseFloat(n)||0,h=(n+"").trim().substr((l+"").length)||"px",u=Bi.style,d=Wi.test(i),f="svg"===e.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===s,v="%"===s;if(s===h||!l||In[s]||In[h])return l;if("px"!==h&&!m&&(l=t(e,i,n,"px")),c=e.getCTM&&Cn(e),(v||"%"===h)&&($i[i]||~i.indexOf("adius")))return r=c?e.getBBox()[d?"width":"height"]:e[p],Ct(v?l/r*g:l/100*r);if(u[d?"width":"height"]=g+(m?h:s),o=~i.indexOf("adius")||"em"===s&&e.appendChild&&!f?e:e.parentNode,c&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==zi&&o.appendChild||(o=zi.body),(a=o._gsap)&&v&&a.width&&d&&a.time===Ne.time&&!a.uncache)return Ct(l/a.width*g);if(!v||"height"!==i&&"width"!==i)(v||"%"===h)&&!Dn[yn(o,"display")]&&(u.position=yn(e,"position")),o===e&&(u.position="static"),o.appendChild(Bi),r=Bi[p],o.removeChild(Bi),u.position="absolute";else{var y=e.style[i];e.style[i]=g+s,r=e[p],y?e.style[i]=y:Sn(e,i)}return d&&v&&((a=xt(o)).time=Ne.time,a.width=o[p]),Ct(m?r*l/g:r&&l?g/r*l:0)},Mn=function(t,e,i,n){var s;return Vi||bn(),e in Yi&&"transform"!==e&&~(e=Yi[e]).indexOf(",")&&(e=e.split(",")[0]),$i[e]&&"transform"!==e?(s=qn(t,n),s="transformOrigin"!==e?s[e]:s.svg?s.origin:$n(yn(t,dn))+" "+s.zOrigin+"px"):(!(s=t.style[e])||"auto"===s||n||~(s+"").indexOf("calc("))&&(s=Nn[e]&&Nn[e](t,e,i)||yn(t,e)||Tt(t,e)||("opacity"===e?1:0)),i&&!~(s+"").trim().indexOf(" ")?An(t,e,s,i)+i:s},On=function(t,e,i,n){if(!i||"none"===i){var s=wn(e,t,1),r=s&&yn(t,s,1);r&&r!==i?(e=s,i=r):"borderColor"===e&&(i=yn(t,"borderTopColor"))}var o,a,c,l,h,u,d,f,p,g,m,v=new xi(this._pt,t.style,e,0,1,mi),y=0,_=0;if(v.b=i,v.e=n,i+="","auto"===(n+="")&&(u=t.style[e],t.style[e]=n,n=yn(t,e)||n,u?t.style[e]=u:Sn(t,e)),Le(o=[i,n]),n=o[1],c=(i=o[0]).match(J)||[],(n.match(J)||[]).length){for(;a=J.exec(n);)d=a[0],p=n.substring(y,a.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),d!==(u=c[_++]||"")&&(l=parseFloat(u)||0,m=u.substr((l+"").length),"="===d.charAt(1)&&(d=kt(l,d)+m),f=parseFloat(d),g=d.substr((f+"").length),y=J.lastIndex-g.length,g||(g=g||A.units[e]||m,y===n.length&&(n+=g,v.e+=g)),m!==g&&(l=An(t,e,u,g)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:l,c:f-l,m:h&&h<4||"zIndex"===e?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===e&&"none"===n?sn:nn;return tt.test(n)&&(v.e=0),this._pt=v,v},Pn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Rn=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==n&&"right"!==n||(t=i,i=n,n=t),e[0]=Pn[i]||i,e[1]=Pn[n]||n,e.join(" ")},Ln=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,s,r=e.t,o=r.style,a=e.u,c=r._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(s=(a=a.split(",")).length;--s>-1;)i=a[s],$i[i]&&(n=1,i="transformOrigin"===i?dn:un),Sn(r,i);n&&(Sn(r,un),c&&(c.svg&&r.removeAttribute("transform"),qn(r,1),c.uncache=1,pn(o)))}},Nn={clearProps:function(t,e,i,n,s){if("isFromStart"!==s.data){var r=t._pt=new xi(t._pt,e,i,0,0,Ln);return r.u=n,r.pr=-10,r.tween=s,t._props.push(i),1}}},zn=[1,0,0,1,0,0],Fn={},Vn=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Bn=function(t){var e=yn(t,un);return Vn(e)?zn:e.substr(7).match(Y).map(Ct)},Un=function(t,e){var i,n,s,r,o=t._gsap||xt(t),a=t.style,c=Bn(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(s=t.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?zn:c:(c!==zn||t.offsetParent||t===Fi||o.svg||(s=a.display,a.display="block",(i=t.parentNode)&&t.offsetParent||(r=1,n=t.nextElementSibling,Fi.appendChild(t)),c=Bn(t),s?a.display=s:Sn(t,"display"),r&&(n?i.insertBefore(t,n):i?i.appendChild(t):Fi.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},jn=function(t,e,i,n,s,r){var o,a,c,l=t._gsap,h=s||Un(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,g=h[0],m=h[1],v=h[2],y=h[3],_=h[4],w=h[5],b=e.split(" "),x=parseFloat(b[0])||0,T=parseFloat(b[1])||0;i?h!==zn&&(a=g*y-m*v)&&(c=x*(-m/a)+T*(g/a)-(g*w-m*_)/a,x=x*(y/a)+T*(-v/a)+(v*w-y*_)/a,T=c):(x=(o=En(t)).x+(~b[0].indexOf("%")?x/100*o.width:x),T=o.y+(~(b[1]||b[0]).indexOf("%")?T/100*o.height:T)),n||!1!==n&&l.smooth?(_=x-u,w=T-d,l.xOffset=f+(_*g+w*v)-_,l.yOffset=p+(_*m+w*y)-w):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=T,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!i,t.style[dn]="0px 0px",r&&(kn(r,l,"xOrigin",u,x),kn(r,l,"yOrigin",d,T),kn(r,l,"xOffset",f,l.xOffset),kn(r,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+T)},qn=function(t,e){var i=t._gsap||new We(t);if("x"in i&&!e&&!i.uncache)return i;var n,s,r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b,x,T,E,C,S,k,I,D,M,O,P,R,L,N=t.style,z=i.scaleX<0,F="px",V="deg",B=getComputedStyle(t),U=yn(t,dn)||"0";return n=s=r=c=l=h=u=d=f=0,o=a=1,i.svg=!(!t.getCTM||!Cn(t)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(N[un]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[un]?B[un]:"")),N.scale=N.rotate=N.translate="none"),m=Un(t,i.svg),i.svg&&(i.uncache?(k=t.getBBox(),U=i.xOrigin-k.x+"px "+(i.yOrigin-k.y)+"px",S=""):S=!e&&t.getAttribute("data-svg-origin"),jn(t,S||U,!!S||i.originIsAbsolute,!1!==i.smooth,m)),p=i.xOrigin||0,g=i.yOrigin||0,m!==zn&&(w=m[0],b=m[1],x=m[2],T=m[3],n=E=m[4],s=C=m[5],6===m.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(T*T+x*x),c=w||b?Xi(b,w)*Hi:0,(u=x||T?Xi(x,T)*Hi+c:0)&&(a*=Math.abs(Math.cos(u*Gi))),i.svg&&(n-=p-(p*w+g*x),s-=g-(p*b+g*T))):(L=m[6],P=m[7],D=m[8],M=m[9],O=m[10],R=m[11],n=m[12],s=m[13],r=m[14],l=(v=Xi(L,O))*Hi,v&&(S=E*(y=Math.cos(-v))+D*(_=Math.sin(-v)),k=C*y+M*_,I=L*y+O*_,D=E*-_+D*y,M=C*-_+M*y,O=L*-_+O*y,R=P*-_+R*y,E=S,C=k,L=I),h=(v=Xi(-x,O))*Hi,v&&(y=Math.cos(-v),R=T*(_=Math.sin(-v))+R*y,w=S=w*y-D*_,b=k=b*y-M*_,x=I=x*y-O*_),c=(v=Xi(b,w))*Hi,v&&(S=w*(y=Math.cos(v))+b*(_=Math.sin(v)),k=E*y+C*_,b=b*y-w*_,C=C*y-E*_,w=S,E=k),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,h=180-h),o=Ct(Math.sqrt(w*w+b*b+x*x)),a=Ct(Math.sqrt(C*C+L*L)),v=Xi(E,C),u=Math.abs(v)>2e-4?v*Hi:0,f=R?1/(R<0?-R:R):0),i.svg&&(S=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Vn(yn(t,un)),S&&t.setAttribute("transform",S))),Math.abs(u)>90&&Math.abs(u)<270&&(z?(o*=-1,u+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),e=e||i.uncache,i.x=n-((i.xPercent=n&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+F,i.y=s-((i.yPercent=s&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-s)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+F,i.z=r+F,i.scaleX=Ct(o),i.scaleY=Ct(a),i.rotation=Ct(c)+V,i.rotationX=Ct(l)+V,i.rotationY=Ct(h)+V,i.skewX=u+V,i.skewY=d+V,i.transformPerspective=f+F,(i.zOrigin=parseFloat(U.split(" ")[2])||!e&&i.zOrigin||0)&&(N[dn]=$n(U)),i.xOffset=i.yOffset=0,i.force3D=A.force3D,i.renderTransform=i.svg?Yn:qi?Qn:Gn,i.uncache=0,i},$n=function(t){return(t=t.split(" "))[0]+" "+t[1]},Hn=function(t,e,i){var n=ce(e);return Ct(parseFloat(e)+parseFloat(An(t,"x",i+"px",n)))+n},Gn=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Qn(t,e)},Xn="0deg",Kn="0px",Wn=") ",Qn=function(t,e){var i=e||this,n=i.xPercent,s=i.yPercent,r=i.x,o=i.y,a=i.z,c=i.rotation,l=i.rotationY,h=i.rotationX,u=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,m=i.force3D,v=i.target,y=i.zOrigin,_="",w="auto"===m&&t&&1!==t||!0===m;if(y&&(h!==Xn||l!==Xn)){var b,x=parseFloat(l)*Gi,T=Math.sin(x),E=Math.cos(x);x=parseFloat(h)*Gi,b=Math.cos(x),r=Hn(v,r,T*b*-y),o=Hn(v,o,-Math.sin(x)*-y),a=Hn(v,a,E*b*-y+y)}g!==Kn&&(_+="perspective("+g+Wn),(n||s)&&(_+="translate("+n+"%, "+s+"%) "),(w||r!==Kn||o!==Kn||a!==Kn)&&(_+=a!==Kn||w?"translate3d("+r+", "+o+", "+a+") ":"translate("+r+", "+o+Wn),c!==Xn&&(_+="rotate("+c+Wn),l!==Xn&&(_+="rotateY("+l+Wn),h!==Xn&&(_+="rotateX("+h+Wn),u===Xn&&d===Xn||(_+="skew("+u+", "+d+Wn),1===f&&1===p||(_+="scale("+f+", "+p+Wn),v.style[un]=_||"translate(0, 0)"},Yn=function(t,e){var i,n,s,r,o,a=e||this,c=a.xPercent,l=a.yPercent,h=a.x,u=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,w=a.xOffset,b=a.yOffset,x=a.forceCSS,T=parseFloat(h),E=parseFloat(u);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Gi,f*=Gi,i=Math.cos(d)*g,n=Math.sin(d)*g,s=Math.sin(d-f)*-m,r=Math.cos(d-f)*m,f&&(p*=Gi,o=Math.tan(f-p),s*=o=Math.sqrt(1+o*o),r*=o,p&&(o=Math.tan(p),i*=o=Math.sqrt(1+o*o),n*=o)),i=Ct(i),n=Ct(n),s=Ct(s),r=Ct(r)):(i=g,r=m,n=s=0),(T&&!~(h+"").indexOf("px")||E&&!~(u+"").indexOf("px"))&&(T=An(v,"x",h,"px"),E=An(v,"y",u,"px")),(y||_||w||b)&&(T=Ct(T+y-(y*i+_*s)+w),E=Ct(E+_-(y*n+_*r)+b)),(c||l)&&(o=v.getBBox(),T=Ct(T+c/100*o.width),E=Ct(E+l/100*o.height)),o="matrix("+i+","+n+","+s+","+r+","+T+","+E+")",v.setAttribute("transform",o),x&&(v.style[un]=o)},Jn=function(t,e,i,n,s){var r,o,a=360,c=B(s),l=parseFloat(s)*(c&&~s.indexOf("rad")?Hi:1)-n,h=n+l+"deg";return c&&("short"===(r=s.split("_")[1])&&(l%=a)!==l%180&&(l+=l<0?a:-360),"cw"===r&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===r&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),t._pt=o=new xi(t._pt,e,i,n,l,Zi),o.e=h,o.u="deg",t._props.push(i),o},Zn=function(t,e){for(var i in e)t[i]=e[i];return t},ts=function(t,e,i){var n,s,r,o,a,c,l,h=Zn({},i._gsap),u=i.style;for(s in h.svg?(r=i.getAttribute("transform"),i.setAttribute("transform",""),u[un]=e,n=qn(i,1),Sn(i,un),i.setAttribute("transform",r)):(r=getComputedStyle(i)[un],u[un]=e,n=qn(i,1),u[un]=r),$i)(r=h[s])!==(o=n[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(a=ce(r)!==(l=ce(o))?An(i,s,r,l):parseFloat(r),c=parseFloat(o),t._pt=new xi(t._pt,n,s,a,c-a,Ji),t._pt.u=l||0,t._props.push(s));Zn(n,h)};Et("padding,margin,Width,Radius",(function(t,e){var i="Top",n="Right",s="Bottom",r="Left",o=(e<3?[i,n,s,r]:[i+r,i+n,s+n,s+r]).map((function(i){return e<2?t+i:"border"+i+t}));Nn[e>1?"border"+t:t]=function(t,e,i,n,s){var r,a;if(arguments.length<4)return r=o.map((function(e){return Mn(t,e,i)})),5===(a=r.join(" ")).split(r[0]).length?r[0]:a;r=(n+"").split(" "),a={},o.forEach((function(t,e){return a[t]=r[e]=r[e]||r[(e-1)/2|0]})),t.init(e,a,s)}}));var es,is,ns,ss={name:"css",register:bn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,s){var r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b=this._props,x=t.style,T=i.vars.startAt;for(u in Vi||bn(),this.styles=this.styles||mn(t),w=this.styles.props,this.tween=i,e)if("autoRound"!==u&&(o=e[u],!mt[u]||!ii(u,e,i,n,t,s)))if(l=typeof o,h=Nn[u],"function"===l&&(l=typeof(o=o.call(i,n,t,s))),"string"===l&&~o.indexOf("random(")&&(o=we(o)),h)h(this,t,u,o,i)&&(_=1);else if("--"===u.substr(0,2))r=(getComputedStyle(t).getPropertyValue(u)+"").trim(),o+="",Pe.lastIndex=0,Pe.test(r)||(d=ce(r),f=ce(o)),f?d!==f&&(r=An(t,u,r,f)+f):d&&(o+=d),this.add(x,"setProperty",r,o,n,s,0,0,u),b.push(u),w.push(u,0,x[u]);else if("undefined"!==l){if(T&&u in T?(r="function"==typeof T[u]?T[u].call(i,n,t,s):T[u],B(r)&&~r.indexOf("random(")&&(r=we(r)),ce(r+"")||"auto"===r||(r+=A.units[u]||ce(Mn(t,u))||""),"="===(r+"").charAt(1)&&(r=Mn(t,u))):r=Mn(t,u),c=parseFloat(r),(p="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),u in Yi&&("autoAlpha"===u&&(1===c&&"hidden"===Mn(t,"visibility")&&a&&(c=0),w.push("visibility",0,x.visibility),kn(this,x,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==u&&"transform"!==u&&~(u=Yi[u]).indexOf(",")&&(u=u.split(",")[0])),g=u in $i)if(this.styles.save(u),m||((v=t._gsap).renderTransform&&!e.parseTransform||qn(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new xi(this._pt,x,un,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===u)this._pt=new xi(this._pt,v,"scaleY",v.scaleY,(p?kt(v.scaleY,p+a):a)-v.scaleY||0,Ji),this._pt.u=0,b.push("scaleY",u),u+="X";else{if("transformOrigin"===u){w.push(dn,0,x[dn]),o=Rn(o),v.svg?jn(t,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&kn(this,v,"zOrigin",v.zOrigin,f),kn(this,x,u,$n(r),$n(o)));continue}if("svgOrigin"===u){jn(t,o,1,y,0,this);continue}if(u in Fn){Jn(this,v,u,c,p?kt(c,p+o):o);continue}if("smoothOrigin"===u){kn(this,v,"smooth",v.smooth,o);continue}if("force3D"===u){v[u]=o;continue}if("transform"===u){ts(this,o,t);continue}}else u in x||(u=wn(u)||u);if(g||(a||0===a)&&(c||0===c)&&!Qi.test(o)&&u in x)a||(a=0),(d=(r+"").substr((c+"").length))!==(f=ce(o)||(u in A.units?A.units[u]:d))&&(c=An(t,u,r,f)),this._pt=new xi(this._pt,g?v:x,u,c,(p?kt(c,p+a):a)-c,g||"px"!==f&&"zIndex"!==u||!1===e.autoRound?Ji:en),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=r,this._pt.r=tn);else if(u in x)On.call(this,t,u,r,p?p+o:o);else if(u in t)this.add(t,u,r||t[u],p?p+o:o,n,s);else if("parseTransform"!==u){ot(u,o);continue}g||(u in x?w.push(u,0,x[u]):w.push(u,1,r||t[u])),b.push(u)}_&&bi(this)},render:function(t,e){if(e.tween._time||!ji())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Mn,aliases:Yi,getSetter:function(t,e,i){var n=Yi[e];return n&&n.indexOf(",")<0&&(e=n),e in $i&&e!==dn&&(t._gsap.x||Mn(t,"x"))?i&&Ui===i?"scale"===e?cn:an:(Ui=i||{})&&("scale"===e?ln:hn):t.style&&!q(t.style[e])?rn:~e.indexOf("-")?on:fi(t,e)},core:{_removeProperty:Sn,_getMatrix:Un}};Li.utils.checkPrefix=wn,Li.core.getStyleSaver=mn,ns=Et((es="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(is="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){$i[t]=1})),Et(is,(function(t){A.units[t]="deg",Fn[t]=1})),Yi[ns[13]]=es+","+is,Et("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Yi[e[1]]=ns[e[0]]})),Et("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){A.units[t]="px"})),Li.registerPlugin(ss);var rs=Li.registerPlugin(ss)||Li;rs.core.Tween;function os(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var as,cs,ls,hs,us,ds,fs,ps,gs,ms,vs,ys,_s,ws=function(){return as||"undefined"!=typeof window&&(as=window.gsap)&&as.registerPlugin&&as},bs=1,xs=[],Ts=[],Es=[],Cs=Date.now,Ss=function(t,e){return e},ks=function(t,e){return~Es.indexOf(t)&&Es[Es.indexOf(t)+1][e]},Is=function(t){return!!~ms.indexOf(t)},Ds=function(t,e,i,n,s){return t.addEventListener(e,i,{passive:!1!==n,capture:!!s})},As=function(t,e,i,n){return t.removeEventListener(e,i,!!n)},Ms="scrollLeft",Os="scrollTop",Ps=function(){return vs&&vs.isPressed||Ts.cache++},Rs=function(t,e){var i=function i(n){if(n||0===n){bs&&(ls.history.scrollRestoration="manual");var s=vs&&vs.isPressed;n=i.v=Math.round(n)||(vs&&vs.iOS?1:0),t(n),i.cacheID=Ts.cache,s&&Ss("ss",n)}else(e||Ts.cache!==i.cacheID||Ss("ref"))&&(i.cacheID=Ts.cache,i.v=t());return i.v+i.offset};return i.offset=0,t&&i},Ls={s:Ms,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Rs((function(t){return arguments.length?ls.scrollTo(t,Ns.sc()):ls.pageXOffset||hs[Ms]||us[Ms]||ds[Ms]||0}))},Ns={s:Os,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ls,sc:Rs((function(t){return arguments.length?ls.scrollTo(Ls.sc(),t):ls.pageYOffset||hs[Os]||us[Os]||ds[Os]||0}))},zs=function(t,e){return(e&&e._ctx&&e._ctx.selector||as.utils.toArray)(t)[0]||("string"==typeof t&&!1!==as.config().nullTargetWarn?console.warn("Element not found:",t):null)},Fs=function(t,e){var i=e.s,n=e.sc;Is(t)&&(t=hs.scrollingElement||us);var s=Ts.indexOf(t),r=n===Ns.sc?1:2;!~s&&(s=Ts.push(t)-1),Ts[s+r]||Ds(t,"scroll",Ps);var o=Ts[s+r],a=o||(Ts[s+r]=Rs(ks(t,i),!0)||(Is(t)?n:Rs((function(e){return arguments.length?t[i]=e:t[i]}))));return a.target=t,o||(a.smooth="smooth"===as.getProperty(t,"scrollBehavior")),a},Vs=function(t,e,i){var n=t,s=t,r=Cs(),o=r,a=e||50,c=Math.max(500,3*a),l=function(t,e){var c=Cs();e||c-r>a?(s=n,n=t,o=r,r=c):i?n+=t:n=s+(t-s)/(c-o)*(r-o)};return{update:l,reset:function(){s=n=i?0:n,o=r=0},getVelocity:function(t){var e=o,a=s,h=Cs();return(t||0===t)&&t!==n&&l(t),r===o||h-o>c?0:(n+(i?a:-a))/((i?h:r)-e)*1e3}}},Bs=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Us=function(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i},js=function(){var t,e,i,n;(gs=as.core.globals().ScrollTrigger)&&gs.core&&(t=gs.core,e=t.bridge||{},i=t._scrollers,n=t._proxies,i.push.apply(i,Ts),n.push.apply(n,Es),Ts=i,Es=n,Ss=function(t,i){return e[t](i)})},qs=function(t){return as=t||ws(),!cs&&as&&"undefined"!=typeof document&&document.body&&(ls=window,hs=document,us=hs.documentElement,ds=hs.body,ms=[ls,hs,us,ds],as.utils.clamp,_s=as.core.context||function(){},ps="onpointerenter"in ds?"pointer":"mouse",fs=$s.isTouch=ls.matchMedia&&ls.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ls||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,ys=$s.eventTypes=("ontouchstart"in us?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in us?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return bs=0}),500),js(),cs=1),cs};Ls.op=Ns,Ts.cache=0;var $s=function(){function t(t){this.init(t)}var e,i,n;return t.prototype.init=function(t){cs||qs(as)||console.warn("Please gsap.registerPlugin(Observer)"),gs||js();var e=t.tolerance,i=t.dragMinimum,n=t.type,s=t.target,r=t.lineHeight,o=t.debounce,a=t.preventDefault,c=t.onStop,l=t.onStopDelay,h=t.ignore,u=t.wheelSpeed,d=t.event,f=t.onDragStart,p=t.onDragEnd,g=t.onDrag,m=t.onPress,v=t.onRelease,y=t.onRight,_=t.onLeft,w=t.onUp,b=t.onDown,x=t.onChangeX,T=t.onChangeY,E=t.onChange,C=t.onToggleX,S=t.onToggleY,k=t.onHover,I=t.onHoverEnd,D=t.onMove,A=t.ignoreCheck,M=t.isNormalizer,O=t.onGestureStart,P=t.onGestureEnd,R=t.onWheel,L=t.onEnable,N=t.onDisable,z=t.onClick,F=t.scrollSpeed,V=t.capture,B=t.allowClicks,U=t.lockAxis,j=t.onLockAxis;this.target=s=zs(s)||us,this.vars=t,h&&(h=as.utils.toArray(h)),e=e||1e-9,i=i||0,u=u||1,F=F||1,n=n||"wheel,touch,pointer",o=!1!==o,r||(r=parseFloat(ls.getComputedStyle(ds).lineHeight)||22);var q,$,H,G,X,K,W,Q=this,Y=0,J=0,Z=t.passive||!a,tt=Fs(s,Ls),et=Fs(s,Ns),it=tt(),nt=et(),st=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===ys[0],rt=Is(s),ot=s.ownerDocument||hs,at=[0,0,0],ct=[0,0,0],lt=0,ht=function(){return lt=Cs()},ut=function(t,e){return(Q.event=t)&&h&&~h.indexOf(t.target)||e&&st&&"touch"!==t.pointerType||A&&A(t,e)},dt=function(){var t=Q.deltaX=Us(at),i=Q.deltaY=Us(ct),n=Math.abs(t)>=e,s=Math.abs(i)>=e;E&&(n||s)&&E(Q,t,i,at,ct),n&&(y&&Q.deltaX>0&&y(Q),_&&Q.deltaX<0&&_(Q),x&&x(Q),C&&Q.deltaX<0!=Y<0&&C(Q),Y=Q.deltaX,at[0]=at[1]=at[2]=0),s&&(b&&Q.deltaY>0&&b(Q),w&&Q.deltaY<0&&w(Q),T&&T(Q),S&&Q.deltaY<0!=J<0&&S(Q),J=Q.deltaY,ct[0]=ct[1]=ct[2]=0),(G||H)&&(D&&D(Q),H&&(g(Q),H=!1),G=!1),K&&!(K=!1)&&j&&j(Q),X&&(R(Q),X=!1),q=0},ft=function(t,e,i){at[i]+=t,ct[i]+=e,Q._vx.update(t),Q._vy.update(e),o?q||(q=requestAnimationFrame(dt)):dt()},pt=function(t,e){U&&!W&&(Q.axis=W=Math.abs(t)>Math.abs(e)?"x":"y",K=!0),"y"!==W&&(at[2]+=t,Q._vx.update(t,!0)),"x"!==W&&(ct[2]+=e,Q._vy.update(e,!0)),o?q||(q=requestAnimationFrame(dt)):dt()},gt=function(t){if(!ut(t,1)){var e=(t=Bs(t,a)).clientX,n=t.clientY,s=e-Q.x,r=n-Q.y,o=Q.isDragging;Q.x=e,Q.y=n,(o||Math.abs(Q.startX-e)>=i||Math.abs(Q.startY-n)>=i)&&(g&&(H=!0),o||(Q.isDragging=!0),pt(s,r),o||f&&f(Q))}},mt=Q.onPress=function(t){ut(t,1)||t&&t.button||(Q.axis=W=null,$.pause(),Q.isPressed=!0,t=Bs(t),Y=J=0,Q.startX=Q.x=t.clientX,Q.startY=Q.y=t.clientY,Q._vx.reset(),Q._vy.reset(),Ds(M?s:ot,ys[1],gt,Z,!0),Q.deltaX=Q.deltaY=0,m&&m(Q))},vt=Q.onRelease=function(t){if(!ut(t,1)){As(M?s:ot,ys[1],gt,!0);var e=!isNaN(Q.y-Q.startY),i=Q.isDragging,n=i&&(Math.abs(Q.x-Q.startX)>3||Math.abs(Q.y-Q.startY)>3),r=Bs(t);!n&&e&&(Q._vx.reset(),Q._vy.reset(),a&&B&&as.delayedCall(.08,(function(){if(Cs()-lt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(ot.createEvent){var e=ot.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,ls,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Q.isDragging=Q.isGesturing=Q.isPressed=!1,c&&i&&!M&&$.restart(!0),p&&i&&p(Q),v&&v(Q,n)}},yt=function(t){return t.touches&&t.touches.length>1&&(Q.isGesturing=!0)&&O(t,Q.isDragging)},_t=function(){return(Q.isGesturing=!1)||P(Q)},wt=function(t){if(!ut(t)){var e=tt(),i=et();ft((e-it)*F,(i-nt)*F,1),it=e,nt=i,c&&$.restart(!0)}},bt=function(t){if(!ut(t)){t=Bs(t,a),R&&(X=!0);var e=(1===t.deltaMode?r:2===t.deltaMode?ls.innerHeight:1)*u;ft(t.deltaX*e,t.deltaY*e,0),c&&!M&&$.restart(!0)}},xt=function(t){if(!ut(t)){var e=t.clientX,i=t.clientY,n=e-Q.x,s=i-Q.y;Q.x=e,Q.y=i,G=!0,c&&$.restart(!0),(n||s)&&pt(n,s)}},Tt=function(t){Q.event=t,k(Q)},Et=function(t){Q.event=t,I(Q)},Ct=function(t){return ut(t)||Bs(t,a)&&z(Q)};$=Q._dc=as.delayedCall(l||.25,(function(){Q._vx.reset(),Q._vy.reset(),$.pause(),c&&c(Q)})).pause(),Q.deltaX=Q.deltaY=0,Q._vx=Vs(0,50,!0),Q._vy=Vs(0,50,!0),Q.scrollX=tt,Q.scrollY=et,Q.isDragging=Q.isGesturing=Q.isPressed=!1,_s(this),Q.enable=function(t){return Q.isEnabled||(Ds(rt?ot:s,"scroll",Ps),n.indexOf("scroll")>=0&&Ds(rt?ot:s,"scroll",wt,Z,V),n.indexOf("wheel")>=0&&Ds(s,"wheel",bt,Z,V),(n.indexOf("touch")>=0&&fs||n.indexOf("pointer")>=0)&&(Ds(s,ys[0],mt,Z,V),Ds(ot,ys[2],vt),Ds(ot,ys[3],vt),B&&Ds(s,"click",ht,!0,!0),z&&Ds(s,"click",Ct),O&&Ds(ot,"gesturestart",yt),P&&Ds(ot,"gestureend",_t),k&&Ds(s,ps+"enter",Tt),I&&Ds(s,ps+"leave",Et),D&&Ds(s,ps+"move",xt)),Q.isEnabled=!0,t&&t.type&&mt(t),L&&L(Q)),Q},Q.disable=function(){Q.isEnabled&&(xs.filter((function(t){return t!==Q&&Is(t.target)})).length||As(rt?ot:s,"scroll",Ps),Q.isPressed&&(Q._vx.reset(),Q._vy.reset(),As(M?s:ot,ys[1],gt,!0)),As(rt?ot:s,"scroll",wt,V),As(s,"wheel",bt,V),As(s,ys[0],mt,V),As(ot,ys[2],vt),As(ot,ys[3],vt),As(s,"click",ht,!0),As(s,"click",Ct),As(ot,"gesturestart",yt),As(ot,"gestureend",_t),As(s,ps+"enter",Tt),As(s,ps+"leave",Et),As(s,ps+"move",xt),Q.isEnabled=Q.isPressed=Q.isDragging=!1,N&&N(Q))},Q.kill=Q.revert=function(){Q.disable();var t=xs.indexOf(Q);t>=0&&xs.splice(t,1),vs===Q&&(vs=0)},xs.push(Q),M&&Is(s)&&(vs=Q),Q.enable(d)},e=t,(i=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&os(e.prototype,i),n&&os(e,n),t}();$s.version="3.12.5",$s.create=function(t){return new $s(t)},$s.register=qs,$s.getAll=function(){return xs.slice()},$s.getById=function(t){return xs.filter((function(e){return e.vars.id===t}))[0]},ws()&&as.registerPlugin($s);var Hs,Gs,Xs,Ks,Ws,Qs,Ys,Js,Zs,tr,er,ir,nr,sr,rr,or,ar,cr,lr,hr,ur,dr,fr,pr,gr,mr,vr,yr,_r,wr,br,xr,Tr,Er,Cr,Sr,kr,Ir,Dr=1,Ar=Date.now,Mr=Ar(),Or=0,Pr=0,Rr=function(t,e,i){var n=Kr(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return i["_"+e+"Clamp"]=n,n?t.substr(6,t.length-7):t},Lr=function(t,e){return!e||Kr(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Nr=function t(){return Pr&&requestAnimationFrame(t)},zr=function(){return sr=1},Fr=function(){return sr=0},Vr=function(t){return t},Br=function(t){return Math.round(1e5*t)/1e5||0},Ur=function(){return"undefined"!=typeof window},jr=function(){return Hs||Ur()&&(Hs=window.gsap)&&Hs.registerPlugin&&Hs},qr=function(t){return!!~Ys.indexOf(t)},$r=function(t){return("Height"===t?br:Xs["inner"+t])||Ws["client"+t]||Qs["client"+t]},Hr=function(t){return ks(t,"getBoundingClientRect")||(qr(t)?function(){return ra.width=Xs.innerWidth,ra.height=br,ra}:function(){return yo(t)})},Gr=function(t,e){var i=e.s,n=e.d2,s=e.d,r=e.a;return Math.max(0,(i="scroll"+n)&&(r=ks(t,i))?r()-Hr(t)()[s]:qr(t)?(Ws[i]||Qs[i])-$r(n):t[i]-t["offset"+n])},Xr=function(t,e){for(var i=0;i<lr.length;i+=3)(!e||~e.indexOf(lr[i+1]))&&t(lr[i],lr[i+1],lr[i+2])},Kr=function(t){return"string"==typeof t},Wr=function(t){return"function"==typeof t},Qr=function(t){return"number"==typeof t},Yr=function(t){return"object"==typeof t},Jr=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},Zr=function(t,e){if(t.enabled){var i=t._ctx?t._ctx.add((function(){return e(t)})):e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},to=Math.abs,eo="left",io="right",no="bottom",so="width",ro="height",oo="Right",ao="Left",co="Top",lo="Bottom",ho="padding",uo="margin",fo="Width",po="Height",go="px",mo=function(t){return Xs.getComputedStyle(t)},vo=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},yo=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==mo(t)[rr]&&Hs.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},_o=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},wo=function(t){var e,i=[],n=t.labels,s=t.duration();for(e in n)i.push(n[e]/s);return i},bo=function(t){var e=Hs.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return i?function(t,n,s){var r;if(void 0===s&&(s=.001),!n)return e(t);if(n>0){for(t-=s,r=0;r<i.length;r++)if(i[r]>=t)return i[r];return i[r-1]}for(r=i.length,t+=s;r--;)if(i[r]<=t)return i[r];return i[0]}:function(i,n,s){void 0===s&&(s=.001);var r=e(i);return!n||Math.abs(r-i)<s||r-i<0==n<0?r:e(n<0?i-t:i+t)}},xo=function(t,e,i,n){return i.split(",").forEach((function(i){return t(e,i,n)}))},To=function(t,e,i,n,s){return t.addEventListener(e,i,{passive:!n,capture:!!s})},Eo=function(t,e,i,n){return t.removeEventListener(e,i,!!n)},Co=function(t,e,i){(i=i&&i.wheelHandler)&&(t(e,"wheel",i),t(e,"touchmove",i))},So={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ko={toggleActions:"play",anticipatePin:0},Io={top:0,left:0,center:.5,bottom:1,right:1},Do=function(t,e){if(Kr(t)){var i=t.indexOf("="),n=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=e/100),t=t.substr(0,i-1)),t=n+(t in Io?Io[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},Ao=function(t,e,i,n,s,r,o,a){var c=s.startColor,l=s.endColor,h=s.fontSize,u=s.indent,d=s.fontWeight,f=Ks.createElement("div"),p=qr(i)||"fixed"===ks(i,"pinType"),g=-1!==t.indexOf("scroller"),m=p?Qs:i,v=-1!==t.indexOf("start"),y=v?c:l,_="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((g||a)&&p?"fixed;":"absolute;"),(g||a||!p)&&(_+=(n===Ns?io:no)+":"+(r+parseFloat(u))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),f.style.cssText=_,f.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+n.op.d2],Mo(f,0,n,v),f},Mo=function(t,e,i,n){var s={display:"block"},r=i[n?"os2":"p2"],o=i[n?"p2":"os2"];t._isFlipped=n,s[i.a+"Percent"]=n?-100:0,s[i.a]=n?"1px":0,s["border"+r+fo]=1,s["border"+o+fo]=0,s[i.p]=e+"px",Hs.set(t,s)},Oo=[],Po={},Ro=function(){return Ar()-Or>34&&(Cr||(Cr=requestAnimationFrame(Jo)))},Lo=function(){(!fr||!fr.isPressed||fr.startX>Qs.clientWidth)&&(Ts.cache++,fr?Cr||(Cr=requestAnimationFrame(Jo)):Jo(),Or||Uo("scrollStart"),Or=Ar())},No=function(){mr=Xs.innerWidth,gr=Xs.innerHeight},zo=function(){Ts.cache++,!nr&&!dr&&!Ks.fullscreenElement&&!Ks.webkitFullscreenElement&&(!pr||mr!==Xs.innerWidth||Math.abs(Xs.innerHeight-gr)>.25*Xs.innerHeight)&&Js.restart(!0)},Fo={},Vo=[],Bo=function t(){return Eo(da,"scrollEnd",t)||Wo(!0)},Uo=function(t){return Fo[t]&&Fo[t].map((function(t){return t()}))||Vo},jo=[],qo=function(t){for(var e=0;e<jo.length;e+=5)(!t||jo[e+4]&&jo[e+4].query===t)&&(jo[e].style.cssText=jo[e+1],jo[e].getBBox&&jo[e].setAttribute("transform",jo[e+2]||""),jo[e+3].uncache=1)},$o=function(t,e){var i;for(or=0;or<Oo.length;or++)!(i=Oo[or])||e&&i._ctx!==e||(t?i.kill(1):i.revert(!0,!0));xr=!0,e&&qo(e),e||Uo("revert")},Ho=function(t,e){Ts.cache++,(e||!Sr)&&Ts.forEach((function(t){return Wr(t)&&t.cacheID++&&(t.rec=0)})),Kr(t)&&(Xs.history.scrollRestoration=_r=t)},Go=0,Xo=function(){Qs.appendChild(wr),br=!fr&&wr.offsetHeight||Xs.innerHeight,Qs.removeChild(wr)},Ko=function(t){return Zs(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},Wo=function(t,e){if(!Or||t||xr){Xo(),Sr=da.isRefreshing=!0,Ts.forEach((function(t){return Wr(t)&&++t.cacheID&&(t.rec=t())}));var i=Uo("refreshInit");hr&&da.sort(),e||$o(),Ts.forEach((function(t){Wr(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Oo.slice(0).forEach((function(t){return t.refresh()})),xr=!1,Oo.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",i=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-i),t.refresh()}})),Tr=1,Ko(!0),Oo.forEach((function(t){var e=Gr(t.scroller,t._dir),i="max"===t.vars.end||t._endClamp&&t.end>e,n=t._startClamp&&t.start>=e;(i||n)&&t.setPositions(n?e-1:t.start,i?Math.max(n?e:t.start+1,e):t.end,!0)})),Ko(!1),Tr=0,i.forEach((function(t){return t&&t.render&&t.render(-1)})),Ts.forEach((function(t){Wr(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),Ho(_r,1),Js.pause(),Go++,Sr=2,Jo(2),Oo.forEach((function(t){return Wr(t.vars.onRefresh)&&t.vars.onRefresh(t)})),Sr=da.isRefreshing=!1,Uo("refresh")}else To(da,"scrollEnd",Bo)},Qo=0,Yo=1,Jo=function(t){if(2===t||!Sr&&!xr){da.isUpdating=!0,Ir&&Ir.update(0);var e=Oo.length,i=Ar(),n=i-Mr>=50,s=e&&Oo[0].scroll();if(Yo=Qo>s?-1:1,Sr||(Qo=s),n&&(Or&&!sr&&i-Or>200&&(Or=0,Uo("scrollEnd")),er=Mr,Mr=i),Yo<0){for(or=e;or-- >0;)Oo[or]&&Oo[or].update(0,n);Yo=1}else for(or=0;or<e;or++)Oo[or]&&Oo[or].update(0,n);da.isUpdating=!1}Cr=0},Zo=[eo,"top",no,io,uo+lo,uo+oo,uo+co,uo+ao,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ta=Zo.concat([so,ro,"boxSizing","max"+fo,"max"+po,"position",uo,ho,ho+co,ho+oo,ho+lo,ho+ao]),ea=function(t,e,i,n){if(!t._gsap.swappedIn){for(var s,r=Zo.length,o=e.style,a=t.style;r--;)o[s=Zo[r]]=i[s];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[no]=a[io]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[so]=_o(t,Ls)+go,o[ro]=_o(t,Ns)+go,o[ho]=a[uo]=a.top=a[eo]="0",na(n),a[so]=a["max"+fo]=i[so],a[ro]=a["max"+po]=i[ro],a[ho]=i[ho],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},ia=/([A-Z])/g,na=function(t){if(t){var e,i,n=t.t.style,s=t.length,r=0;for((t.t._gsap||Hs.core.getCache(t.t)).uncache=1;r<s;r+=2)i=t[r+1],e=t[r],i?n[e]=i:n[e]&&n.removeProperty(e.replace(ia,"-$1").toLowerCase())}},sa=function(t){for(var e=ta.length,i=t.style,n=[],s=0;s<e;s++)n.push(ta[s],i[ta[s]]);return n.t=t,n},ra={left:0,top:0},oa=function(t,e,i,n,s,r,o,a,c,l,h,u,d,f){Wr(t)&&(t=t(a)),Kr(t)&&"max"===t.substr(0,3)&&(t=u+("="===t.charAt(4)?Do("0"+t.substr(3),i):0));var p,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(t)||(t=+t),Qr(t))d&&(t=Hs.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,u,t)),o&&Mo(o,i,n,!0);else{Wr(e)&&(e=e(a));var y,_,w,b,x=(t||"0").split(" ");m=zs(e,a)||Qs,(y=yo(m)||{})&&(y.left||y.top)||"none"!==mo(m).display||(b=m.style.display,m.style.display="block",y=yo(m),b?m.style.display=b:m.style.removeProperty("display")),_=Do(x[0],y[n.d]),w=Do(x[1]||"0",i),t=y[n.p]-c[n.p]-l+_+s-w,o&&Mo(o,w,n,i-w<20||o._isStart&&w>20),i-=i-w}if(f&&(a[f]=t||-.001,t<0&&(t=0)),r){var T=t+i,E=r._isStart;p="scroll"+n.d2,Mo(r,T,n,E&&T>20||!E&&(h?Math.max(Qs[p],Ws[p]):r.parentNode[p])<=T+1),h&&(c=yo(o),h&&(r.style[n.op.p]=c[n.op.p]-n.op.m-r._offset+go))}return d&&m&&(p=yo(m),d.seek(u),g=yo(m),d._caScrollDist=p[n.p]-g[n.p],t=t/d._caScrollDist*u),d&&d.seek(v),d?t:Math.round(t)},aa=/(webkit|moz|length|cssText|inset)/i,ca=function(t,e,i,n){if(t.parentNode!==e){var s,r,o=t.style;if(e===Qs){for(s in t._stOrig=o.cssText,r=mo(t))+s||aa.test(s)||!r[s]||"string"!=typeof o[s]||"0"===s||(o[s]=r[s]);o.top=i,o.left=n}else o.cssText=t._stOrig;Hs.core.getCache(t).uncache=1,e.appendChild(t)}},la=function(t,e,i){var n=e,s=n;return function(e){var r=Math.round(t());return r!==n&&r!==s&&Math.abs(r-n)>3&&Math.abs(r-s)>3&&(e=r,i&&i()),s=n,n=e,e}},ha=function(t,e,i){var n={};n[e.p]="+="+i,Hs.set(t,n)},ua=function(t,e){var i=Fs(t,e),n="_scroll"+e.p2,s=function e(s,r,o,a,c){var l=e.tween,h=r.onComplete,u={};o=o||i();var d=la(i,o,(function(){l.kill(),e.tween=0}));return c=a&&c||0,a=a||s-o,l&&l.kill(),r[n]=s,r.inherit=!1,r.modifiers=u,u[n]=function(){return d(o+a*l.ratio+c*l.ratio*l.ratio)},r.onUpdate=function(){Ts.cache++,e.tween&&Jo()},r.onComplete=function(){e.tween=0,h&&h.call(l)},l=e.tween=Hs.to(t,r)};return t[n]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},To(t,"wheel",i.wheelHandler),da.isTouch&&To(t,"touchmove",i.wheelHandler),s},da=function(){function t(e,i){Gs||t.register(Hs)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),yr(this),this.init(e,i)}return t.prototype.init=function(e,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Pr){var n,s,r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b,x,T,E,C,S,k,I,D,A,M,O,P,R,L,N,z,F,V,B,U,j,q,$,H=e=vo(Kr(e)||Qr(e)||e.nodeType?{trigger:e}:e,ko),G=H.onUpdate,X=H.toggleClass,K=H.id,W=H.onToggle,Q=H.onRefresh,Y=H.scrub,J=H.trigger,Z=H.pin,tt=H.pinSpacing,et=H.invalidateOnRefresh,it=H.anticipatePin,nt=H.onScrubComplete,st=H.onSnapComplete,rt=H.once,ot=H.snap,at=H.pinReparent,ct=H.pinSpacer,lt=H.containerAnimation,ht=H.fastScrollEnd,ut=H.preventOverlaps,dt=e.horizontal||e.containerAnimation&&!1!==e.horizontal?Ls:Ns,ft=!Y&&0!==Y,pt=zs(e.scroller||Xs),gt=Hs.core.getCache(pt),mt=qr(pt),vt="fixed"===("pinType"in e?e.pinType:ks(pt,"pinType")||mt&&"fixed"),yt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],_t=ft&&e.toggleActions.split(" "),wt="markers"in e?e.markers:ko.markers,bt=mt?0:parseFloat(mo(pt)["border"+dt.p2+fo])||0,xt=this,Tt=e.onRefreshInit&&function(){return e.onRefreshInit(xt)},Et=function(t,e,i){var n=i.d,s=i.d2,r=i.a;return(r=ks(t,"getBoundingClientRect"))?function(){return r()[n]}:function(){return(e?$r(s):t["client"+s])||0}}(pt,mt,dt),Ct=function(t,e){return!e||~Es.indexOf(t)?Hr(t):function(){return ra}}(pt,mt),St=0,kt=0,It=0,Dt=Fs(pt,dt);if(xt._startClamp=xt._endClamp=!1,xt._dir=dt,it*=45,xt.scroller=pt,xt.scroll=lt?lt.time.bind(lt):Dt,o=Dt(),xt.vars=e,i=i||e.animation,"refreshPriority"in e&&(hr=1,-9999===e.refreshPriority&&(Ir=xt)),gt.tweenScroll=gt.tweenScroll||{top:ua(pt,Ns),left:ua(pt,Ls)},xt.tweenTo=n=gt.tweenScroll[dt.p],xt.scrubDuration=function(t){(L=Qr(t)&&t)?R?R.duration(t):R=Hs.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:L,paused:!0,onComplete:function(){return nt&&nt(xt)}}):(R&&R.progress(1).kill(),R=0)},i&&(i.vars.lazy=!1,i._initted&&!xt.isReverted||!1!==i.vars.immediateRender&&!1!==e.immediateRender&&i.duration()&&i.render(0,!0,!0),xt.animation=i.pause(),i.scrollTrigger=xt,xt.scrubDuration(Y),O=0,K||(K=i.vars.id)),ot&&(Yr(ot)&&!ot.push||(ot={snapTo:ot}),"scrollBehavior"in Qs.style&&Hs.set(mt?[Qs,Ws]:pt,{scrollBehavior:"auto"}),Ts.forEach((function(t){return Wr(t)&&t.target===(mt?Ks.scrollingElement||Ws:pt)&&(t.smooth=!1)})),r=Wr(ot.snapTo)?ot.snapTo:"labels"===ot.snapTo?function(t){return function(e){return Hs.utils.snap(wo(t),e)}}(i):"labelsDirectional"===ot.snapTo?(j=i,function(t,e){return bo(wo(j))(t,e.direction)}):!1!==ot.directional?function(t,e){return bo(ot.snapTo)(t,Ar()-kt<500?0:e.direction)}:Hs.utils.snap(ot.snapTo),N=ot.duration||{min:.1,max:2},N=Yr(N)?tr(N.min,N.max):tr(N,N),z=Hs.delayedCall(ot.delay||L/2||.1,(function(){var t=Dt(),e=Ar()-kt<500,s=n.tween;if(!(e||Math.abs(xt.getVelocity())<10)||s||sr||St===t)xt.isActive&&St!==t&&z.restart(!0);else{var o,a,h=(t-c)/m,u=i&&!ft?i.totalProgress():h,d=e?0:(u-P)/(Ar()-er)*1e3||0,f=Hs.utils.clamp(-h,1-h,to(d/2)*d/.185),p=h+(!1===ot.inertia?0:f),g=ot,v=g.onStart,y=g.onInterrupt,_=g.onComplete;if(o=r(p,xt),Qr(o)||(o=p),a=Math.round(c+o*m),t<=l&&t>=c&&a!==t){if(s&&!s._initted&&s.data<=to(a-t))return;!1===ot.inertia&&(f=o-h),n(a,{duration:N(to(.185*Math.max(to(p-u),to(o-u))/d/.05||0)),ease:ot.ease||"power3",data:to(a-t),onInterrupt:function(){return z.restart(!0)&&y&&y(xt)},onComplete:function(){xt.update(),St=Dt(),i&&(R?R.resetTo("totalProgress",o,i._tTime/i._tDur):i.progress(o)),O=P=i&&!ft?i.totalProgress():xt.progress,st&&st(xt),_&&_(xt)}},t,f*m,a-t-f*m),v&&v(xt,n.tween)}}})).pause()),K&&(Po[K]=xt),(U=(J=xt.trigger=zs(J||!0!==Z&&Z))&&J._gsap&&J._gsap.stRevert)&&(U=U(xt)),Z=!0===Z?J:zs(Z),Kr(X)&&(X={targets:J,className:X}),Z&&(!1===tt||tt===uo||(tt=!(!tt&&Z.parentNode&&Z.parentNode.style&&"flex"===mo(Z.parentNode).display)&&ho),xt.pin=Z,(s=Hs.core.getCache(Z)).spacer?v=s.pinState:(ct&&((ct=zs(ct))&&!ct.nodeType&&(ct=ct.current||ct.nativeElement),s.spacerIsNative=!!ct,ct&&(s.spacerState=sa(ct))),s.spacer=w=ct||Ks.createElement("div"),w.classList.add("pin-spacer"),K&&w.classList.add("pin-spacer-"+K),s.pinState=v=sa(Z)),!1!==e.force3D&&Hs.set(Z,{force3D:!0}),xt.spacer=w=s.spacer,M=mo(Z),S=M[tt+dt.os2],x=Hs.getProperty(Z),T=Hs.quickSetter(Z,dt.a,go),ea(Z,w,M),_=sa(Z)),wt){p=Yr(wt)?vo(wt,So):So,d=Ao("scroller-start",K,pt,dt,p,0),f=Ao("scroller-end",K,pt,dt,p,0,d),b=d["offset"+dt.op.d2];var At=zs(ks(pt,"content")||pt);h=this.markerStart=Ao("start",K,At,dt,p,b,0,lt),u=this.markerEnd=Ao("end",K,At,dt,p,b,0,lt),lt&&(B=Hs.quickSetter([h,u],dt.a,go)),vt||Es.length&&!0===ks(pt,"fixedMarkers")||($=mo(q=mt?Qs:pt).position,q.style.position="absolute"===$||"fixed"===$?$:"relative",Hs.set([d,f],{force3D:!0}),I=Hs.quickSetter(d,dt.a,go),A=Hs.quickSetter(f,dt.a,go))}if(lt){var Mt=lt.vars.onUpdate,Ot=lt.vars.onUpdateParams;lt.eventCallback("onUpdate",(function(){xt.update(0,0,1),Mt&&Mt.apply(lt,Ot||[])}))}if(xt.previous=function(){return Oo[Oo.indexOf(xt)-1]},xt.next=function(){return Oo[Oo.indexOf(xt)+1]},xt.revert=function(t,e){if(!e)return xt.kill(!0);var n=!1!==t||!xt.enabled,s=nr;n!==xt.isReverted&&(n&&(F=Math.max(Dt(),xt.scroll.rec||0),It=xt.progress,V=i&&i.progress()),h&&[h,u,d,f].forEach((function(t){return t.style.display=n?"none":"block"})),n&&(nr=xt,xt.update(n)),!Z||at&&xt.isActive||(n?function(t,e,i){na(i);var n=t._gsap;if(n.spacerIsNative)na(n.spacerState);else if(t._gsap.swappedIn){var s=e.parentNode;s&&(s.insertBefore(t,e),s.removeChild(e))}t._gsap.swappedIn=!1}(Z,w,v):ea(Z,w,mo(Z),k)),n||xt.update(n),nr=s,xt.isReverted=n)},xt.refresh=function(s,r,p,b){if(!nr&&xt.enabled||r)if(Z&&s&&Or)To(t,"scrollEnd",Bo);else{!Sr&&Tt&&Tt(xt),nr=xt,n.tween&&!p&&(n.tween.kill(),n.tween=0),R&&R.pause(),et&&i&&i.revert({kill:!1}).invalidate(),xt.isReverted||xt.revert(!0,!0),xt._subPinOffset=!1;var T,S,I,A,M,O,P,L,N,B,U,j,q,$=Et(),H=Ct(),G=lt?lt.duration():Gr(pt,dt),X=m<=.01,K=0,W=b||0,Y=Yr(p)?p.end:e.end,it=e.endTrigger||J,nt=Yr(p)?p.start:e.start||(0!==e.start&&J?Z?"0 0":"0 100%":0),st=xt.pinnedContainer=e.pinnedContainer&&zs(e.pinnedContainer,xt),rt=J&&Math.max(0,Oo.indexOf(xt))||0,ot=rt;for(wt&&Yr(p)&&(j=Hs.getProperty(d,dt.p),q=Hs.getProperty(f,dt.p));ot--;)(O=Oo[ot]).end||O.refresh(0,1)||(nr=xt),!(P=O.pin)||P!==J&&P!==Z&&P!==st||O.isReverted||(B||(B=[]),B.unshift(O),O.revert(!0,!0)),O!==Oo[ot]&&(rt--,ot--);for(Wr(nt)&&(nt=nt(xt)),nt=Rr(nt,"start",xt),c=oa(nt,J,$,dt,Dt(),h,d,xt,H,bt,vt,G,lt,xt._startClamp&&"_startClamp")||(Z?-.001:0),Wr(Y)&&(Y=Y(xt)),Kr(Y)&&!Y.indexOf("+=")&&(~Y.indexOf(" ")?Y=(Kr(nt)?nt.split(" ")[0]:"")+Y:(K=Do(Y.substr(2),$),Y=Kr(nt)?nt:(lt?Hs.utils.mapRange(0,lt.duration(),lt.scrollTrigger.start,lt.scrollTrigger.end,c):c)+K,it=J)),Y=Rr(Y,"end",xt),l=Math.max(c,oa(Y||(it?"100% 0":G),it,$,dt,Dt()+K,u,f,xt,H,bt,vt,G,lt,xt._endClamp&&"_endClamp"))||-.001,K=0,ot=rt;ot--;)(P=(O=Oo[ot]).pin)&&O.start-O._pinPush<=c&&!lt&&O.end>0&&(T=O.end-(xt._startClamp?Math.max(0,O.start):O.start),(P===J&&O.start-O._pinPush<c||P===st)&&isNaN(nt)&&(K+=T*(1-O.progress)),P===Z&&(W+=T));if(c+=K,l+=K,xt._startClamp&&(xt._startClamp+=K),xt._endClamp&&!Sr&&(xt._endClamp=l||-.001,l=Math.min(l,Gr(pt,dt))),m=l-c||(c-=.01)&&.001,X&&(It=Hs.utils.clamp(0,1,Hs.utils.normalize(c,l,F))),xt._pinPush=W,h&&K&&((T={})[dt.a]="+="+K,st&&(T[dt.p]="-="+Dt()),Hs.set([h,u],T)),!Z||Tr&&xt.end>=Gr(pt,dt)){if(J&&Dt()&&!lt)for(S=J.parentNode;S&&S!==Qs;)S._pinOffset&&(c-=S._pinOffset,l-=S._pinOffset),S=S.parentNode}else T=mo(Z),A=dt===Ns,I=Dt(),E=parseFloat(x(dt.a))+W,!G&&l>1&&(U={style:U=(mt?Ks.scrollingElement||Ws:pt).style,value:U["overflow"+dt.a.toUpperCase()]},mt&&"scroll"!==mo(Qs)["overflow"+dt.a.toUpperCase()]&&(U.style["overflow"+dt.a.toUpperCase()]="scroll")),ea(Z,w,T),_=sa(Z),S=yo(Z,!0),L=vt&&Fs(pt,A?Ls:Ns)(),tt?((k=[tt+dt.os2,m+W+go]).t=w,(ot=tt===ho?_o(Z,dt)+m+W:0)&&(k.push(dt.d,ot+go),"auto"!==w.style.flexBasis&&(w.style.flexBasis=ot+go)),na(k),st&&Oo.forEach((function(t){t.pin===st&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),vt&&Dt(F)):(ot=_o(Z,dt))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=ot+go),vt&&((M={top:S.top+(A?I-c:L)+go,left:S.left+(A?L:I-c)+go,boxSizing:"border-box",position:"fixed"})[so]=M["max"+fo]=Math.ceil(S.width)+go,M[ro]=M["max"+po]=Math.ceil(S.height)+go,M[uo]=M[uo+co]=M[uo+oo]=M[uo+lo]=M[uo+ao]="0",M[ho]=T[ho],M[ho+co]=T[ho+co],M[ho+oo]=T[ho+oo],M[ho+lo]=T[ho+lo],M[ho+ao]=T[ho+ao],y=function(t,e,i){for(var n,s=[],r=t.length,o=i?8:0;o<r;o+=2)n=t[o],s.push(n,n in e?e[n]:t[o+1]);return s.t=t.t,s}(v,M,at),Sr&&Dt(0)),i?(N=i._initted,ur(1),i.render(i.duration(),!0,!0),C=x(dt.a)-E+m+W,D=Math.abs(m-C)>1,vt&&D&&y.splice(y.length-2,2),i.render(0,!0,!0),N||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),ur(0)):C=m,U&&(U.value?U.style["overflow"+dt.a.toUpperCase()]=U.value:U.style.removeProperty("overflow-"+dt.a));B&&B.forEach((function(t){return t.revert(!1,!0)})),xt.start=c,xt.end=l,o=a=Sr?F:Dt(),lt||Sr||(o<F&&Dt(F),xt.scroll.rec=0),xt.revert(!1,!0),kt=Ar(),z&&(St=-1,z.restart(!0)),nr=0,i&&ft&&(i._initted||V)&&i.progress()!==V&&i.progress(V||0,!0).render(i.time(),!0,!0),(X||It!==xt.progress||lt||et)&&(i&&!ft&&i.totalProgress(lt&&c<-.001&&!It?Hs.utils.normalize(c,l,0):It,!0),xt.progress=X||(o-c)/m===It?0:It),Z&&tt&&(w._pinOffset=Math.round(xt.progress*C)),R&&R.invalidate(),isNaN(j)||(j-=Hs.getProperty(d,dt.p),q-=Hs.getProperty(f,dt.p),ha(d,dt,j),ha(h,dt,j-(b||0)),ha(f,dt,q),ha(u,dt,q-(b||0))),X&&!Sr&&xt.update(),!Q||Sr||g||(g=!0,Q(xt),g=!1)}},xt.getVelocity=function(){return(Dt()-a)/(Ar()-er)*1e3||0},xt.endAnimation=function(){Jr(xt.callbackAnimation),i&&(R?R.progress(1):i.paused()?ft||Jr(i,xt.direction<0,1):Jr(i,i.reversed()))},xt.labelToScroll=function(t){return i&&i.labels&&(c||xt.refresh()||c)+i.labels[t]/i.duration()*m||0},xt.getTrailing=function(t){var e=Oo.indexOf(xt),i=xt.direction>0?Oo.slice(0,e).reverse():Oo.slice(e+1);return(Kr(t)?i.filter((function(e){return e.vars.preventOverlaps===t})):i).filter((function(t){return xt.direction>0?t.end<=c:t.start>=l}))},xt.update=function(t,e,s){if(!lt||s||t){var r,h,u,f,p,g,v,b=!0===Sr?F:xt.scroll(),x=t?0:(b-c)/m,k=x<0?0:x>1?1:x||0,M=xt.progress;if(e&&(a=o,o=lt?Dt():b,ot&&(P=O,O=i&&!ft?i.totalProgress():k)),it&&Z&&!nr&&!Dr&&Or&&(!k&&c<b+(b-a)/(Ar()-er)*it?k=1e-4:1===k&&l>b+(b-a)/(Ar()-er)*it&&(k=.9999)),k!==M&&xt.enabled){if(f=(p=(r=xt.isActive=!!k&&k<1)!==(!!M&&M<1))||!!k!=!!M,xt.direction=k>M?1:-1,xt.progress=k,f&&!nr&&(h=k&&!M?0:1===k?1:1===M?2:3,ft&&(u=!p&&"none"!==_t[h+1]&&_t[h+1]||_t[h],v=i&&("complete"===u||"reset"===u||u in i))),ut&&(p||v)&&(v||Y||!i)&&(Wr(ut)?ut(xt):xt.getTrailing(ut).forEach((function(t){return t.endAnimation()}))),ft||(!R||nr||Dr?i&&i.totalProgress(k,!(!nr||!kt&&!t)):(R._dp._time-R._start!==R._time&&R.render(R._dp._time-R._start),R.resetTo?R.resetTo("totalProgress",k,i._tTime/i._tDur):(R.vars.totalProgress=k,R.invalidate().restart()))),Z)if(t&&tt&&(w.style[tt+dt.os2]=S),vt){if(f){if(g=!t&&k>M&&l+1>b&&b+1>=Gr(pt,dt),at)if(t||!r&&!g)ca(Z,w);else{var L=yo(Z,!0),N=b-c;ca(Z,Qs,L.top+(dt===Ns?N:0)+go,L.left+(dt===Ns?0:N)+go)}na(r||g?y:_),D&&k<1&&r||T(E+(1!==k||g?0:C))}}else T(Br(E+C*k));ot&&!n.tween&&!nr&&!Dr&&z.restart(!0),X&&(p||rt&&k&&(k<1||!Er))&&Zs(X.targets).forEach((function(t){return t.classList[r||rt?"add":"remove"](X.className)})),G&&!ft&&!t&&G(xt),f&&!nr?(ft&&(v&&("complete"===u?i.pause().totalProgress(1):"reset"===u?i.restart(!0).pause():"restart"===u?i.restart(!0):i[u]()),G&&G(xt)),!p&&Er||(W&&p&&Zr(xt,W),yt[h]&&Zr(xt,yt[h]),rt&&(1===k?xt.kill(!1,1):yt[h]=0),p||yt[h=1===k?1:3]&&Zr(xt,yt[h])),ht&&!r&&Math.abs(xt.getVelocity())>(Qr(ht)?ht:2500)&&(Jr(xt.callbackAnimation),R?R.progress(1):Jr(i,"reverse"===u?1:!k,1))):ft&&G&&!nr&&G(xt)}if(A){var V=lt?b/lt.duration()*(lt._caScrollDist||0):b;I(V+(d._isFlipped?1:0)),A(V)}B&&B(-b/lt.duration()*(lt._caScrollDist||0))}},xt.enable=function(e,i){xt.enabled||(xt.enabled=!0,To(pt,"resize",zo),mt||To(pt,"scroll",Lo),Tt&&To(t,"refreshInit",Tt),!1!==e&&(xt.progress=It=0,o=a=St=Dt()),!1!==i&&xt.refresh())},xt.getTween=function(t){return t&&n?n.tween:R},xt.setPositions=function(t,e,i,n){if(lt){var s=lt.scrollTrigger,r=lt.duration(),o=s.end-s.start;t=s.start+o*t/r,e=s.start+o*e/r}xt.refresh(!1,!1,{start:Lr(t,i&&!!xt._startClamp),end:Lr(e,i&&!!xt._endClamp)},n),xt.update()},xt.adjustPinSpacing=function(t){if(k&&t){var e=k.indexOf(dt.d)+1;k[e]=parseFloat(k[e])+t+go,k[1]=parseFloat(k[1])+t+go,na(k)}},xt.disable=function(e,i){if(xt.enabled&&(!1!==e&&xt.revert(!0,!0),xt.enabled=xt.isActive=!1,i||R&&R.pause(),F=0,s&&(s.uncache=1),Tt&&Eo(t,"refreshInit",Tt),z&&(z.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!mt)){for(var r=Oo.length;r--;)if(Oo[r].scroller===pt&&Oo[r]!==xt)return;Eo(pt,"resize",zo),mt||Eo(pt,"scroll",Lo)}},xt.kill=function(t,n){xt.disable(t,n),R&&!n&&R.kill(),K&&delete Po[K];var r=Oo.indexOf(xt);r>=0&&Oo.splice(r,1),r===or&&Yo>0&&or--,r=0,Oo.forEach((function(t){return t.scroller===xt.scroller&&(r=1)})),r||Sr||(xt.scroll.rec=0),i&&(i.scrollTrigger=null,t&&i.revert({kill:!1}),n||i.kill()),h&&[h,u,d,f].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),Ir===xt&&(Ir=0),Z&&(s&&(s.uncache=1),r=0,Oo.forEach((function(t){return t.pin===Z&&r++})),r||(s.spacer=0)),e.onKill&&e.onKill(xt)},Oo.push(xt),xt.enable(!1,!1),U&&U(xt),i&&i.add&&!m){var Pt=xt.update;xt.update=function(){xt.update=Pt,c||l||xt.refresh()},Hs.delayedCall(.01,xt.update),m=.01,c=l=0}else xt.refresh();Z&&function(){if(kr!==Go){var t=kr=Go;requestAnimationFrame((function(){return t===Go&&Wo(!0)}))}}()}else this.update=this.refresh=this.kill=Vr},t.register=function(e){return Gs||(Hs=e||jr(),Ur()&&window.document&&t.enable(),Gs=Pr),Gs},t.defaults=function(t){if(t)for(var e in t)ko[e]=t[e];return ko},t.disable=function(t,e){Pr=0,Oo.forEach((function(i){return i[e?"kill":"disable"](t)})),Eo(Xs,"wheel",Lo),Eo(Ks,"scroll",Lo),clearInterval(ir),Eo(Ks,"touchcancel",Vr),Eo(Qs,"touchstart",Vr),xo(Eo,Ks,"pointerdown,touchstart,mousedown",zr),xo(Eo,Ks,"pointerup,touchend,mouseup",Fr),Js.kill(),Xr(Eo);for(var i=0;i<Ts.length;i+=3)Co(Eo,Ts[i],Ts[i+1]),Co(Eo,Ts[i],Ts[i+2])},t.enable=function(){if(Xs=window,Ks=document,Ws=Ks.documentElement,Qs=Ks.body,Hs&&(Zs=Hs.utils.toArray,tr=Hs.utils.clamp,yr=Hs.core.context||Vr,ur=Hs.core.suppressOverwrites||Vr,_r=Xs.history.scrollRestoration||"auto",Qo=Xs.pageYOffset,Hs.core.globals("ScrollTrigger",t),Qs)){Pr=1,(wr=document.createElement("div")).style.height="100vh",wr.style.position="absolute",Xo(),Nr(),$s.register(Hs),t.isTouch=$s.isTouch,vr=$s.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),pr=1===$s.isTouch,To(Xs,"wheel",Lo),Ys=[Xs,Ks,Ws,Qs],Hs.matchMedia?(t.matchMedia=function(t){var e,i=Hs.matchMedia();for(e in t)i.add(e,t[e]);return i},Hs.addEventListener("matchMediaInit",(function(){return $o()})),Hs.addEventListener("matchMediaRevert",(function(){return qo()})),Hs.addEventListener("matchMedia",(function(){Wo(0,1),Uo("matchMedia")})),Hs.matchMedia("(orientation: portrait)",(function(){return No(),No}))):console.warn("Requires GSAP 3.11.0 or later"),No(),To(Ks,"scroll",Lo);var e,i,n=Qs.style,s=n.borderTopStyle,r=Hs.core.Animation.prototype;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",e=yo(Qs),Ns.m=Math.round(e.top+Ns.sc())||0,Ls.m=Math.round(e.left+Ls.sc())||0,s?n.borderTopStyle=s:n.removeProperty("border-top-style"),ir=setInterval(Ro,250),Hs.delayedCall(.5,(function(){return Dr=0})),To(Ks,"touchcancel",Vr),To(Qs,"touchstart",Vr),xo(To,Ks,"pointerdown,touchstart,mousedown",zr),xo(To,Ks,"pointerup,touchend,mouseup",Fr),rr=Hs.utils.checkPrefix("transform"),ta.push(rr),Gs=Ar(),Js=Hs.delayedCall(.2,Wo).pause(),lr=[Ks,"visibilitychange",function(){var t=Xs.innerWidth,e=Xs.innerHeight;Ks.hidden?(ar=t,cr=e):ar===t&&cr===e||zo()},Ks,"DOMContentLoaded",Wo,Xs,"load",Wo,Xs,"resize",zo],Xr(To),Oo.forEach((function(t){return t.enable(0,1)})),i=0;i<Ts.length;i+=3)Co(Eo,Ts[i],Ts[i+1]),Co(Eo,Ts[i],Ts[i+2])}},t.config=function(e){"limitCallbacks"in e&&(Er=!!e.limitCallbacks);var i=e.syncInterval;i&&clearInterval(ir)||(ir=i)&&setInterval(Ro,i),"ignoreMobileResize"in e&&(pr=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Xr(Eo)||Xr(To,e.autoRefreshEvents||"none"),dr=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var i=zs(t),n=Ts.indexOf(i),s=qr(i);~n&&Ts.splice(n,s?6:2),e&&(s?Es.unshift(Xs,e,Qs,e,Ws,e):Es.unshift(i,e))},t.clearMatchMedia=function(t){Oo.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,i){var n=(Kr(t)?zs(t):t).getBoundingClientRect(),s=n[i?so:ro]*e||0;return i?n.right-s>0&&n.left+s<Xs.innerWidth:n.bottom-s>0&&n.top+s<Xs.innerHeight},t.positionInViewport=function(t,e,i){Kr(t)&&(t=zs(t));var n=t.getBoundingClientRect(),s=n[i?so:ro],r=null==e?s/2:e in Io?Io[e]*s:~e.indexOf("%")?parseFloat(e)*s/100:parseFloat(e)||0;return i?(n.left+r)/Xs.innerWidth:(n.top+r)/Xs.innerHeight},t.killAll=function(t){if(Oo.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=Fo.killAll||[];Fo={},e.forEach((function(t){return t()}))}},t}();da.version="3.12.5",da.saveStyles=function(t){return t?Zs(t).forEach((function(t){if(t&&t.style){var e=jo.indexOf(t);e>=0&&jo.splice(e,5),jo.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Hs.core.getCache(t),yr())}})):jo},da.revert=function(t,e){return $o(!t,e)},da.create=function(t,e){return new da(t,e)},da.refresh=function(t){return t?zo():(Gs||da.register())&&Wo(!0)},da.update=function(t){return++Ts.cache&&Jo(!0===t?2:0)},da.clearScrollMemory=Ho,da.maxScroll=function(t,e){return Gr(t,e?Ls:Ns)},da.getScrollFunc=function(t,e){return Fs(zs(t),e?Ls:Ns)},da.getById=function(t){return Po[t]},da.getAll=function(){return Oo.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},da.isScrolling=function(){return!!Or},da.snapDirectional=bo,da.addEventListener=function(t,e){var i=Fo[t]||(Fo[t]=[]);~i.indexOf(e)||i.push(e)},da.removeEventListener=function(t,e){var i=Fo[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},da.batch=function(t,e){var i,n=[],s={},r=e.interval||.016,o=e.batchMax||1e9,a=function(t,e){var i=[],n=[],s=Hs.delayedCall(r,(function(){e(i,n),i=[],n=[]})).pause();return function(t){i.length||s.restart(!0),i.push(t.trigger),n.push(t),o<=i.length&&s.progress(1)}};for(i in e)s[i]="on"===i.substr(0,2)&&Wr(e[i])&&"onRefreshInit"!==i?a(0,e[i]):e[i];return Wr(o)&&(o=o(),To(da,"refresh",(function(){return o=e.batchMax()}))),Zs(t).forEach((function(t){var e={};for(i in s)e[i]=s[i];e.trigger=t,n.push(da.create(e))})),n};var fa,pa=function(t,e,i,n){return e>n?t(n):e<0&&t(0),i>n?(n-e)/(i-e):i<0?e/(e-i):1},ga=function t(e,i){!0===i?e.style.removeProperty("touch-action"):e.style.touchAction=!0===i?"auto":i?"pan-"+i+($s.isTouch?" pinch-zoom":""):"none",e===Ws&&t(Qs,i)},ma={auto:1,scroll:1},va=function(t){var e,i=t.event,n=t.target,s=t.axis,r=(i.changedTouches?i.changedTouches[0]:i).target,o=r._gsap||Hs.core.getCache(r),a=Ar();if(!o._isScrollT||a-o._isScrollT>2e3){for(;r&&r!==Qs&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!ma[(e=mo(r)).overflowY]&&!ma[e.overflowX]);)r=r.parentNode;o._isScroll=r&&r!==n&&!qr(r)&&(ma[(e=mo(r)).overflowY]||ma[e.overflowX]),o._isScrollT=a}(o._isScroll||"x"===s)&&(i.stopPropagation(),i._gsapAllow=!0)},ya=function(t,e,i,n){return $s.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:n=n&&va,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&To(Ks,$s.eventTypes[0],wa,!1,!0)},onDisable:function(){return Eo(Ks,$s.eventTypes[0],wa,!0)}})},_a=/(input|label|select|textarea)/i,wa=function(t){var e=_a.test(t.target.tagName);(e||fa)&&(t._gsapAllow=!0,fa=e)},ba=function(t){Yr(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,i,n,s,r,o,a,c,l=t,h=l.normalizeScrollX,u=l.momentum,d=l.allowNestedScroll,f=l.onRelease,p=zs(t.target)||Ws,g=Hs.core.globals().ScrollSmoother,m=g&&g.get(),v=vr&&(t.content&&zs(t.content)||m&&!1!==t.content&&!m.smooth()&&m.content()),y=Fs(p,Ns),_=Fs(p,Ls),w=1,b=($s.isTouch&&Xs.visualViewport?Xs.visualViewport.scale*Xs.visualViewport.width:Xs.outerWidth)/Xs.innerWidth,x=0,T=Wr(u)?function(){return u(e)}:function(){return u||2.8},E=ya(p,t.type,!0,d),C=function(){return s=!1},S=Vr,k=Vr,I=function(){i=Gr(p,Ns),k=tr(vr?1:0,i),h&&(S=tr(0,Gr(p,Ls))),n=Go},D=function(){v._gsap.y=Br(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},A=function(){I(),r.isActive()&&r.vars.scrollY>i&&(y()>i?r.progress(1)&&y(i):r.resetTo("scrollY",i))};return v&&Hs.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return vr&&"touchmove"===t.type&&function(){if(s){requestAnimationFrame(C);var t=Br(e.deltaY/2),i=k(y.v-t);if(v&&i!==y.v+y.offset){y.offset=i-y.v;var n=Br((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",v._gsap.y=n+"px",y.cacheID=Ts.cache,Jo()}return!0}y.offset&&D(),s=!0}()||w>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){s=!1;var t=w;w=Br((Xs.visualViewport&&Xs.visualViewport.scale||1)/b),r.pause(),t!==w&&ga(p,w>1.01||!h&&"x"),o=_(),a=y(),I(),n=Go},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&D(),e){Ts.cache++;var n,s,o=T();h&&(s=(n=_())+.05*o*-t.velocityX/.227,o*=pa(_,n,s,Gr(p,Ls)),r.vars.scrollX=S(s)),s=(n=y())+.05*o*-t.velocityY/.227,o*=pa(y,n,s,Gr(p,Ns)),r.vars.scrollY=k(s),r.invalidate().duration(o).play(.01),(vr&&r.vars.scrollY>=i||n>=i-1)&&Hs.to({},{onUpdate:A,duration:o})}else c.restart(!0);f&&f(t)},t.onWheel=function(){r._ts&&r.pause(),Ar()-x>1e3&&(n=0,x=Ar())},t.onChange=function(t,e,i,s,r){if(Go!==n&&I(),e&&h&&_(S(s[2]===e?o+(t.startX-t.x):_()+e-s[1])),i){y.offset&&D();var c=r[2]===i,l=c?a+t.startY-t.y:y()+i-r[1],u=k(l);c&&l!==u&&(a+=u-l),y(u)}(i||e)&&Jo()},t.onEnable=function(){ga(p,!h&&"x"),da.addEventListener("refresh",A),To(Xs,"resize",A),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},t.onDisable=function(){ga(p,!0),Eo(Xs,"resize",A),da.removeEventListener("refresh",A),E.kill()},t.lockAxis=!1!==t.lockAxis,(e=new $s(t)).iOS=vr,vr&&!y()&&y(1),vr&&Hs.ticker.add(Vr),c=e._dc,r=Hs.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:la(y,y(),(function(){return r.pause()}))},onUpdate:Jo,onComplete:c.vars.onComplete}),e};da.sort=function(t){return Oo.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},da.observe=function(t){return new $s(t)},da.normalizeScroll=function(t){if(void 0===t)return fr;if(!0===t&&fr)return fr.enable();if(!1===t)return fr&&fr.kill(),void(fr=t);var e=t instanceof $s?t:ba(t);return fr&&fr.target===e.target&&fr.kill(),qr(e.target)&&(fr=e),e},da.core={_getVelocityProp:Vs,_inputObserver:ya,_scrollers:Ts,_proxies:Es,bridge:{ss:function(){Or||Uo("scrollStart"),Or=Ar()},ref:function(){return nr}}},jr()&&Hs.registerPlugin(da),rs.registerPlugin(da);const xa=window.matchMedia("(min-width: 701px)");function Ta(){xa.matches&&rs.to(".navbar",{scrollTrigger:{trigger:".menu",start:"top top",end:"max",pin:!0,pinSpacing:!1}})}function Ea(t,e,i,n){const s=t.textContent;return t.textContent="",s.split("").forEach((e=>{const i=document.createElement("span");i.textContent=e,t.appendChild(i)})),Ca(t,e,i,n)}function Ca(t,e=1,i=.03,n=0){return rs.fromTo(t.childNodes,{opacity:0,y:50},{scrollTrigger:{trigger:t,start:"top center+=100px",end:"center center"},opacity:1,y:50,duration:e,stagger:i,delay:n,ease:"power4.out"})}function Sa(t,e,i,n){e?rs.fromTo(t,{opacity:0},{scrollTrigger:{trigger:e,start:"top center+=100px",end:"center center+=100px"},opacity:1,duration:n,delay:i}):rs.fromTo(t,{opacity:0},{opacity:1,duration:n,delay:i})}Ta(),xa.addEventListener("change",Ta);const ka=document.getElementById("scroll-up");ka.style.display="none";const Ia=document.querySelector(".language-selector"),Da=Ia.querySelector(".languages");const Aa=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[i++]=s:s<2048?(e[i++]=s>>6|192,e[i++]=63&s|128):55296==(64512&s)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),e[i++]=s>>18|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128,e[i++]=63&s|128):(e[i++]=s>>12|224,e[i++]=s>>6&63|128,e[i++]=63&s|128)}return e},Ma={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const s=t[e],r=e+1<t.length,o=r?t[e+1]:0,a=e+2<t.length,c=a?t[e+2]:0,l=s>>2,h=(3&s)<<4|o>>4;let u=(15&o)<<2|c>>6,d=63&c;a||(d=64,r||(u=64)),n.push(i[l],i[h],i[u],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Aa(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,n=0;for(;i<t.length;){const s=t[i++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[i++];e[n++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(r>>10)),e[n++]=String.fromCharCode(56320+(1023&r))}else{const r=t[i++],o=t[i++];e[n++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const s=i[t.charAt(e++)],r=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const a=e<t.length?i[t.charAt(e)]:64;if(++e,null==s||null==r||null==o||null==a)throw new Oa;const c=s<<2|r>>4;if(n.push(c),64!==o){const t=r<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Oa extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pa=function(t){return function(t){const e=Aa(t);return Ma.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ra=function(t){try{return Ma.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const La=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Na=()=>{try{return La()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&Ra(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},za=t=>{const e=(t=>{var e,i;return null===(i=null===(e=Na())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]})(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),n]:[e.substring(0,i),n]},Fa=()=>{var t;return null===(t=Na())||void 0===t?void 0:t.config};class Va{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}function Ba(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ua(){return!function(){var t;const e=null===(t=Na())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ja(){try{return"object"==typeof indexedDB}catch(t){return!1}}class qa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$a.prototype.create)}}class $a{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,s=this.errors[t],r=s?function(t,e){return t.replace(Ha,((t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`}))}(s,i):"Error",o=`${this.serviceName}: ${r} (${n}).`;return new qa(n,o,i)}}const Ha=/\{\$([^}]+)}/g;function Ga(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const s of i){if(!n.includes(s))return!1;const i=t[s],r=e[s];if(Xa(i)&&Xa(r)){if(!Ga(i,r))return!1}else if(i!==r)return!1}for(const t of n)if(!i.includes(t))return!1;return!0}function Xa(t){return null!==t&&"object"==typeof t}function Ka(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qa="[DEFAULT]";class Ya{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Va;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(n)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(t)&&e.resolve(n)}return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(n,s);const r=this.instances.get(n);return r&&t(r,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===Qa?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var n;return i||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ja{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ya(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Za=[];var tc;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(tc||(tc={}));const ec={debug:tc.DEBUG,verbose:tc.VERBOSE,info:tc.INFO,warn:tc.WARN,error:tc.ERROR,silent:tc.SILENT},ic=tc.INFO,nc={[tc.DEBUG]:"log",[tc.VERBOSE]:"log",[tc.INFO]:"info",[tc.WARN]:"warn",[tc.ERROR]:"error"},sc=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),s=nc[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${n}]  ${t.name}:`,...i)};class rc{constructor(t){this.name=t,this._logLevel=ic,this._logHandler=sc,this._userLogHandler=null,Za.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tc))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ec[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tc.DEBUG,...t),this._logHandler(this,tc.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tc.VERBOSE,...t),this._logHandler(this,tc.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tc.INFO,...t),this._logHandler(this,tc.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tc.WARN,...t),this._logHandler(this,tc.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tc.ERROR,...t),this._logHandler(this,tc.ERROR,...t)}}let oc,ac;const cc=new WeakMap,lc=new WeakMap,hc=new WeakMap,uc=new WeakMap,dc=new WeakMap;let fc={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return lc.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hc.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mc(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pc(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ac||(ac=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(vc(this),e),mc(cc.get(this))}:function(...e){return mc(t.apply(vc(this),e))}:function(e,...i){const n=t.call(vc(this),e,...i);return hc.set(n,e.sort?e.sort():[e]),mc(n)}}function gc(t){return"function"==typeof t?pc(t):(t instanceof IDBTransaction&&function(t){if(lc.has(t))return;const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",r),t.removeEventListener("abort",r)},s=()=>{e(),n()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",r),t.addEventListener("abort",r)}));lc.set(t,e)}(t),e=t,(oc||(oc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,fc):t);var e}function mc(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",r)},s=()=>{e(mc(t.result)),n()},r=()=>{i(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",r)}));return e.then((e=>{e instanceof IDBCursor&&cc.set(e,t)})).catch((()=>{})),dc.set(e,t),e}(t);if(uc.has(t))return uc.get(t);const e=gc(t);return e!==t&&(uc.set(t,e),dc.set(e,t)),e}const vc=t=>dc.get(t);const yc=["get","getKey","getAll","getAllKeys","count"],_c=["put","add","delete","clear"],wc=new Map;function bc(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(wc.get(e))return wc.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,s=_c.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!s&&!yc.includes(i))return;const r=async function(t,...e){const r=this.transaction(t,s?"readwrite":"readonly");let o=r.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),s&&r.done]))[0]};return wc.set(e,r),r}fc=(t=>({...t,get:(e,i,n)=>bc(e,i)||t.get(e,i,n),has:(e,i)=>!!bc(e,i)||t.has(e,i)}))(fc);class xc{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Tc="@firebase/app",Ec="0.10.16",Cc=new rc("@firebase/app"),Sc="@firebase/app-compat",kc="@firebase/analytics-compat",Ic="@firebase/analytics",Dc="@firebase/app-check-compat",Ac="@firebase/app-check",Mc="@firebase/auth",Oc="@firebase/auth-compat",Pc="@firebase/database",Rc="@firebase/data-connect",Lc="@firebase/database-compat",Nc="@firebase/functions",zc="@firebase/functions-compat",Fc="@firebase/installations",Vc="@firebase/installations-compat",Bc="@firebase/messaging",Uc="@firebase/messaging-compat",jc="@firebase/performance",qc="@firebase/performance-compat",$c="@firebase/remote-config",Hc="@firebase/remote-config-compat",Gc="@firebase/storage",Xc="@firebase/storage-compat",Kc="@firebase/firestore",Wc="@firebase/vertexai",Qc="@firebase/firestore-compat",Yc="firebase",Jc="[DEFAULT]",Zc={[Tc]:"fire-core",[Sc]:"fire-core-compat",[Ic]:"fire-analytics",[kc]:"fire-analytics-compat",[Ac]:"fire-app-check",[Dc]:"fire-app-check-compat",[Mc]:"fire-auth",[Oc]:"fire-auth-compat",[Pc]:"fire-rtdb",[Rc]:"fire-data-connect",[Lc]:"fire-rtdb-compat",[Nc]:"fire-fn",[zc]:"fire-fn-compat",[Fc]:"fire-iid",[Vc]:"fire-iid-compat",[Bc]:"fire-fcm",[Uc]:"fire-fcm-compat",[jc]:"fire-perf",[qc]:"fire-perf-compat",[$c]:"fire-rc",[Hc]:"fire-rc-compat",[Gc]:"fire-gcs",[Xc]:"fire-gcs-compat",[Kc]:"fire-fst",[Qc]:"fire-fst-compat",[Wc]:"fire-vertex","fire-js":"fire-js",[Yc]:"fire-js-all"},tl=new Map,el=new Map,il=new Map;function nl(t,e){try{t.container.addComponent(e)}catch(i){Cc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function sl(t){const e=t.name;if(il.has(e))return Cc.debug(`There were multiple attempts to register component ${e}.`),!1;il.set(e,t);for(const e of tl.values())nl(e,t);for(const e of el.values())nl(e,t);return!0}function rl(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}const ol=new $a("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class al{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wa("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ol.create("app-deleted",{appName:this._name})}}function cl(t,e={}){let i=t;if("object"!=typeof e){e={name:e}}const n=Object.assign({name:Jc,automaticDataCollectionEnabled:!1},e),s=n.name;if("string"!=typeof s||!s)throw ol.create("bad-app-name",{appName:String(s)});if(i||(i=Fa()),!i)throw ol.create("no-options");const r=tl.get(s);if(r){if(Ga(i,r.options)&&Ga(n,r.config))return r;throw ol.create("duplicate-app",{appName:s})}const o=new Ja(s);for(const t of il.values())o.addComponent(t);const a=new al(i,n,o);return tl.set(s,a),a}function ll(t,e,i){var n;let s=null!==(n=Zc[t])&&void 0!==n?n:t;i&&(s+=`-${i}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const t=[`Unable to register library "${s}" with version "${e}":`];return r&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cc.warn(t.join(" "))}sl(new Wa(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const hl="firebase-heartbeat-store";let ul=null;function dl(){return ul||(ul=function(t,e,{blocked:i,upgrade:n,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=mc(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(mc(o.result),t.oldVersion,t.newVersion,mc(o.transaction),t)})),i&&o.addEventListener("blocked",(t=>i(t.oldVersion,t.newVersion,t))),a.then((t=>{r&&t.addEventListener("close",(()=>r())),s&&t.addEventListener("versionchange",(t=>s(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(hl)}catch(t){console.warn(t)}}}).catch((t=>{throw ol.create("idb-open",{originalErrorMessage:t.message})}))),ul}async function fl(t,e){try{const i=(await dl()).transaction(hl,"readwrite"),n=i.objectStore(hl);await n.put(e,pl(t)),await i.done}catch(t){if(t instanceof qa)Cc.warn(t.message);else{const e=ol.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Cc.warn(e.message)}}}function pl(t){return`${t.name}!${t.options.appId}`}class gl{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vl(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ml();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(t){Cc.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=ml(),{heartbeatsToSend:i,unsentEntries:n}=function(t,e=1024){const i=[];let n=t.slice();for(const s of t){const t=i.find((t=>t.agent===s.agent));if(t){if(t.dates.push(s.date),yl(i)>e){t.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),yl(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),s=Pa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cc.warn(t),""}}}function ml(){return(new Date).toISOString().substring(0,10)}class vl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ja()&&new Promise(((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await dl()).transaction(hl),i=await e.objectStore(hl).get(pl(t));return await e.done,i}catch(t){if(t instanceof qa)Cc.warn(t.message);else{const e=ol.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Cc.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return fl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return fl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function yl(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}var _l;_l="",sl(new Wa("platform-logger",(t=>new xc(t)),"PRIVATE")),sl(new Wa("heartbeat",(t=>new gl(t)),"PRIVATE")),ll(Tc,Ec,_l),ll(Tc,Ec,"esm2017"),ll("fire-js","");ll("firebase","11.0.2","app");var wl,bl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xl={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(t,e,i){i||(i=0);var n=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)n[s]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(s=0;16>s;++s)n[s]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.g[0],i=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^i&(s^r))+n[0]+3614090360&4294967295;o=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=i+(o<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s^r)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(s^(i|~r))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(s^(i|~r))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(s^(i|~r))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((r=(e=i+((o=e+(s^(i|~r))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=r+((o=s+(e^(r|~i))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}function n(t,e){this.h=e;for(var i=[],n=!0,s=t.length-1;0<=s;s--){var r=0|t[s];n&&r==e||(i[s]=r,n=!1)}this.g=i}!function(t,e){function i(){}i.prototype=e.prototype,t.D=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.C=function(t,i,n){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[i].apply(t,s)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,s=this.B,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)i(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(s[r++]=t.charCodeAt(o++),r==this.blockSize){i(this,s),r=0;break}}else for(;o<e;)if(s[r++]=t[o++],r==this.blockSize){i(this,s),r=0;break}}this.h=r,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var i=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&i,i/=256;for(this.u(t),t=Array(16),e=i=0;4>e;++e)for(var n=0;32>n;n+=8)t[i++]=this.g[e]>>>n&255;return t};var s={};function r(t){return-128<=t&&128>t?function(t,e){var i=s;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=e(t)}(t,(function(t){return new n([0|t],0>t?-1:0)})):new n([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],i=1,s=0;t>=i;s++)e[s]=t/i|0,i*=4294967296;return new n(e,0)}var a=r(0),c=r(1),l=r(16777216);function h(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function u(t){return-1==t.h}function d(t){for(var e=t.g.length,i=[],s=0;s<e;s++)i[s]=~t.g[s];return new n(i,~t.h).add(c)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(h(e))throw Error("division by zero");if(h(t))return new g(a,a);if(u(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(u(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(u(t)||u(e))throw Error("slowDivide_ only works with positive integers.");for(var i=c,n=e;0>=n.l(t);)i=v(i),n=v(n);var s=y(i,1),r=y(n,1);for(n=y(n,2),i=y(i,2);!h(n);){var l=r.add(n);0>=l.l(t)&&(s=s.add(i),r=l),n=y(n,1),i=y(i,1)}return e=f(t,s.j(e)),new g(s,e)}for(s=a;0<=t.l(e);){for(i=Math.max(1,Math.floor(t.m()/e.m())),n=48>=(n=Math.ceil(Math.log(i)/Math.LN2))?1:Math.pow(2,n-48),l=(r=o(i)).j(e);u(l)||0<l.l(t);)l=(r=o(i-=n)).j(e);h(r)&&(r=c),s=s.add(r),t=f(t,l)}return new g(s,t)}function v(t){for(var e=t.g.length+1,i=[],s=0;s<e;s++)i[s]=t.i(s)<<1|t.i(s-1)>>>31;return new n(i,t.h)}function y(t,e){var i=e>>5;e%=32;for(var s=t.g.length-i,r=[],o=0;o<s;o++)r[o]=0<e?t.i(o+i)>>>e|t.i(o+i+1)<<32-e:t.i(o+i);return new n(r,t.h)}(t=n.prototype).m=function(){if(u(this))return-d(this).m();for(var t=0,e=1,i=0;i<this.g.length;i++){var n=this.i(i);t+=(0<=n?n:4294967296+n)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(h(this))return"0";if(u(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),i=this,n="";;){var s=m(i,e).g,r=((0<(i=f(i,s.j(e))).g.length?i.g[0]:i.h)>>>0).toString(t);if(h(i=s))return r+n;for(;6>r.length;)r="0"+r;n=r+n}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return u(t=f(this,t))?-1:h(t)?0:1},t.abs=function(){return u(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0,r=0;r<=e;r++){var o=s+(65535&this.i(r))+(65535&t.i(r)),a=(o>>>16)+(this.i(r)>>>16)+(t.i(r)>>>16);s=a>>>16,o&=65535,a&=65535,i[r]=a<<16|o}return new n(i,-2147483648&i[i.length-1]?-1:0)},t.j=function(t){if(h(this)||h(t))return a;if(u(this))return u(t)?d(this).j(d(t)):d(d(this).j(t));if(u(t))return d(this.j(d(t)));if(0>this.l(l)&&0>t.l(l))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,i=[],s=0;s<2*e;s++)i[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var c=this.i(s)>>>16,f=65535&this.i(s),g=t.i(r)>>>16,m=65535&t.i(r);i[2*s+2*r]+=f*m,p(i,2*s+2*r),i[2*s+2*r+1]+=c*m,p(i,2*s+2*r+1),i[2*s+2*r+1]+=f*g,p(i,2*s+2*r+1),i[2*s+2*r+2]+=c*g,p(i,2*s+2*r+2)}for(s=0;s<e;s++)i[s]=i[2*s+1]<<16|i[2*s];for(s=e;s<2*e;s++)i[s]=0;return new n(i,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)&t.i(s);return new n(i,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)|t.i(s);return new n(i,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)^t.i(s);return new n(i,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,xl.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=o,n.fromString=function t(e,i){if(0==e.length)throw Error("number format error: empty string");if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if("-"==e.charAt(0))return d(t(e.substring(1),i));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=o(Math.pow(i,8)),s=a,r=0;r<e.length;r+=8){var c=Math.min(8,e.length-r),l=parseInt(e.substring(r,r+c),i);8>c?(c=o(Math.pow(i,c)),s=s.j(c).add(o(l))):s=(s=s.j(n)).add(o(l))}return s},wl=xl.Integer=n}).apply(void 0!==bl?bl:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Tl,El,Cl,Sl,kl,Il,Dl,Al,Ml="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ol={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t};var i=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ml&&Ml];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);!function(t,n){if(n)t:{var s=i;t=t.split(".");for(var r=0;r<t.length-1;r++){var o=t[r];if(!(o in s))break t;s=s[o]}(n=n(r=s[t=t[t.length-1]]))!=r&&null!=n&&e(s,t,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var i=0,n=!1,s={next:function(){if(!n&&i<t.length){var s=i++;return{value:e(s,t[s]),done:!1}}return n=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(t,e){return e}))}}));var n=n||{},s=this||self;function r(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,i){return t.call.apply(t.bind,arguments)}function c(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function l(t,e,i){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function h(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function i(){}i.prototype=e.prototype,t.aa=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Qb=function(t,i,n){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[i].apply(t,s)}}function d(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function f(t,e){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(r(i)){const e=t.length||0,n=i.length||0;t.length=e+n;for(let s=0;s<n;s++)t[e+s]=i[s]}else t.push(i)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=s.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var v=!(-1==g().indexOf("Gecko")||-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge")||-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE")||-1!=g().indexOf("Edge"));function y(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function _(t){const e={};for(const i in t)e[i]=t[i];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(t,e){let i,n;for(let e=1;e<arguments.length;e++){for(i in n=arguments[e],n)t[i]=n[i];for(let e=0;e<w.length;e++)i=w[e],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function x(t){var e=1;t=t.split(":");const i=[];for(;0<e&&t.length;)i.push(t.shift()),e--;return t.length&&i.push(t.join(":")),i}function T(t){s.setTimeout((()=>{throw t}),0)}function E(){var t=D;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new S),(t=>t.reset()));class S{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let k,I=!1,D=new class{constructor(){this.h=this.g=null}add(t,e){const i=C.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},A=()=>{const t=s.Promise.resolve(void 0);k=()=>{t.then(M)}};var M=()=>{for(var t;t=E();){try{t.h.call(t.g)}catch(t){T(t)}var e=C;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function O(){this.s=this.s,this.C=this.C}function P(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};s.addEventListener("test",t,e),s.removeEventListener("test",t,e)}catch(t){}return t}();function L(t,e){if(P.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v){t:{try{m(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:N[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&L.aa.h.call(this)}}u(L,P);var N={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(t,e,i,n,s){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ha=s,this.key=++F,this.da=this.fa=!1}function B(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function j(t,e){var i=e.type;if(i in t.g){var n,s=t.g[i],r=Array.prototype.indexOf.call(s,e,void 0);(n=0<=r)&&Array.prototype.splice.call(s,r,1),n&&(B(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function q(t,e,i,n){for(var s=0;s<t.length;++s){var r=t[s];if(!r.da&&r.listener==e&&r.capture==!!i&&r.ha==n)return s}return-1}U.prototype.add=function(t,e,i,n,s){var r=t.toString();(t=this.g[r])||(t=this.g[r]=[],this.h++);var o=q(t,e,n,s);return-1<o?(e=t[o],i||(e.fa=!1)):((e=new V(e,this.src,r,!!n,s)).fa=i,t.push(e)),e};var $="closure_lm_"+(1e6*Math.random()|0),H={};function G(t,e,i,n,s){if(n&&n.once)return K(t,e,i,n,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)G(t,e[r],i,n,s);return null}return i=et(i),t&&t[z]?t.K(e,i,o(n)?!!n.capture:!!n,s):X(t,e,i,!1,n,s)}function X(t,e,i,n,s,r){if(!e)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,c=Z(t);if(c||(t[$]=c=new U(t)),(i=c.add(e,i,n,a,r)).proxy)return i;if(n=function(){function t(i){return e.call(t.src,t.listener,i)}const e=J;return t}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)R||(s=a),void 0===s&&(s=!1),t.addEventListener(e.toString(),n,s);else if(t.attachEvent)t.attachEvent(Y(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function K(t,e,i,n,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)K(t,e[r],i,n,s);return null}return i=et(i),t&&t[z]?t.L(e,i,o(n)?!!n.capture:!!n,s):X(t,e,i,!0,n,s)}function W(t,e,i,n,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)W(t,e[r],i,n,s);else n=o(n)?!!n.capture:!!n,i=et(i),t&&t[z]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(i=q(r=t.g[e],i,n,s))&&(B(r[i]),Array.prototype.splice.call(r,i,1),0==r.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q(e,i,n,s)),(i=-1<t?e[t]:null)&&Q(i))}function Q(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[z])j(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(Y(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=Z(e))?(j(i,t),0==i.h&&(i.src=null,e[$]=null)):B(t)}}}function Y(t){return t in H?H[t]:H[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new L(e,this);var i=t.listener,n=t.ha||t.src;t.fa&&Q(t),t=i.call(n,e)}return t}function Z(t){return(t=t[$])instanceof U?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"==typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function it(){O.call(this),this.i=new U(this),this.M=this,this.F=null}function nt(t,e){var i,n=t.F;if(n)for(i=[];n;n=n.F)i.push(n);if(t=t.M,n=e.type||e,"string"==typeof e)e=new P(e,t);else if(e instanceof P)e.target=e.target||t;else{var s=e;b(e=new P(n,t),s)}if(s=!0,i)for(var r=i.length-1;0<=r;r--){var o=e.g=i[r];s=st(o,n,!0,e)&&s}if(s=st(o=e.g=t,n,!0,e)&&s,s=st(o,n,!1,e)&&s,i)for(r=0;r<i.length;r++)s=st(o=e.g=i[r],n,!1,e)&&s}function st(t,e,i,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.da&&o.capture==i){var a=o.listener,c=o.ha||o.src;o.fa&&j(t.i,o),s=!1!==a.call(c,n)&&s}}return s&&!n.defaultPrevented}function rt(t,e,i){if("function"==typeof t)i&&(t=l(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function ot(t){t.g=rt((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}u(it,O),it.prototype[z]=!0,it.prototype.removeEventListener=function(t,e,i,n){W(this,t,e,i,n)},it.prototype.N=function(){if(it.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)B(i[n]);delete e.g[t],e.h--}}this.F=null},it.prototype.K=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)},it.prototype.L=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};class at extends O{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ct(t){O.call(this),this.h=t,this.g={}}u(ct,O);var lt=[];function ht(t){y(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Q(t)}),t),t.g={}}ct.prototype.N=function(){ct.aa.N.call(this),ht(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=s.JSON.stringify,dt=s.JSON.parse,ft=class{stringify(t){return s.JSON.stringify(t,void 0)}parse(t){return s.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){P.call(this,"d")}function _t(){P.call(this,"c")}u(yt,P),u(_t,P);var wt={},bt=null;function xt(){return bt=bt||new it}function Tt(t){P.call(this,wt.La,t)}function Et(t){const e=xt();nt(e,new Tt(e))}function Ct(t,e){P.call(this,wt.STAT_EVENT,t),this.stat=e}function St(t){const e=xt();nt(e,new Ct(e,t))}function kt(t,e){P.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}function Dt(){this.g=!0}function At(t,e,i,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var s=n[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return ut(i)}catch(t){return e}}(t,i)+(n?" "+n:"")}))}wt.La="serverreachability",u(Tt,P),wt.STAT_EVENT="statevent",u(Ct,P),wt.Ma="timingevent",u(kt,P),Dt.prototype.xa=function(){this.g=!1},Dt.prototype.info=function(){};var Mt,Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rt(){}function Lt(t,e,i,n){this.j=t,this.i=e,this.l=i,this.R=n||1,this.U=new ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}u(Rt,pt),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},Mt=new Rt;var zt={},Ft={};function Vt(t,e,i){t.L=1,t.v=ue(oe(e)),t.m=i,t.P=!0,Bt(t,null)}function Bt(t,e){t.F=Date.now(),qt(t),t.A=oe(t.v);var i=t.A,n=t.R;Array.isArray(n)||(n=[String(n)]),Ce(i.i,"t",n),t.C=0,i=t.j.J,t.h=new Nt,t.g=di(t.j,i?e:null,!t.m),0<t.O&&(t.M=new at(l(t.Y,t,t.g),t.O)),e=t.U,i=t.g,n=t.ca;var s="readystatechange";Array.isArray(s)||(s&&(lt[0]=s.toString()),s=lt);for(var r=0;r<s.length;r++){var o=G(i,s[r],n||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?_(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,i,n,s,r){t.info((function(){if(t.g)if(r)for(var o="",a=r.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var u=h.split("_");o=2<=u.length&&"type"==u[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+n+") [attempt "+s+"]: "+e+"\n"+i+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Ut(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function jt(t,e){var i=t.C,n=e.indexOf("\n",i);return-1==n?Ft:(i=Number(e.substring(i,n)),isNaN(i)?zt:(n+=1)+i>e.length?Ft:(e=e.slice(n,n+i),t.C=n+i,e))}function qt(t){t.S=Date.now()+t.I,$t(t,t.I)}function $t(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(l(t.ba,t),e)}function Ht(t){t.B&&(s.clearTimeout(t.B),t.B=null)}function Gt(t){0==t.j.G||t.J||ai(t.j,t)}function Xt(t){Ht(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ht(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Kt(t,e){try{var i=t.j;if(0!=i.G&&(i.g==t||Zt(i.h,t)))if(!t.K&&Zt(i.h,t)&&3==i.G){try{var n=i.Da.g.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var s=n;if(0==s[0]){t:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break t;oi(i),Qe(i)}ni(i),St(18)}}else i.za=s[1],0<i.za-i.T&&37500>s[2]&&i.F&&0==i.v&&!i.C&&(i.C=It(l(i.Za,i),6e3));if(1>=Jt(i.h)&&i.ca){try{i.ca()}catch(t){}i.ca=void 0}}else li(i,11)}else if((t.K||i.g==t)&&oi(i),!p(e))for(s=i.Da.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(i.T=l[0],l=l[1],2==i.G)if("c"==l[0]){i.K=l[1],i.ia=l[2];const e=l[3];null!=e&&(i.la=e,i.j.info("VER="+i.la));const s=l[4];null!=s&&(i.Aa=s,i.j.info("SVER="+i.Aa));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n=1.5*h,i.L=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=n.h;r.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(te(r,r.h),r.h=null))}if(n.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.ya=t,he(n.I,n.D,t))}}i.G=3,i.l&&i.l.ua(),i.ba&&(i.R=Date.now()-t.F,i.j.info("Handshake RTT: "+i.R+"ms"));var o=t;if((n=i).qa=ui(n,n.J?n.ia:null,n.W),o.K){ee(n.h,o);var a=o,c=n.L;c&&(a.I=c),a.B&&(Ht(a),qt(a)),n.g=o}else ii(n);0<i.i.length&&Je(i)}else"stop"!=l[0]&&"close"!=l[0]||li(i,7);else 3==i.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?li(i,7):We(i):"noop"!=l[0]&&i.l&&i.l.ta(l),i.v=0)}Et()}catch(t){}}Lt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==He(t)?e.j():this.Y(t)},Lt.prototype.Y=function(t){try{if(t==this.g)t:{const d=He(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ge(this.g)))){this.J||4!=d||7==e||Et(),Ht(this);var i=this.g.Z();this.X=i;e:if(Ut(this)){var n=Ge(this.g);t="";var r=n.length,o=4==He(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xt(this),Gt(this);var a="";break e}this.h.i=new s.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:!(o&&e==r-1)});n.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==i,function(t,e,i,n,s,r,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+s+"]: "+e+"\n"+i+"\n"+r+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,i),this.o){if(this.T&&!this.K){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var h=c;break e}}h=null}if(!(i=h)){this.o=!1,this.s=3,St(12),Xt(this),Gt(this);break t}At(this.i,this.l,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kt(this,i)}if(this.P){let t;for(i=!0;!this.J&&this.C<a.length;){if(t=jt(this,a),t==Ft){4==d&&(this.s=4,St(14),i=!1),At(this.i,this.l,null,"[Incomplete Response]");break}if(t==zt){this.s=4,St(15),At(this.i,this.l,a,"[Invalid Chunk]"),i=!1;break}At(this.i,this.l,t,null),Kt(this,t)}if(Ut(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,St(16),i=!1),this.o=this.o&&i,i){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),si(u),u.M=!0,St(11))}}else At(this.i,this.l,a,"[Invalid Chunked Response]"),Xt(this),Gt(this)}else At(this.i,this.l,a,null),Kt(this,a);4==d&&Xt(this),this.o&&!this.J&&(4==d?ai(this.j,this):(this.o=!1,qt(this)))}else(function(t){const e={};t=(t.g&&2<=He(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<t.length;n++){if(p(t[n]))continue;var i=x(t[n]);const s=i[0];if("string"!=typeof(i=i[1]))continue;i=i.trim();const r=e[s]||[];e[s]=r,r.push(i)}!function(t,e){for(const i in t)e.call(void 0,t[i],i,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==i&&0<a.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Xt(this),Gt(this)}}}catch(t){}},Lt.prototype.cancel=function(){this.J=!0,Xt(this)},Lt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),St(17)),Xt(this),this.s=2,Gt(this)):$t(this,this.S-t)};var Wt=class{constructor(t,e){this.g=t,this.map=e}};function Qt(t){this.l=t||10,s.PerformanceNavigationTiming?t=0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ie(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return d(t.i)}function ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(r(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var i=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(r(t)||"string"==typeof t){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const n in t)e[i++]=n;return e}}}(t),n=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(r(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}(t),s=n.length,o=0;o<s;o++)e.call(void 0,n[o],i&&i[o],t)}Qt.prototype.cancel=function(){if(this.i=ie(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var se=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof re){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,ce(this,t.s),this.l=t.l;var e=t.i,i=new be;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),le(this,i),this.m=t.m}else t&&(e=String(t).match(se))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),ce(this,e[4]),this.l=de(e[5]||"",!0),le(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new be(null,this.h))}function oe(t){return new re(t)}function ae(t,e,i){t.j=i?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ce(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function le(t,e,i){e instanceof be?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach((function(t,e){var i=e.toLowerCase();e!=i&&(Te(this,e),Ce(this,i,t))}),t)),t.j=e}(t.i,t.h)):(i||(e=fe(e,_e)),t.i=new be(e,t.h))}function he(t,e,i){t.i.set(e,i)}function ue(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,pe),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var i=this.g;return(i||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.s)&&t.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&t.push("/"),t.push(fe(i,"/"==i.charAt(0)?ye:ve,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.m)&&t.push("#",fe(i,we)),t.join("")};var ge,me=/[#\/\?@]/g,ve=/[#\?:]/g,ye=/[#\?]/g,_e=/[#\?@]/g,we=/#/g;function be(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),s=null;if(0<=n){var r=t[i].substring(0,n);s=t[i].substring(n+1)}else r=t[i];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,(function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)})))}function Te(t,e){xe(t),e=Se(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return xe(t),e=Se(t,e),t.g.has(e)}function Ce(t,e,i){Te(t,e),0<i.length&&(t.i=null,t.g.set(Se(t,e),d(i)),t.h+=i.length)}function Se(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ke(t,e,i,n,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),n(i)}catch(t){}}function Ie(){this.g=new ft}function De(t,e,i){const n=i||"";try{ne(t,(function(t,i){let s=t;o(t)&&(s=ut(t)),e.push(n+i+"="+encodeURIComponent(s))}))}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function Ae(t){this.l=t.Ub||null,this.j=t.eb||!1}function Me(t,e){it.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Oe(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Pe(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Re(t)}function Re(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Le(t){let e="";return y(t,(function(t,i){e+=i,e+=":",e+=t,e+="\r\n"})),e}function Ne(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=Le(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):he(t,e,i))}function ze(t){it.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=be.prototype).add=function(t,e){xe(this),this.i=null,t=Se(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach((function(i,n){i.forEach((function(i){t.call(e,i,n,this)}),this)}),this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){const s=t[n];for(let t=0;t<s.length;t++)i.push(e[n])}return i},t.V=function(t){xe(this);let e=[];if("string"==typeof t)Ee(this,t)&&(e=e.concat(this.g.get(Se(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e},t.set=function(t,e){return xe(this),this.i=null,Ee(this,t=Se(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];const r=encodeURIComponent(String(n)),o=this.V(n);for(n=0;n<o.length;n++){var s=r;""!==o[n]&&(s+="="+encodeURIComponent(String(o[n]))),t.push(s)}}return this.i=t.join("&")},u(Ae,pt),Ae.prototype.g=function(){return new Me(this.l,this.j)},Ae.prototype.i=(ge={},function(){return ge}),u(Me,it),(t=Me.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Re(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||s).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pe(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Re(this)),this.g&&(this.readyState=3,Re(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oe(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pe(this):Re(this),3==this.readyState&&Oe(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Pe(this))},t.Qa=function(t){this.g&&(this.response=t,Pe(this))},t.ga=function(){this.g&&Pe(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Me.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),u(ze,it);var Fe=/^https?$/i,Ve=["POST","PUT"];function Be(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Ue(t),qe(t)}function Ue(t){t.A||(t.A=!0,nt(t,"complete"),nt(t,"error"))}function je(t){if(t.h&&void 0!==n&&(!t.v[1]||4!=He(t)||2!=t.Z()))if(t.u&&4==He(t))rt(t.Ea,0,t);else if(nt(t,"readystatechange"),4==He(t)){t.h=!1;try{const n=t.Z();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var r;if(r=0===n){var o=String(t.D).match(se)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),r=!Fe.test(o?o.toLowerCase():"")}i=r}if(i)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var a=2<He(t)?t.g.statusText:""}catch(t){a=""}t.l=a+" ["+t.Z()+"]",Ue(t)}}finally{qe(t)}}}function qe(t,e){if(t.g){$e(t);const i=t.g,n=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||nt(t,"ready");try{i.onreadystatechange=n}catch(t){}}}function $e(t){t.I&&(s.clearTimeout(t.I),t.I=null)}function He(t){return t.g?t.g.readyState:0}function Ge(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xe(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Ke(t){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xe("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xe("baseRetryDelayMs",5e3,t),this.cb=Xe("retryDelaySeedMs",1e4,t),this.Wa=Xe("forwardChannelMaxRetries",2,t),this.wa=Xe("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Qt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function We(t){if(Ye(t),3==t.G){var e=t.U++,i=oe(t.I);if(he(i,"SID",t.K),he(i,"RID",e),he(i,"TYPE","terminate"),ti(t,i),(e=new Lt(t,t.j,e)).L=2,e.v=ue(oe(i)),i=!1,s.navigator&&s.navigator.sendBeacon)try{i=s.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!i&&s.Image&&((new Image).src=e.v,i=!0),i||(e.g=di(e.j,null),e.g.ea(e.v)),e.F=Date.now(),qt(e)}hi(t)}function Qe(t){t.g&&(si(t),t.g.cancel(),t.g=null)}function Ye(t){Qe(t),t.u&&(s.clearTimeout(t.u),t.u=null),oi(t),t.h.cancel(),t.s&&("number"==typeof t.s&&s.clearTimeout(t.s),t.s=null)}function Je(t){if(!Yt(t.h)&&!t.s){t.s=!0;var e=t.Ga;k||A(),I||(k(),I=!0),D.add(e,t),t.B=0}}function Ze(t,e){var i;i=e?e.l:t.U++;const n=oe(t.I);he(n,"SID",t.K),he(n,"RID",i),he(n,"AID",t.T),ti(t,n),t.m&&t.o&&Ne(n,t.m,t.o),i=new Lt(t,t.j,i,t.B+1),null===t.m&&(i.H=t.o),e&&(t.i=e.D.concat(t.i)),e=ei(t,i,1e3),i.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,i),Vt(i,n,e)}function ti(t,e){t.H&&y(t.H,(function(t,i){he(e,i,t)})),t.l&&ne({},(function(t,i){he(e,i,t)}))}function ei(t,e,i){i=Math.min(t.i.length,i);var n=t.l?l(t.l.Na,t.l,t):null;t:{var s=t.i;let e=-1;for(;;){const t=["count="+i];-1==e?0<i?(e=s[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let r=!0;for(let o=0;o<i;o++){let i=s[o].g;const a=s[o].map;if(i-=e,0>i)e=Math.max(0,s[o].g-100),r=!1;else try{De(a,t,"req"+i+"_")}catch(t){n&&n(a)}}if(r){n=t.join("&");break t}}}return t=t.i.splice(0,i),e.D=t,n}function ii(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;k||A(),I||(k(),I=!0),D.add(e,t),t.v=0}}function ni(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(l(t.Fa,t),ci(t,t.v)),t.v++,!0)}function si(t){null!=t.A&&(s.clearTimeout(t.A),t.A=null)}function ri(t){t.g=new Lt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.T),he(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&he(e,"TO",t.ja),he(e,"TYPE","xmlhttp"),ti(t,e),t.m&&t.o&&Ne(e,t.m,t.o),t.L&&(t.g.I=t.L);var i=t.g;t=t.ia,i.L=1,i.v=ue(oe(e)),i.m=null,i.P=!0,Bt(i,t)}function oi(t){null!=t.C&&(s.clearTimeout(t.C),t.C=null)}function ai(t,e){var i=null;if(t.g==e){oi(t),si(t),t.g=null;var n=2}else{if(!Zt(t.h,e))return;i=e.D,ee(t.h,e),n=1}if(0!=t.G)if(e.o)if(1==n){i=e.m?e.m.length:0,e=Date.now()-e.F;var s=t.B;nt(n=xt(),new kt(n,i)),Je(t)}else ii(t);else if(3==(s=e.s)||0==s&&0<e.X||!(1==n&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=It(l(t.Ga,t,e),ci(t,t.B)),t.B++,0)))}(t,e)||2==n&&ni(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),s){case 1:li(t,5);break;case 4:li(t,10);break;case 3:li(t,6);break;default:li(t,2)}}function ci(t,e){let i=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(i*=2),i*e}function li(t,e){if(t.j.info("Error code "+e),2==e){var i=l(t.fb,t),n=t.Xa;const e=!n;n=new re(n||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ae(n,"https"),ue(n),e?function(t,e){const i=new Dt;if(s.Image){const n=new Image;n.onload=h(ke,i,"TestLoadImage: loaded",!0,e,n),n.onerror=h(ke,i,"TestLoadImage: error",!1,e,n),n.onabort=h(ke,i,"TestLoadImage: abort",!1,e,n),n.ontimeout=h(ke,i,"TestLoadImage: timeout",!1,e,n),s.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(n.toString(),i):function(t,e){new Dt;const i=new AbortController,n=setTimeout((()=>{i.abort(),ke(0,0,!1,e)}),1e4);fetch(t,{signal:i.signal}).then((t=>{clearTimeout(n),t.ok?ke(0,0,!0,e):ke(0,0,!1,e)})).catch((()=>{clearTimeout(n),ke(0,0,!1,e)}))}(n.toString(),i)}else St(2);t.G=0,t.l&&t.l.sa(e),hi(t),Ye(t)}function hi(t){if(t.G=0,t.ka=[],t.l){const e=ie(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function ui(t,e,i){var n=i instanceof re?oe(i):new re(i);if(""!=n.g)e&&(n.g=e+"."+n.g),ce(n,n.s);else{var r=s.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new re(null);n&&ae(o,n),e&&(o.g=e),r&&ce(o,r),i&&(o.l=i),n=o}return i=t.D,e=t.ya,i&&e&&he(n,i,e),he(n,"VER",t.la),ti(t,n),n}function di(t,e,i){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new ze(new Ae({eb:i})):new ze(t.pa)).Ha(t.J),e}function fi(){}function pi(){}function gi(t,e){it.call(this),this.g=new Ke(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new yi(this)}function mi(t){yt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vi(){_t.call(this),this.status=1}function yi(t){this.g=t}(t=ze.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?gt(this.o):gt(Mt),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(t){return void Be(this,t)}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const t of n.keys())i.set(t,n.get(t))}n=Array.from(i.keys()).find((t=>"content-type"==t.toLowerCase())),r=s.FormData&&t instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of i)this.g.setRequestHeader(t,e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$e(this),this.u=!0,this.g.send(t),this.u=!1}catch(t){Be(this,t)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?je(this):this.bb())},t.bb=function(){je(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<He(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Ke.prototype).la=8,t.G=1,t.connect=function(t,e,i,n){St(0),this.W=t,this.H=e||{},i&&void 0!==n&&(this.H.OSID=i,this.H.OAID=n),this.F=this.X,this.I=ui(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new Lt(this,this.j,t);let r=this.o;if(this.S&&(r?(r=_(r),b(r,this.S)):r=this.S),null!==this.m||this.O||(s.H=r,r=null),this.P)t:{for(var e=0,i=0;i<this.i.length;i++){var n=this.i[i];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=i;break t}if(4096===e||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ei(this,s,e),he(i=oe(this.I),"RID",t),he(i,"CVER",22),this.D&&he(i,"X-HTTP-Session-Id",this.D),ti(this,i),r&&(this.O?e="headers="+encodeURIComponent(String(Le(r)))+"&"+e:this.m&&Ne(i,this.m,r)),te(this.h,s),this.Ua&&he(i,"TYPE","init"),this.P?(he(i,"$req",e),he(i,"SID","null"),s.T=!0,Vt(s,i,null)):Vt(s,i,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Yt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,ri(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(l(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Qe(this),ri(this))},t.Za=function(){null!=this.C&&(this.C=null,Qe(this),ni(this),St(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=fi.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},pi.prototype.g=function(t,e){return new gi(t,e)},u(gi,it),gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){We(this.g)},gi.prototype.o=function(t){var e=this.g;if("string"==typeof t){var i={};i.__data__=t,t=i}else this.u&&((i={}).__data__=ut(t),t=i);e.i.push(new Wt(e.Ya++,t)),3==e.G&&Je(e)},gi.prototype.N=function(){this.g.l=null,delete this.j,We(this.g),delete this.g,gi.aa.N.call(this)},u(mi,yt),u(vi,_t),u(yi,fi),yi.prototype.ua=function(){nt(this.g,"a")},yi.prototype.ta=function(t){nt(this.g,new mi(t))},yi.prototype.sa=function(t){nt(this.g,new vi)},yi.prototype.ra=function(){nt(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,Al=Ol.createWebChannelTransport=function(){return new pi},Dl=Ol.getStatEventTarget=function(){return xt()},Il=Ol.Event=wt,kl=Ol.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,Sl=Ol.ErrorCode=Ot,Pt.COMPLETE="complete",Cl=Ol.EventType=Pt,mt.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",it.prototype.listen=it.prototype.K,El=Ol.WebChannel=mt,Ol.FetchXmlHttpFactory=Ae,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,Tl=Ol.XhrIo=ze}).apply(void 0!==Ml?Ml:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Pl="@firebase/firestore";class Rl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rl.UNAUTHENTICATED=new Rl(null),Rl.GOOGLE_CREDENTIALS=new Rl("google-credentials-uid"),Rl.FIRST_PARTY=new Rl("first-party-uid"),Rl.MOCK_USER=new Rl("mock-user");let Ll="11.0.2";const Nl=new rc("@firebase/firestore");function zl(){return Nl.logLevel}function Fl(t,...e){if(Nl.logLevel<=tc.DEBUG){const i=e.map(Ul);Nl.debug(`Firestore (${Ll}): ${t}`,...i)}}function Vl(t,...e){if(Nl.logLevel<=tc.ERROR){const i=e.map(Ul);Nl.error(`Firestore (${Ll}): ${t}`,...i)}}function Bl(t,...e){if(Nl.logLevel<=tc.WARN){const i=e.map(Ul);Nl.warn(`Firestore (${Ll}): ${t}`,...i)}}function Ul(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function jl(t="Unexpected state"){const e=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: `+t;throw Vl(e),new Error(e)}function ql(t,e){t||jl()}function $l(t,e){return t}const Hl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gl extends qa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Kl{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Wl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Rl.UNAUTHENTICATED)))}shutdown(){}}class Ql{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Yl{constructor(t){this.t=t,this.currentUser=Rl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ql(void 0===this.o);let i=this.i;const n=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let s=new Xl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xl,t.enqueueRetryable((()=>n(this.currentUser)))};const r=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{Fl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Fl("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xl)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Fl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(ql("string"==typeof e.accessToken),new Kl(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ql(null===t||"string"==typeof t),new Rl(t)}}class Jl{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Rl.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Zl{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Jl(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Rl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class th{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eh{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ql(void 0===this.o);const i=t=>{null!=t.error&&Fl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.R;return this.R=t.token,Fl("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>i(e)))};const n=t=>{Fl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?n(t):Fl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(ql("string"==typeof t.token),this.R=t.token,new th(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ih(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let e=0;e<t;e++)i[e]=Math.floor(256*Math.random());return i}class nh{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let i="";for(;i.length<20;){const n=ih(40);for(let s=0;s<n.length;++s)i.length<20&&n[s]<e&&(i+=t.charAt(n[s]%62))}return i}}function sh(t,e){return t<e?-1:t>e?1:0}function rh(t,e,i){return t.length===e.length&&t.every(((t,n)=>i(t,e[n])))}class oh{static now(){return oh.fromMillis(Date.now())}static fromDate(t){return oh.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new oh(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gl(Hl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gl(Hl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gl(Hl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gl(Hl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?sh(this.nanoseconds,t.nanoseconds):sh(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ah{static fromTimestamp(t){return new ah(t)}static min(){return new ah(new oh(0,0))}static max(){return new ah(new oh(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ch{constructor(t,e,i){void 0===e?e=0:e>t.length&&jl(),void 0===i?i=t.length-e:i>t.length-e&&jl(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ch.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ch?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const i=t.get(n),s=e.get(n);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class lh extends ch{construct(t,e,i){return new lh(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Gl(Hl.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((t=>t.length>0)))}return new lh(e)}static emptyPath(){return new lh([])}}const hh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uh extends ch{construct(t,e,i){return new uh(t,e,i)}static isValidIdentifier(t){return hh.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uh.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new uh(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const s=()=>{if(0===i.length)throw new Gl(Hl.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let r=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new Gl(Hl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Gl(Hl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,n+=2}else"`"===e?(r=!r,n++):"."!==e||r?(i+=e,n++):(s(),n++)}if(s(),r)throw new Gl(Hl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new uh(e)}static emptyPath(){return new uh([])}}class dh{constructor(t){this.path=t}static fromPath(t){return new dh(lh.fromString(t))}static fromName(t){return new dh(lh.fromString(t).popFirst(5))}static empty(){return new dh(lh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===lh.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return lh.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dh(new lh(t.slice()))}}class fh{constructor(t,e,i,n){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=n}}fh.UNKNOWN_ID=-1;function ph(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=ah.fromTimestamp(1e9===n?new oh(i+1,0):new oh(i,n));return new mh(s,dh.empty(),e)}function gh(t){return new mh(t.readTime,t.key,-1)}class mh{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new mh(ah.min(),dh.empty(),-1)}static max(){return new mh(ah.max(),dh.empty(),-1)}}function vh(t,e){let i=t.readTime.compareTo(e.readTime);return 0!==i?i:(i=dh.comparator(t.documentKey,e.documentKey),0!==i?i:sh(t.largestBatchId,e.largestBatchId))}const yh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _h{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function wh(t){if(t.code!==Hl.FAILED_PRECONDITION||t.message!==yh)throw t;Fl("LocalStore","Unexpectedly lost primary lease")}class bh{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new bh(((i,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof bh?e:bh.resolve(e)}catch(t){return bh.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):bh.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):bh.reject(e)}static resolve(t){return new bh(((e,i)=>{e(t)}))}static reject(t){return new bh(((e,i)=>{i(t)}))}static waitFor(t){return new bh(((e,i)=>{let n=0,s=0,r=!1;t.forEach((t=>{++n,t.next((()=>{++s,r&&s===n&&e()}),(t=>i(t)))})),r=!0,s===n&&e()}))}static or(t){let e=bh.resolve(!1);for(const i of t)e=e.next((t=>t?bh.resolve(t):i()));return e}static forEach(t,e){const i=[];return t.forEach(((t,n)=>{i.push(e.call(this,t,n))})),this.waitFor(i)}static mapArray(t,e){return new bh(((i,n)=>{const s=t.length,r=new Array(s);let o=0;for(let a=0;a<s;a++){const c=a;e(t[c]).next((t=>{r[c]=t,++o,o===s&&i(r)}),(t=>n(t)))}}))}static doWhile(t,e){return new bh(((i,n)=>{const s=()=>{!0===t()?e().next((()=>{s()}),n):i()};s()}))}}function xh(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Th(t){return"IndexedDbTransactionError"===t.name}class Eh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function Ch(t){return null==t}function Sh(t){return 0===t&&1/t==-1/0}function kh(t){return"number"==typeof t&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ih(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=Ah(e)),e=Dh(t.get(i),e);return Ah(e)}function Dh(t,e){let i=e;const n=t.length;for(let e=0;e<n;e++){const n=t.charAt(e);switch(n){case"\0":i+="";break;case"":i+="";break;default:i+=n}}return i}function Ah(t){return t+""}Eh.oe=-1;const Mh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ph=Oh,Rh=[...Ph,"indexConfiguration","indexState","indexEntries"];function Lh(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Nh(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function zh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Fh{constructor(t,e){this.comparator=t,this.root=e||Bh.EMPTY}insert(t,e){return new Fh(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Bh.BLACK,null,null))}remove(t){return new Fh(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bh.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vh(this.root,t,this.comparator,!0)}}class Vh{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&n&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bh{constructor(t,e,i,n,s){this.key=t,this.value=e,this.color=null!=i?i:Bh.RED,this.left=null!=n?n:Bh.EMPTY,this.right=null!=s?s:Bh.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,s){return new Bh(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const s=i(t,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(t,e,i),null):0===s?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Bh.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return Bh.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bh.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jl();if(this.right.isRed())throw jl();const t=this.left.check();if(t!==this.right.check())throw jl();return t+(this.isRed()?0:1)}}Bh.EMPTY=null,Bh.RED=!0,Bh.BLACK=!1,Bh.EMPTY=new class{constructor(){this.size=0}get key(){throw jl()}get value(){throw jl()}get color(){throw jl()}get left(){throw jl()}get right(){throw jl()}copy(t,e,i,n,s){return this}insert(t,e,i){return new Bh(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Uh{constructor(t){this.comparator=t,this.data=new Fh(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jh(this.data.getIterator())}getIteratorFrom(t){return new jh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Uh))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Uh(this.comparator);return e.data=t,e}}class jh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qh{constructor(t){this.fields=t,t.sort(uh.comparator)}static empty(){return new qh([])}unionWith(t){let e=new Uh(uh.comparator);for(const t of this.fields)e=e.add(t);for(const i of t)e=e.add(i);return new qh(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rh(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class $h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hh{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new $h("Invalid base64 string: "+t):t}}(t);return new Hh(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new Hh(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sh(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hh.EMPTY_BYTE_STRING=new Hh("");const Gh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xh(t){if(ql(!!t),"string"==typeof t){let e=0;const i=Gh.exec(t);if(ql(!!i),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Kh(t.seconds),nanos:Kh(t.nanos)}}function Kh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wh(t){return"string"==typeof t?Hh.fromBase64String(t):Hh.fromUint8Array(t)}function Qh(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Yh(t){const e=t.mapValue.fields.__previous_value__;return Qh(e)?Yh(e):e}function Jh(t){const e=Xh(t.mapValue.fields.__local_write_time__.timestampValue);return new oh(e.seconds,e.nanos)}class Zh{constructor(t,e,i,n,s,r,o,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class tu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}const eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function iu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qh(t)?4:mu(t)?9007199254740991:pu(t)?10:11:jl()}function nu(t,e){if(t===e)return!0;const i=iu(t);if(i!==iu(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=Xh(t.timestampValue),n=Xh(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wh(t.bytesValue).isEqual(Wh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kh(t.geoPointValue.latitude)===Kh(e.geoPointValue.latitude)&&Kh(t.geoPointValue.longitude)===Kh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kh(t.integerValue)===Kh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=Kh(t.doubleValue),n=Kh(e.doubleValue);return i===n?Sh(i)===Sh(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return rh(t.arrayValue.values||[],e.arrayValue.values||[],nu);case 10:case 11:return function(t,e){const i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(Lh(i)!==Lh(n))return!1;for(const t in i)if(i.hasOwnProperty(t)&&(void 0===n[t]||!nu(i[t],n[t])))return!1;return!0}(t,e);default:return jl()}}function su(t,e){return void 0!==(t.values||[]).find((t=>nu(t,e)))}function ru(t,e){if(t===e)return 0;const i=iu(t),n=iu(e);if(i!==n)return sh(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return sh(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=Kh(t.integerValue||t.doubleValue),n=Kh(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return ou(t.timestampValue,e.timestampValue);case 4:return ou(Jh(t),Jh(e));case 5:return sh(t.stringValue,e.stringValue);case 6:return function(t,e){const i=Wh(t),n=Wh(e);return i.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),n=e.split("/");for(let t=0;t<i.length&&t<n.length;t++){const e=sh(i[t],n[t]);if(0!==e)return e}return sh(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=sh(Kh(t.latitude),Kh(e.latitude));return 0!==i?i:sh(Kh(t.longitude),Kh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return au(t.arrayValue,e.arrayValue);case 10:return function(t,e){var i,n,s,r;const o=t.fields||{},a=e.fields||{},c=null===(i=o.value)||void 0===i?void 0:i.arrayValue,l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,h=sh((null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0,(null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0);return 0!==h?h:au(c,l)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===eu.mapValue&&e===eu.mapValue)return 0;if(t===eu.mapValue)return 1;if(e===eu.mapValue)return-1;const i=t.fields||{},n=Object.keys(i),s=e.fields||{},r=Object.keys(s);n.sort(),r.sort();for(let t=0;t<n.length&&t<r.length;++t){const e=sh(n[t],r[t]);if(0!==e)return e;const o=ru(i[n[t]],s[r[t]]);if(0!==o)return o}return sh(n.length,r.length)}(t.mapValue,e.mapValue);default:throw jl()}}function ou(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return sh(t,e);const i=Xh(t),n=Xh(e),s=sh(i.seconds,n.seconds);return 0!==s?s:sh(i.nanos,n.nanos)}function au(t,e){const i=t.values||[],n=e.values||[];for(let t=0;t<i.length&&t<n.length;++t){const e=ru(i[t],n[t]);if(e)return e}return sh(i.length,n.length)}function cu(t){return lu(t)}function lu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Xh(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Wh(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return dh.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",i=!0;for(const n of t.values||[])i?i=!1:e+=",",e+=lu(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",n=!0;for(const s of e)n?n=!1:i+=",",i+=`${s}:${lu(t.fields[s])}`;return i+"}"}(t.mapValue):jl()}function hu(t){switch(iu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(t);return e?16+hu(e):16;case 5:return 2*t.stringValue.length;case 6:return Wh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+hu(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Nh(t.fields,((t,i)=>{e+=t.length+hu(i)})),e}(t.mapValue);default:throw jl()}}function uu(t){return!!t&&"integerValue"in t}function du(t){return!!t&&"arrayValue"in t}function fu(t){return!!t&&"mapValue"in t}function pu(t){var e,i;return"__vector__"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nh(t.mapValue.fields,((t,i)=>e.mapValue.fields[t]=gu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=gu(t.arrayValue.values[i]);return e}return Object.assign({},t)}function mu(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class vu{constructor(t){this.value=t}static empty(){return new vu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!fu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(e)}setAll(t){let e=uh.emptyPath(),i={},n=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,i,n),i={},n=[],e=s.popLast()}t?i[s.lastSegment()]=gu(t):n.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,i,n)}delete(t){const e=this.field(t.popLast());fu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return nu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];fu(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){Nh(e,((e,i)=>t[e]=i));for(const e of i)delete t[e]}clone(){return new vu(gu(this.value))}}function yu(t){const e=[];return Nh(t.fields,((t,i)=>{const n=new uh([t]);if(fu(i)){const t=yu(i.mapValue).fields;if(0===t.length)e.push(n);else for(const i of t)e.push(n.child(i))}else e.push(n)})),new qh(e)}class _u{constructor(t,e,i,n,s,r,o){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.createTime=s,this.data=r,this.documentState=o}static newInvalidDocument(t){return new _u(t,0,ah.min(),ah.min(),ah.min(),vu.empty(),0)}static newFoundDocument(t,e,i,n){return new _u(t,1,e,ah.min(),i,n,0)}static newNoDocument(t,e){return new _u(t,2,e,ah.min(),ah.min(),vu.empty(),0)}static newUnknownDocument(t,e){return new _u(t,3,e,ah.min(),ah.min(),vu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ah.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ah.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _u&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _u(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wu{constructor(t,e){this.position=t,this.inclusive=e}}function bu(t,e,i){let n=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(n=r.field.isKeyField()?dh.comparator(dh.fromName(o.referenceValue),i.key):ru(o,i.data.field(r.field)),"desc"===r.dir&&(n*=-1),0!==n)break}return n}function xu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!nu(t.position[i],e.position[i]))return!1;return!0}class Tu{constructor(t,e="asc"){this.field=t,this.dir=e}}function Eu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Cu{}class Su extends Cu{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Ru(t,e,i):"array-contains"===e?new Fu(t,i):"in"===e?new Vu(t,i):"not-in"===e?new Bu(t,i):"array-contains-any"===e?new Uu(t,i):new Su(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Lu(t,i):new Nu(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ru(e,this.value)):null!==e&&iu(this.value)===iu(e)&&this.matchesComparison(ru(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return jl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ku extends Cu{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new ku(t,e)}matches(t){return Iu(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Iu(t){return"and"===t.op}function Du(t){return Au(t)&&Iu(t)}function Au(t){for(const e of t.filters)if(e instanceof ku)return!1;return!0}function Mu(t){if(t instanceof Su)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(Du(t))return t.filters.map((t=>Mu(t))).join(",");{const e=t.filters.map((t=>Mu(t))).join(",");return`${t.op}(${e})`}}function Ou(t,e){return t instanceof Su?function(t,e){return e instanceof Su&&t.op===e.op&&t.field.isEqual(e.field)&&nu(t.value,e.value)}(t,e):t instanceof ku?function(t,e){return e instanceof ku&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,i,n)=>t&&Ou(i,e.filters[n])),!0)}(t,e):void jl()}function Pu(t){return t instanceof Su?function(t){return`${t.field.canonicalString()} ${t.op} ${cu(t.value)}`}(t):t instanceof ku?function(t){return t.op.toString()+" {"+t.getFilters().map(Pu).join(" ,")+"}"}(t):"Filter"}class Ru extends Su{constructor(t,e,i){super(t,e,i),this.key=dh.fromName(i.referenceValue)}matches(t){const e=dh.comparator(t.key,this.key);return this.matchesComparison(e)}}class Lu extends Su{constructor(t,e){super(t,"in",e),this.keys=zu("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Nu extends Su{constructor(t,e){super(t,"not-in",e),this.keys=zu("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function zu(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map((t=>dh.fromName(t.referenceValue)))}class Fu extends Su{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return du(e)&&su(e.arrayValue,this.value)}}class Vu extends Su{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&su(this.value.arrayValue,e)}}class Bu extends Su{constructor(t,e){super(t,"not-in",e)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!su(this.value.arrayValue,e)}}class Uu extends Su{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!du(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>su(this.value.arrayValue,t)))}}class ju{constructor(t,e=null,i=[],n=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=s,this.startAt=r,this.endAt=o,this.ue=null}}function qu(t,e=null,i=[],n=[],s=null,r=null,o=null){return new ju(t,e,i,n,s,r,o)}function $u(t){const e=$l(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Mu(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>cu(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>cu(t))).join(",")),e.ue=t}return e.ue}function Hu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Eu(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Ou(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xu(t.startAt,e.startAt)&&xu(t.endAt,e.endAt)}class Gu{constructor(t,e=null,i=[],n=[],s=null,r="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Xu(t,e,i,n,s,r,o,a){return new Gu(t,e,i,n,s,r,o,a)}function Ku(t){return new Gu(t)}function Wu(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Qu(t){return null!==t.collectionGroup}function Yu(t){const e=$l(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",n=function(t){let e=new Uh(uh.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);n.forEach((n=>{t.has(n.canonicalString())||n.isKeyField()||e.ce.push(new Tu(n,i))})),t.has(uh.keyField().canonicalString())||e.ce.push(new Tu(uh.keyField(),i))}return e.ce}function Ju(t){const e=$l(t);return e.le||(e.le=Zu(e,Yu(t))),e.le}function Zu(t,e){if("F"===t.limitType)return qu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Tu(t.field,e)}));const i=t.endAt?new wu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new wu(t.startAt.position,t.startAt.inclusive):null;return qu(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}function td(t,e,i){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function ed(t,e){return Hu(Ju(t),Ju(e))&&t.limitType===e.limitType}function id(t){return`${$u(Ju(t))}|lt:${t.limitType}`}function nd(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Pu(t))).join(", ")}]`),Ch(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>cu(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>cu(t))).join(",")),`Target(${e})`}(Ju(t))}; limitType=${t.limitType})`}function sd(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):dh.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of Yu(t))if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,i){const n=bu(t,e,i);return t.inclusive?n<=0:n<0}(t.startAt,Yu(t),e))&&!(t.endAt&&!function(t,e,i){const n=bu(t,e,i);return t.inclusive?n>=0:n>0}(t.endAt,Yu(t),e))}(t,e)}function rd(t){return(e,i)=>{let n=!1;for(const s of Yu(t)){const t=od(s,e,i);if(0!==t)return t;n=n||s.field.isKeyField()}return 0}}function od(t,e,i){const n=t.field.isKeyField()?dh.comparator(e.key,i.key):function(t,e,i){const n=e.data.field(t),s=i.data.field(t);return null!==n&&null!==s?ru(n,s):jl()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return jl()}}class ad{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[e,n]of i)if(this.equalsFn(e,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0===n)return this.inner[i]=[[t,e]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return 1===i.length?delete this.inner[e]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(t){Nh(this.inner,((e,i)=>{for(const[e,n]of i)t(e,n)}))}isEmpty(){return zh(this.inner)}size(){return this.innerSize}}const cd=new Fh(dh.comparator);function ld(){return cd}const hd=new Fh(dh.comparator);function ud(...t){let e=hd;for(const i of t)e=e.insert(i.key,i);return e}function dd(t){let e=hd;return t.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function fd(){return gd()}function pd(){return gd()}function gd(){return new ad((t=>t.toString()),((t,e)=>t.isEqual(e)))}const md=new Fh(dh.comparator),vd=new Uh(dh.comparator);function yd(...t){let e=vd;for(const i of t)e=e.add(i);return e}const _d=new Uh(sh);function wd(){return _d}function bd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function xd(t){return{integerValue:""+t}}function Td(t,e){return kh(e)?xd(e):bd(t,e)}class Ed{constructor(){this._=void 0}}function Cd(t,e,i){return t instanceof Id?function(t,e){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Qh(e)&&(e=Yh(e)),e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof Dd?Ad(t,e):t instanceof Md?Od(t,e):function(t,e){const i=kd(t,e),n=Rd(i)+Rd(t.Pe);return uu(i)&&uu(t.Pe)?xd(n):bd(t.serializer,n)}(t,e)}function Sd(t,e,i){return t instanceof Dd?Ad(t,e):t instanceof Md?Od(t,e):i}function kd(t,e){return t instanceof Pd?function(t){return uu(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Id extends Ed{}class Dd extends Ed{constructor(t){super(),this.elements=t}}function Ad(t,e){const i=Ld(e);for(const e of t.elements)i.some((t=>nu(t,e)))||i.push(e);return{arrayValue:{values:i}}}class Md extends Ed{constructor(t){super(),this.elements=t}}function Od(t,e){let i=Ld(e);for(const e of t.elements)i=i.filter((t=>!nu(t,e)));return{arrayValue:{values:i}}}class Pd extends Ed{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Rd(t){return Kh(t.integerValue||t.doubleValue)}function Ld(t){return du(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Nd{constructor(t,e){this.version=t,this.transformResults=e}}class zd{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zd}static exists(t){return new zd(void 0,t)}static updateTime(t){return new zd(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Vd{}function Bd(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qd(t.key,zd.none()):new Hd(t.key,t.data,zd.none());{const i=t.data,n=vu.empty();let s=new Uh(uh.comparator);for(let t of e.fields)if(!s.has(t)){let e=i.field(t);null===e&&t.length>1&&(t=t.popLast(),e=i.field(t)),null===e?n.delete(t):n.set(t,e),s=s.add(t)}return new Gd(t.key,n,new qh(s.toArray()),zd.none())}}function Ud(t,e,i){t instanceof Hd?function(t,e,i){const n=t.value.clone(),s=Kd(t.fieldTransforms,e,i.transformResults);n.setAll(s),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):t instanceof Gd?function(t,e,i){if(!Fd(t.precondition,e))return void e.convertToUnknownDocument(i.version);const n=Kd(t.fieldTransforms,e,i.transformResults),s=e.data;s.setAll(Xd(t)),s.setAll(n),e.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,i):function(t,e,i){e.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,i)}function jd(t,e,i,n){return t instanceof Hd?function(t,e,i,n){if(!Fd(t.precondition,e))return i;const s=t.value.clone(),r=Wd(t.fieldTransforms,n,e);return s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null}(t,e,i,n):t instanceof Gd?function(t,e,i,n){if(!Fd(t.precondition,e))return i;const s=Wd(t.fieldTransforms,n,e),r=e.data;return r.setAll(Xd(t)),r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null===i?null:i.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,i,n):function(t,e,i){return Fd(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):i}(t,e,i)}function qd(t,e){let i=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),s=kd(n.transform,t||null);null!=s&&(null===i&&(i=vu.empty()),i.set(n.field,s))}return i||null}function $d(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&rh(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Dd&&e instanceof Dd||t instanceof Md&&e instanceof Md?rh(t.elements,e.elements,nu):t instanceof Pd&&e instanceof Pd?nu(t.Pe,e.Pe):t instanceof Id&&e instanceof Id}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Vd{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Gd extends Vd{constructor(t,e,i,n,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xd(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}})),e}function Kd(t,e,i){const n=new Map;ql(t.length===i.length);for(let s=0;s<i.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);n.set(r.field,Sd(o,a,i[s]))}return n}function Wd(t,e,i){const n=new Map;for(const s of t){const t=s.transform,r=i.data.field(s.field);n.set(s.field,Cd(t,r,e))}return n}class Qd extends Vd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yd extends Vd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jd{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const n=this.mutations[e];n.key.isEqual(t.key)&&Ud(n,t,i[e])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=jd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=jd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=pd();return this.mutations.forEach((n=>{const s=t.get(n.key),r=s.overlayedDocument;let o=this.applyToLocalView(r,s.mutatedFields);o=e.has(n.key)?null:o;const a=Bd(r,o);null!==a&&i.set(n.key,a),r.isValidDocument()||r.convertToNoDocument(ah.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),yd())}isEqual(t){return this.batchId===t.batchId&&rh(this.mutations,t.mutations,((t,e)=>$d(t,e)))&&rh(this.baseMutations,t.baseMutations,((t,e)=>$d(t,e)))}}class Zd{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){ql(t.mutations.length===i.length);let n=md;const s=t.mutations;for(let t=0;t<s.length;t++)n=n.insert(s[t].key,i[t].version);return new Zd(t,e,i,n)}}class tf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var ef,nf;function sf(t){switch(t){default:return jl();case Hl.CANCELLED:case Hl.UNKNOWN:case Hl.DEADLINE_EXCEEDED:case Hl.RESOURCE_EXHAUSTED:case Hl.INTERNAL:case Hl.UNAVAILABLE:case Hl.UNAUTHENTICATED:return!1;case Hl.INVALID_ARGUMENT:case Hl.NOT_FOUND:case Hl.ALREADY_EXISTS:case Hl.PERMISSION_DENIED:case Hl.FAILED_PRECONDITION:case Hl.ABORTED:case Hl.OUT_OF_RANGE:case Hl.UNIMPLEMENTED:case Hl.DATA_LOSS:return!0}}function rf(t){if(void 0===t)return Vl("GRPC error has no .code"),Hl.UNKNOWN;switch(t){case ef.OK:return Hl.OK;case ef.CANCELLED:return Hl.CANCELLED;case ef.UNKNOWN:return Hl.UNKNOWN;case ef.DEADLINE_EXCEEDED:return Hl.DEADLINE_EXCEEDED;case ef.RESOURCE_EXHAUSTED:return Hl.RESOURCE_EXHAUSTED;case ef.INTERNAL:return Hl.INTERNAL;case ef.UNAVAILABLE:return Hl.UNAVAILABLE;case ef.UNAUTHENTICATED:return Hl.UNAUTHENTICATED;case ef.INVALID_ARGUMENT:return Hl.INVALID_ARGUMENT;case ef.NOT_FOUND:return Hl.NOT_FOUND;case ef.ALREADY_EXISTS:return Hl.ALREADY_EXISTS;case ef.PERMISSION_DENIED:return Hl.PERMISSION_DENIED;case ef.FAILED_PRECONDITION:return Hl.FAILED_PRECONDITION;case ef.ABORTED:return Hl.ABORTED;case ef.OUT_OF_RANGE:return Hl.OUT_OF_RANGE;case ef.UNIMPLEMENTED:return Hl.UNIMPLEMENTED;case ef.DATA_LOSS:return Hl.DATA_LOSS;default:return jl()}}(nf=ef||(ef={}))[nf.OK=0]="OK",nf[nf.CANCELLED=1]="CANCELLED",nf[nf.UNKNOWN=2]="UNKNOWN",nf[nf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nf[nf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nf[nf.NOT_FOUND=5]="NOT_FOUND",nf[nf.ALREADY_EXISTS=6]="ALREADY_EXISTS",nf[nf.PERMISSION_DENIED=7]="PERMISSION_DENIED",nf[nf.UNAUTHENTICATED=16]="UNAUTHENTICATED",nf[nf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nf[nf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nf[nf.ABORTED=10]="ABORTED",nf[nf.OUT_OF_RANGE=11]="OUT_OF_RANGE",nf[nf.UNIMPLEMENTED=12]="UNIMPLEMENTED",nf[nf.INTERNAL=13]="INTERNAL",nf[nf.UNAVAILABLE=14]="UNAVAILABLE",nf[nf.DATA_LOSS=15]="DATA_LOSS";new wl([4294967295,4294967295],0);Error;class of{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cf(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lf(t,e){return af(t,e.toTimestamp())}function hf(t){return ql(!!t),ah.fromTimestamp(function(t){const e=Xh(t);return new oh(e.seconds,e.nanos)}(t))}function uf(t,e){return df(t,e).canonicalString()}function df(t,e){const i=function(t){return new lh(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?i:i.child(e)}function ff(t){const e=lh.fromString(t);return ql(Ef(e)),e}function pf(t,e){return uf(t.databaseId,e.path)}function gf(t){const e=ff(t);return 4===e.length?lh.emptyPath():vf(e)}function mf(t){return new lh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vf(t){return ql(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function yf(t,e,i){return{name:pf(t,e),fields:i.value.mapValue.fields}}function _f(t,e){let i;if(e instanceof Hd)i={update:yf(t,e.key,e.value)};else if(e instanceof Qd)i={delete:pf(t,e.key)};else if(e instanceof Gd)i={update:yf(t,e.key,e.data),updateMask:Tf(e.fieldMask)};else{if(!(e instanceof Yd))return jl();i={verify:pf(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const i=e.transform;if(i instanceof Id)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Dd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Md)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Pd)return{fieldPath:e.field.canonicalString(),increment:i.Pe};throw jl()}(0,t)))),e.precondition.isNone||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:lf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:jl()}(t,e.precondition)),i}function wf(t){let e=gf(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let s=null;if(n>0){ql(1===n);const t=i.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let r=[];i.where&&(r=function(t){const e=bf(t);return e instanceof ku&&Du(e)?e.getFilters():[e]}(i.where));let o=[];i.orderBy&&(o=function(t){return t.map((t=>function(t){return new Tu(xf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(i.orderBy));let a=null;i.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Ch(e)?null:e}(i.limit));let c=null;i.startAt&&(c=function(t){const e=!!t.before,i=t.values||[];return new wu(i,e)}(i.startAt));let l=null;return i.endAt&&(l=function(t){const e=!t.before,i=t.values||[];return new wu(i,e)}(i.endAt)),Xu(e,s,o,r,a,"F",c,l)}function bf(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xf(t.unaryFilter.field);return Su.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=xf(t.unaryFilter.field);return Su.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=xf(t.unaryFilter.field);return Su.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xf(t.unaryFilter.field);return Su.create(s,"!=",{nullValue:"NULL_VALUE"});default:return jl()}}(t):void 0!==t.fieldFilter?function(t){return Su.create(xf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jl()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return ku.create(t.compositeFilter.filters.map((t=>bf(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return jl()}}(t.compositeFilter.op))}(t):jl()}function xf(t){return uh.fromServerFormat(t.fieldPath)}function Tf(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ef(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Cf{constructor(t){this.ht=t}}function Sf(t){const e=wf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?td(e,e.limit,"L"):e}class kf{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(Kh(t.integerValue));else if("doubleValue"in t){const i=Kh(t.doubleValue);isNaN(i)?this.Rt(e,13):(this.Rt(e,15),Sh(i)?e.Vt(0):e.Vt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Rt(e,20),"string"==typeof i&&(i=Xh(i)),e.ft(`${i.seconds||""}`),e.Vt(i.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(Wh(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Rt(e,45),e.Vt(i.latitude||0),e.Vt(i.longitude||0)}else"mapValue"in t?mu(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):pu(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):jl()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const i=t.fields||{};this.Rt(e,55);for(const t of Object.keys(i))this.gt(t,e),this.dt(i[t],e)}bt(t,e){var i,n;const s=t.fields||{};this.Rt(e,53);const r="value",o=(null===(n=null===(i=s[r].arrayValue)||void 0===i?void 0:i.values)||void 0===n?void 0:n.length)||0;this.Rt(e,15),e.Vt(Kh(o)),this.gt(r,e),this.dt(s[r],e)}vt(t,e){const i=t.values||[];this.Rt(e,50);for(const t of i)this.dt(t,e)}St(t,e){this.Rt(e,37),dh.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}kf.Ft=new kf;class If{constructor(){this.ln=new Df}addToCollectionParentIndex(t,e){return this.ln.add(e),bh.resolve()}getCollectionParents(t,e){return bh.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return bh.resolve()}deleteFieldIndex(t,e){return bh.resolve()}deleteAllFieldIndexes(t){return bh.resolve()}createTargetIndexes(t,e){return bh.resolve()}getDocumentsMatchingTarget(t,e){return bh.resolve(null)}getIndexType(t,e){return bh.resolve(0)}getFieldIndexes(t,e){return bh.resolve([])}getNextCollectionGroupToUpdate(t){return bh.resolve(null)}getMinOffset(t,e){return bh.resolve(mh.min())}getMinOffsetFromCollectionGroup(t,e){return bh.resolve(mh.min())}updateCollectionGroup(t,e,i){return bh.resolve()}updateIndexEntries(t,e){return bh.resolve()}}class Df{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new Uh(lh.comparator),s=!n.has(i);return this.index[e]=n.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new Uh(lh.comparator)).toArray()}}new Uint8Array(0);const Af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mf{static withCacheSize(t){return new Mf(t,Mf.DEFAULT_COLLECTION_PERCENTILE,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Mf.DEFAULT_COLLECTION_PERCENTILE=10,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mf.DEFAULT=new Mf(41943040,Mf.DEFAULT_COLLECTION_PERCENTILE,Mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mf.DISABLED=new Mf(-1,0,0);class Of{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Of(0)}static Qn(){return new Of(-1)}}function Pf([t,e],[i,n]){const s=sh(t,i);return 0===s?sh(e,n):s}class Rf{constructor(t){this.Gn=t,this.buffer=new Uh(Pf),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Pf(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Lf{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){Fl("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Th(t)?Fl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await wh(t)}await this.Yn(3e5)}))}}class Nf{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return bh.resolve(Eh.oe);const i=new Rf(e);return this.Zn.forEachTarget(t,(t=>i.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>i.Hn(t))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector","Garbage collection skipped; disabled"),bh.resolve(Af)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Af):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let i,n,s,r,o,a,c;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Fl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),n=this.params.maximumSequenceNumbersToCollect):n=e,r=Date.now(),this.nthSequenceNumber(t,n)))).next((n=>(i=n,o=Date.now(),this.removeTargets(t,i,e)))).next((e=>(s=e,a=Date.now(),this.removeOrphanedDocuments(t,i)))).next((t=>(c=Date.now(),zl()<=tc.DEBUG&&Fl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-l}ms\n\tDetermined least recently used ${n} in `+(o-r)+"ms\n"+`\tRemoved ${s} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),bh.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:t}))))}}function zf(t,e){return new Nf(t,e)}class Ff{constructor(){this.changes=new ad((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_u.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?bh.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vf{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Bf{constructor(t,e,i,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=n}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(i=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==i&&jd(i.mutation,t,qh.empty(),oh.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,yd()).next((()=>e))))}getLocalViewOfDocuments(t,e,i=yd()){const n=fd();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,i).next((t=>{let e=ud();return t.forEach(((t,i)=>{e=e.insert(t,i.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const i=fd();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,yd())))}populateOverlays(t,e,i){const n=[];return i.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,i)=>{e.set(t,i)}))}))}computeViews(t,e,i,n){let s=ld();const r=gd(),o=gd();return e.forEach(((t,e)=>{const o=i.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof Gd)?s=s.insert(e.key,e):void 0!==o?(r.set(e.key,o.mutation.getFieldMask()),jd(o.mutation,e,o.mutation.getFieldMask(),oh.now())):r.set(e.key,qh.empty())})),this.recalculateAndSaveOverlays(t,s).next((t=>(t.forEach(((t,e)=>r.set(t,e))),e.forEach(((t,e)=>{var i;return o.set(t,new Vf(e,null!==(i=r.get(t))&&void 0!==i?i:null))})),o)))}recalculateAndSaveOverlays(t,e){const i=gd();let n=new Fh(((t,e)=>t-e)),s=yd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const s of t)s.keys().forEach((t=>{const r=e.get(t);if(null===r)return;let o=i.get(t)||qh.empty();o=s.applyToLocalView(r,o),i.set(t,o);const a=(n.get(s.batchId)||yd()).add(t);n=n.insert(s.batchId,a)}))})).next((()=>{const r=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,c=n.value,l=pd();c.forEach((t=>{if(!s.has(t)){const n=Bd(e.get(t),i.get(t));null!==n&&l.set(t,n),s=s.add(t)}})),r.push(this.documentOverlayCache.saveOverlays(t,a,l))}return bh.waitFor(r)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,i,n){return function(t){return dh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Qu(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,n):this.getDocumentsMatchingCollectionQuery(t,e,i,n)}getNextDocuments(t,e,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,n).next((s=>{const r=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,n-s.size):bh.resolve(fd());let o=-1,a=s;return r.next((e=>bh.forEach(e,((e,i)=>(o<i.largestBatchId&&(o=i.largestBatchId),s.get(e)?bh.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,s))).next((()=>this.computeViews(t,a,e,yd()))).next((t=>({batchId:o,changes:dd(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new dh(e)).next((t=>{let e=ud();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,n){const s=e.collectionGroup;let r=ud();return this.indexManager.getCollectionParents(t,s).next((o=>bh.forEach(o,(o=>{const a=function(t,e){return new Gu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(s));return this.getDocumentsMatchingCollectionQuery(t,a,i,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,i,n){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,n)))).next((t=>{s.forEach(((e,i)=>{const n=i.getKey();null===t.get(n)&&(t=t.insert(n,_u.newInvalidDocument(n)))}));let i=ud();return t.forEach(((t,n)=>{const r=s.get(t);void 0!==r&&jd(r.mutation,n,qh.empty(),oh.now()),sd(e,n)&&(i=i.insert(t,n))})),i}))}}class Uf{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return bh.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:hf(t.createTime)}}(e)),bh.resolve()}getNamedQuery(t,e){return bh.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Sf(t.bundledQuery),readTime:hf(t.readTime)}}(e)),bh.resolve()}}class jf{constructor(){this.overlays=new Fh(dh.comparator),this.Er=new Map}getOverlay(t,e){return bh.resolve(this.overlays.get(e))}getOverlays(t,e){const i=fd();return bh.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&i.set(e,t)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((i,n)=>{this.Tt(t,e,n)})),bh.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.Er.get(i);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(i)),bh.resolve()}getOverlaysForCollection(t,e,i){const n=fd(),s=e.length+1,r=new dh(e.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const t=o.getNext().value,r=t.getKey();if(!e.isPrefixOf(r.path))break;r.path.length===s&&t.largestBatchId>i&&n.set(t.getKey(),t)}return bh.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let s=new Fh(((t,e)=>t-e));const r=this.overlays.getIterator();for(;r.hasNext();){const t=r.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=s.get(t.largestBatchId);null===e&&(e=fd(),s=s.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=fd(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return bh.resolve(o)}Tt(t,e,i){const n=this.overlays.get(i.key);if(null!==n){const t=this.Er.get(n.largestBatchId).delete(i.key);this.Er.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(i.key,new tf(e,i));let s=this.Er.get(e);void 0===s&&(s=yd(),this.Er.set(e,s)),this.Er.set(e,s.add(i.key))}}class qf{constructor(){this.sessionToken=Hh.EMPTY_BYTE_STRING}getSessionToken(t){return bh.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,bh.resolve()}}class $f{constructor(){this.dr=new Uh(Hf.Ar),this.Rr=new Uh(Hf.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const i=new Hf(t,e);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new Hf(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new dh(new lh([])),i=new Hf(e,t),n=new Hf(e,t+1),s=[];return this.Rr.forEachInRange([i,n],(t=>{this.gr(t),s.push(t.key)})),s}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new dh(new lh([])),i=new Hf(e,t),n=new Hf(e,t+1);let s=yd();return this.Rr.forEachInRange([i,n],(t=>{s=s.add(t.key)})),s}containsKey(t){const e=new Hf(t,0),i=this.dr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Hf{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return dh.comparator(t.key,e.key)||sh(t.br,e.br)}static Vr(t,e){return sh(t.br,e.br)||dh.comparator(t.key,e.key)}}class Gf{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new Uh(Hf.Ar)}checkEmpty(t){return bh.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,n){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new Jd(s,e,i,n);this.mutationQueue.push(r);for(const e of n)this.vr=this.vr.add(new Hf(e.key,s)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return bh.resolve(r)}lookupMutationBatch(t,e){return bh.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.Fr(i),s=n<0?0:n;return bh.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return bh.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return bh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Hf(e,0),n=new Hf(e,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([i,n],(t=>{const e=this.Cr(t.br);s.push(e)})),bh.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Uh(sh);return e.forEach((t=>{const e=new Hf(t,0),n=new Hf(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,n],(t=>{i=i.add(t.br)}))})),bh.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let s=i;dh.isDocumentKey(s)||(s=s.child(""));const r=new Hf(new dh(s),0);let o=new Uh(sh);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===n&&(o=o.add(t.br)),!0)}),r),bh.resolve(this.Mr(o))}Mr(t){const e=[];return t.forEach((t=>{const i=this.Cr(t);null!==i&&e.push(i)})),e}removeMutationBatch(t,e){ql(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let i=this.vr;return bh.forEach(e.mutations,(n=>{const s=new Hf(n.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.vr=i}))}Ln(t){}containsKey(t,e){const i=new Hf(e,0),n=this.vr.firstAfterOrEqual(i);return bh.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,bh.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Xf{constructor(t){this.Nr=t,this.docs=new Fh(dh.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),s=n?n.size:0,r=this.Nr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return bh.resolve(i?i.document.mutableCopy():_u.newInvalidDocument(e))}getEntries(t,e){let i=ld();return e.forEach((t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():_u.newInvalidDocument(t))})),bh.resolve(i)}getDocumentsMatchingQuery(t,e,i,n){let s=ld();const r=e.path,o=new dh(r.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!r.isPrefixOf(t.path))break;t.path.length>r.length+1||vh(gh(o),i)<=0||(n.has(o.key)||sd(e,o))&&(s=s.insert(o.key,o.mutableCopy()))}return bh.resolve(s)}getAllFromCollectionGroup(t,e,i,n){jl()}Lr(t,e){return bh.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Kf(this)}getSize(t){return bh.resolve(this.size)}}class Kf extends Ff{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.hr.addEntry(t,n)):this.hr.removeEntry(i)})),bh.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class Wf{constructor(t){this.persistence=t,this.Br=new ad((t=>$u(t)),Hu),this.lastRemoteSnapshotVersion=ah.min(),this.highestTargetId=0,this.kr=0,this.qr=new $f,this.targetCount=0,this.Qr=Of.qn()}forEachTarget(t,e){return this.Br.forEach(((t,i)=>e(i))),bh.resolve()}getLastRemoteSnapshotVersion(t){return bh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bh.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),bh.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.kr&&(this.kr=e),bh.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new Of(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,bh.resolve()}updateTargetData(t,e){return this.Un(e),bh.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,bh.resolve()}removeTargets(t,e,i){let n=0;const s=[];return this.Br.forEach(((r,o)=>{o.sequenceNumber<=e&&null===i.get(o.targetId)&&(this.Br.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),bh.waitFor(s).next((()=>n))}getTargetCount(t){return bh.resolve(this.targetCount)}getTargetData(t,e){const i=this.Br.get(e)||null;return bh.resolve(i)}addMatchingKeys(t,e,i){return this.qr.mr(e,i),bh.resolve()}removeMatchingKeys(t,e,i){this.qr.pr(e,i);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach((e=>{s.push(n.markPotentiallyOrphaned(t,e))})),bh.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),bh.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qr.Sr(e);return bh.resolve(i)}containsKey(t,e){return bh.resolve(this.qr.containsKey(e))}}class Qf{constructor(t,e){this.Kr={},this.overlays={},this.$r=new Eh(0),this.Ur=!1,this.Ur=!0,this.Wr=new qf,this.referenceDelegate=t(this),this.Gr=new Wf(this),this.indexManager=new If,this.remoteDocumentCache=function(t){return new Xf(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new Cf(e),this.jr=new Uf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new jf,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Kr[t.toKey()];return i||(i=new Gf(e,this.referenceDelegate),this.Kr[t.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,i){Fl("MemoryPersistence","Starting transaction:",t);const n=new Yf(this.$r.next());return this.referenceDelegate.Hr(),i(n).next((t=>this.referenceDelegate.Jr(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Yr(t,e){return bh.or(Object.values(this.Kr).map((i=>()=>i.containsKey(t,e))))}}class Yf extends _h{constructor(t){super(),this.currentSequenceNumber=t}}class Jf{constructor(t){this.persistence=t,this.Zr=new $f,this.Xr=null}static ei(t){return new Jf(t)}get ti(){if(this.Xr)return this.Xr;throw jl()}addReference(t,e,i){return this.Zr.addReference(i,e),this.ti.delete(i.toString()),bh.resolve()}removeReference(t,e,i){return this.Zr.removeReference(i,e),this.ti.add(i.toString()),bh.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),bh.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>i.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bh.forEach(this.ti,(i=>{const n=dh.fromPath(i);return this.ni(t,n).next((t=>{t||e.removeEntry(n,ah.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return bh.or([()=>bh.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class Zf{constructor(t,e){this.persistence=t,this.ri=new ad((t=>Ih(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=zf(this,e)}static ei(t,e){return new Zf(t,e)}Hr(){}Jr(t){return bh.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return bh.forEach(this.ri,((i,n)=>this.ir(t,i,n).next((t=>t?bh.resolve():e(n)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.Lr(t,(n=>this.ir(t,n,e).next((t=>{t||(i++,s.removeEntry(n,ah.min()))})))).next((()=>s.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),bh.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),bh.resolve()}removeReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),bh.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),bh.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hu(t.data.value)),e}ir(t,e,i){return bh.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return bh.resolve(void 0!==t&&t>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tp{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.Wi=i,this.Gi=n}static zi(t,e){let i=yd(),n=yd();for(const t of e.docChanges)switch(t.type){case 0:i=i.add(t.doc.key);break;case 1:n=n.add(t.doc.key)}return new tp(t,e.fromCache,i,n)}}class ep{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ip{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=Ua()?8:xh(Ba())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,i,n){const s={result:null};return this.Xi(t,e).next((t=>{s.result=t})).next((()=>{if(!s.result)return this.es(t,e,n,i).next((t=>{s.result=t}))})).next((()=>{if(s.result)return;const i=new ep;return this.ts(t,e,i).next((n=>{if(s.result=n,this.Hi)return this.ns(t,e,i,n.size)}))})).next((()=>s.result))}ns(t,e,i,n){return i.documentReadCount<this.Ji?(zl()<=tc.DEBUG&&Fl("QueryEngine","SDK will not create cache indexes for query:",nd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),bh.resolve()):(zl()<=tc.DEBUG&&Fl("QueryEngine","Query:",nd(e),"scans",i.documentReadCount,"local documents and returns",n,"documents as results."),i.documentReadCount>this.Yi*n?(zl()<=tc.DEBUG&&Fl("QueryEngine","The SDK decides to create cache indexes for query:",nd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ju(e))):bh.resolve())}Xi(t,e){if(Wu(e))return bh.resolve(null);let i=Ju(e);return this.indexManager.getIndexType(t,i).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=td(e,null,"F"),i=Ju(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((n=>{const s=yd(...n);return this.Zi.getDocuments(t,s).next((n=>this.indexManager.getMinOffset(t,i).next((i=>{const r=this.rs(e,n);return this.ss(e,r,s,i.readTime)?this.Xi(t,td(e,null,"F")):this.os(t,r,e,i)}))))})))))}es(t,e,i,n){return Wu(e)||n.isEqual(ah.min())?bh.resolve(null):this.Zi.getDocuments(t,i).next((s=>{const r=this.rs(e,s);return this.ss(e,r,i,n)?bh.resolve(null):(zl()<=tc.DEBUG&&Fl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nd(e)),this.os(t,r,e,ph(n,-1)).next((t=>t)))}))}rs(t,e){let i=new Uh(rd(t));return e.forEach(((e,n)=>{sd(t,n)&&(i=i.add(n))})),i}ss(t,e,i,n){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}ts(t,e,i){return zl()<=tc.DEBUG&&Fl("QueryEngine","Using full collection scan to execute query:",nd(e)),this.Zi.getDocumentsMatchingQuery(t,e,mh.min(),i)}os(t,e,i,n){return this.Zi.getDocumentsMatchingQuery(t,i,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class np{constructor(t,e,i,n){this.persistence=t,this._s=e,this.serializer=n,this.us=new Fh(sh),this.cs=new ad((t=>$u(t)),Hu),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(i)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bf(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function sp(t,e,i,n){return new np(t,e,i,n)}async function rp(t,e){const i=$l(t);return await i.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return i.mutationQueue.getAllMutationBatches(t).next((s=>(n=s,i.Ps(e),i.mutationQueue.getAllMutationBatches(t)))).next((e=>{const s=[],r=[];let o=yd();for(const t of n){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.localDocuments.getDocuments(t,o).next((t=>({Ts:t,removedBatchIds:s,addedBatchIds:r})))}))}))}function op(t){const e=$l(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function ap(t,e){const i=$l(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}class cp{constructor(){this.activeTargetIds=wd()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lp{constructor(){this._o=new cp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,i){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new cp,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hp{uo(t){}shutdown(){}}class up{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Fl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Fl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dp=null;function fp(){return null===dp?dp=268435456+Math.round(2147483648*Math.random()):dp++,"0x"+dp.toString(16)}const pp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gp{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const mp="WebChannelConnection";class vp extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${i}/databases/${n}`,this.xo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${n}`}Oo(t,e,i,n,s){const r=fp(),o=this.No(t,e.toUriEncodedString());Fl("RestConnection",`Sending RPC '${t}' ${r}:`,o,i);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,n,s),this.Bo(t,o,a,i).then((e=>(Fl("RestConnection",`Received RPC '${t}' ${r}: `,e),e)),(e=>{throw Bl("RestConnection",`RPC '${t}' ${r} failed with error: `,e,"url: ",o,"request:",i),e}))}ko(t,e,i,n,s,r){return this.Oo(t,e,i,n,s)}Lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ll,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,i)=>t[i]=e)),i&&i.headers.forEach(((e,i)=>t[i]=e))}No(t,e){const i=pp[t];return`${this.Fo}/v1/${e}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,i,n){const s=fp();return new Promise(((r,o)=>{const a=new Tl;a.setWithCredentials(!0),a.listenOnce(Cl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Sl.NO_ERROR:const e=a.getResponseJson();Fl(mp,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(e)),r(e);break;case Sl.TIMEOUT:Fl(mp,`RPC '${t}' ${s} timed out`),o(new Gl(Hl.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:const i=a.getStatus();if(Fl(mp,`RPC '${t}' ${s} failed with status:`,i,"response text:",a.getResponseText()),i>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Hl).indexOf(e)>=0?e:Hl.UNKNOWN}(e.status);o(new Gl(t,e.message))}else o(new Gl(Hl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gl(Hl.UNAVAILABLE,"Connection failed."));break;default:jl()}}finally{Fl(mp,`RPC '${t}' ${s} completed.`)}}));const c=JSON.stringify(n);Fl(mp,`RPC '${t}' ${s} sending request:`,n),a.send(e,"POST",c,i,15)}))}qo(t,e,i){const n=fp(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Al(),o=Dl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,e,i),a.encodeInitMessageHeaders=!0;const l=s.join("");Fl(mp,`Creating RPC '${t}' stream ${n}: ${l}`,a);const h=r.createWebChannel(l,a);let u=!1,d=!1;const f=new gp({Eo:e=>{d?Fl(mp,`Not sending because RPC '${t}' stream ${n} is closed:`,e):(u||(Fl(mp,`Opening RPC '${t}' stream ${n} transport.`),h.open(),u=!0),Fl(mp,`RPC '${t}' stream ${n} sending:`,e),h.send(e))},Ao:()=>h.close()}),p=(t,e,i)=>{t.listen(e,(t=>{try{i(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(h,El.EventType.OPEN,(()=>{d||(Fl(mp,`RPC '${t}' stream ${n} transport opened.`),f.So())})),p(h,El.EventType.CLOSE,(()=>{d||(d=!0,Fl(mp,`RPC '${t}' stream ${n} transport closed`),f.Do())})),p(h,El.EventType.ERROR,(e=>{d||(d=!0,Bl(mp,`RPC '${t}' stream ${n} transport errored:`,e),f.Do(new Gl(Hl.UNAVAILABLE,"The operation could not be completed")))})),p(h,El.EventType.MESSAGE,(e=>{var i;if(!d){const s=e.data[0];ql(!!s);const r=s,o=(null==r?void 0:r.error)||(null===(i=r[0])||void 0===i?void 0:i.error);if(o){Fl(mp,`RPC '${t}' stream ${n} received error:`,o);const e=o.status;let i=function(t){const e=ef[t];if(void 0!==e)return rf(e)}(e),s=o.message;void 0===i&&(i=Hl.INTERNAL,s="Unknown error status: "+e+" with message "+o.message),d=!0,f.Do(new Gl(i,s)),h.close()}else Fl(mp,`RPC '${t}' stream ${n} received:`,s),f.vo(s)}})),p(o,Il.STAT_EVENT,(e=>{e.stat===kl.PROXY?Fl(mp,`RPC '${t}' stream ${n} detected buffering proxy`):e.stat===kl.NOPROXY&&Fl(mp,`RPC '${t}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function yp(){return"undefined"!=typeof document?document:null}function _p(t){return new of(t,!0)}class wp{constructor(t,e,i=1e3,n=1.5,s=6e4){this.li=t,this.timerId=e,this.Qo=i,this.Ko=n,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),n=Math.max(0,e-i);n>0&&Fl("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,n,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class bp{constructor(t,e,i,n,s,r,o,a){this.li=t,this.Yo=i,this.Zo=n,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new wp(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===Hl.RESOURCE_EXHAUSTED?(Vl(e.toString()),Vl("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===Hl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,i])=>{this.Xo===e&&this.I_(t,i)}),(e=>{t((()=>{const t=new Gl(Hl.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const i=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{i((()=>this.listener.Ro()))})),this.stream.mo((()=>{i((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{i((()=>this.E_(t)))})),this.stream.onMessage((t=>{i((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return Fl("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(Fl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xp extends bp{constructor(t,e,i,n,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,r),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return ql(!!t.streamToken),this.lastStreamToken=t.streamToken,ql(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){ql(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(ql(void 0!==e),t.map((t=>function(t,e){let i=t.updateTime?hf(t.updateTime):hf(e);return i.isEqual(ah.min())&&(i=hf(e)),new Nd(i,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),i=hf(t.commitTime);return this.listener.y_(i,e)}w_(){const t={};t.database=mf(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>_f(this.serializer,t)))};this.c_(e)}}class Tp extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=n,this.S_=!1}b_(){if(this.S_)throw new Gl(Hl.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,i,n){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,r])=>this.connection.Oo(t,df(e,i),n,s,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Hl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Gl(Hl.UNKNOWN,t.toString())}))}ko(t,e,i,n,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.ko(t,df(e,i),n,r,o,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Hl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Gl(Hl.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Ep{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vl(e),this.C_=!1):Fl("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Cp{constructor(t,e,i,n,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo((t=>{i.enqueueAndForget((async()=>{Ip(this)&&(Fl("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=$l(t);e.k_.add(4),await kp(e),e.K_.set("Unknown"),e.k_.delete(4),await Sp(e)}(this))}))})),this.K_=new Ep(i,n)}}async function Sp(t){if(Ip(t))for(const e of t.q_)await e(!0)}async function kp(t){for(const e of t.q_)await e(!1)}function Ip(t){return 0===$l(t).k_.size}async function Dp(t,e,i){if(!Th(e))throw e;t.k_.add(1),await kp(t),t.K_.set("Offline"),i||(i=()=>op(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Fl("RemoteStore","Retrying IndexedDB access"),await i(),t.k_.delete(1),await Sp(t)}))}function Ap(t,e){return e().catch((i=>Dp(t,i,e)))}async function Mp(t){const e=$l(t),i=jp(e);let n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Op(e);)try{const t=await ap(e.localStore,n);if(null===t){0===e.L_.length&&i.a_();break}n=t.batchId,Pp(e,t)}catch(t){await Dp(e,t)}Rp(e)&&Lp(e)}function Op(t){return Ip(t)&&t.L_.length<10}function Pp(t,e){t.L_.push(e);const i=jp(t);i.s_()&&i.f_&&i.g_(e.mutations)}function Rp(t){return Ip(t)&&!jp(t).i_()&&t.L_.length>0}function Lp(t){jp(t).start()}async function Np(t){jp(t).w_()}async function zp(t){const e=jp(t);for(const i of t.L_)e.g_(i.mutations)}async function Fp(t,e,i){const n=t.L_.shift(),s=Zd.from(n,e,i);await Ap(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Mp(t)}async function Vp(t,e){e&&jp(t).f_&&await async function(t,e){if(function(t){return sf(t)&&t!==Hl.ABORTED}(e.code)){const i=t.L_.shift();jp(t).__(),await Ap(t,(()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e))),await Mp(t)}}(t,e),Rp(t)&&Lp(t)}async function Bp(t,e){const i=$l(t);i.asyncQueue.verifyOperationInProgress(),Fl("RemoteStore","RemoteStore received new credentials");const n=Ip(i);i.k_.add(3),await kp(i),n&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await Sp(i)}async function Up(t,e){const i=$l(t);e?(i.k_.delete(2),await Sp(i)):e||(i.k_.add(2),await kp(i),i.K_.set("Unknown"))}function jp(t){return t.G_||(t.G_=function(t,e,i){const n=$l(t);return n.b_(),new xp(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Np.bind(null,t),po:Vp.bind(null,t),p_:zp.bind(null,t),y_:Fp.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await Mp(t)):(await t.G_.stop(),t.L_.length>0&&(Fl("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}class qp{constructor(t,e,i,n,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=s,this.deferred=new Xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,n,s){const r=Date.now()+i,o=new qp(t,e,r,n,s);return o.start(i),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gl(Hl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(t,e){if(Vl("AsyncQueue",`${e}: ${t}`),Th(t))return new Gl(Hl.UNAVAILABLE,`${e}: ${t}`);throw t}class Hp{constructor(){this.queries=Gp(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const i=$l(t),n=i.queries;i.queries=Gp(),n.forEach(((t,i)=>{for(const t of i.J_)t.onError(e)}))}(this,new Gl(Hl.ABORTED,"Firestore shutting down"))}}function Gp(){return new ad((t=>id(t)),ed)}function Xp(t){t.X_.forEach((t=>{t.next()}))}var Kp,Wp;(Wp=Kp||(Kp={})).na="default",Wp.Cache="cache";class Qp{constructor(t,e,i,n,s,r){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Ma={},this.xa=new ad((t=>id(t)),ed),this.Oa=new Map,this.Na=new Set,this.La=new Fh(dh.comparator),this.Ba=new Map,this.ka=new $f,this.qa={},this.Qa=new Map,this.Ka=Of.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}function Yp(t,e,i){const n=$l(t);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const t=[];n.xa.forEach(((i,n)=>{const s=n.view.ea(e);s.snapshot&&t.push(s.snapshot)})),function(t,e){const i=$l(t);i.onlineState=e;let n=!1;i.queries.forEach(((t,i)=>{for(const t of i.J_)t.ea(e)&&(n=!0)})),n&&Xp(i)}(n.eventManager,e),t.length&&n.Ma.R_(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Jp(t,e){const i=$l(t),n=e.batch.batchId;try{const t=await function(t,e){const i=$l(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),s=i.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,i,n){const s=i.batch,r=s.keys();let o=bh.resolve();return r.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const r=i.docVersions.get(t);ql(null!==r),e.version.compareTo(r)<0&&(s.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,s)))}(i,t,e,s).next((()=>s.apply(t))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=yd();for(let i=0;i<t.mutationResults.length;++i)t.mutationResults[i].transformResults.length>0&&(e=e.add(t.batch.mutations[i].key));return e}(e)))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(i.localStore,e);eg(i,n,null),tg(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await ig(i,t)}catch(t){await wh(t)}}async function Zp(t,e,i){const n=$l(t);try{const t=await function(t,e){const i=$l(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return i.mutationQueue.lookupMutationBatch(t,e).next((e=>(ql(null!==e),n=e.keys(),i.mutationQueue.removeMutationBatch(t,e)))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);eg(n,e,i),tg(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),await ig(n,t)}catch(i){await wh(i)}}function tg(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function eg(t,e,i){const n=$l(t);let s=n.qa[n.currentUser.toKey()];if(s){const t=s.get(e);t&&(i?t.reject(i):t.resolve(),s=s.remove(e)),n.qa[n.currentUser.toKey()]=s}}async function ig(t,e,i){const n=$l(t),s=[],r=[],o=[];n.xa.isEmpty()||(n.xa.forEach(((t,a)=>{o.push(n.Ua(a,e,i).then((t=>{var e;if((t||i)&&n.isPrimaryClient){const s=t?!t.fromCache:null===(e=null==i?void 0:i.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;n.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(t){s.push(t);const e=tp.zi(a.targetId,t);r.push(e)}})))})),await Promise.all(o),n.Ma.R_(s),await async function(t,e){const i=$l(t);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>bh.forEach(e,(e=>bh.forEach(e.Wi,(n=>i.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>bh.forEach(e.Gi,(n=>i.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!Th(t))throw t;Fl("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=i.us.get(e),n=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(n);i.us=i.us.insert(e,s)}}}(n.localStore,r))}async function ng(t,e){const i=$l(t);if(!i.currentUser.isEqual(e)){Fl("SyncEngine","User change. New user:",e.toKey());const t=await rp(i.localStore,e);i.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new Gl(Hl.CANCELLED,e))}))})),t.Qa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await ig(i,t.Ts)}}function sg(t){const e=$l(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zp.bind(null,e),e}class rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_p(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return sp(this.persistence,new ip,t.initialUser,this.serializer)}ja(t){return new Qf(Jf.ei,this.serializer)}za(t){return new lp}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rg.provider={build:()=>new rg};class og extends rg{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){ql(this.persistence.referenceDelegate instanceof Zf);const i=this.persistence.referenceDelegate.garbageCollector;return new Lf(i,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?Mf.withCacheSize(this.cacheSizeBytes):Mf.DEFAULT;return new Qf((t=>Zf.ei(t,e)),this.serializer)}}class ag{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Yp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ng.bind(null,this.syncEngine),await Up(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Hp}createDatastore(t){const e=_p(t.databaseInfo.databaseId),i=function(t){return new vp(t)}(t.databaseInfo);return function(t,e,i,n){return new Tp(t,e,i,n)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(t,e,i,n,s){return new Cp(t,e,i,n,s)}(this.localStore,this.datastore,t.asyncQueue,(t=>Yp(this.syncEngine,t,0)),up.p()?new up:new hp)}createSyncEngine(t,e){return function(t,e,i,n,s,r,o){const a=new Qp(t,e,i,n,s,r);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=$l(t);Fl("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await kp(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}ag.provider={build:()=>new ag};class cg{constructor(t,e,i,n,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=Rl.UNAUTHENTICATED,this.clientId=nh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async t=>{Fl("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,(t=>(Fl("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=$p(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),Fl("FirestoreClient","Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await rp(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hg(t,e){t.asyncQueue.verifyOperationInProgress();const i=await ug(t);Fl("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener((t=>Bp(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,i)=>Bp(e.remoteStore,i))),t._onlineComponents=e}async function ug(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fl("FirestoreClient","Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(t){return"FirebaseError"===t.name?t.code===Hl.FAILED_PRECONDITION||t.code===Hl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await lg(t,new rg)}}else Fl("FirestoreClient","Using default OfflineComponentProvider"),await lg(t,new og(void 0));return t._offlineComponents}async function dg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fl("FirestoreClient","Using user provided OnlineComponentProvider"),await hg(t,t._uninitializedComponentsProvider._online)):(Fl("FirestoreClient","Using default OnlineComponentProvider"),await hg(t,new ag))),t._onlineComponents}function fg(t){return dg(t).then((t=>t.syncEngine))}function pg(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const gg=new Map;function mg(t,e,i){if(!i)throw new Gl(Hl.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vg(t){if(!dh.isDocumentKey(t))throw new Gl(Hl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":jl()}function _g(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gl(Hl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yg(t);throw new Gl(Hl.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}class wg{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Gl(Hl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gl(Hl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,i,n){if(!0===e&&!0===n)throw new Gl(Hl.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pg(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Gl(Hl.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Gl(Hl.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Gl(Hl.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bg{constructor(t,e,i,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gl(Hl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Gl(Hl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Wl;switch(t.type){case"firstParty":return new Zl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Gl(Hl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=gg.get(t);e&&(Fl("ComponentProvider","Removing Datastore"),gg.delete(t),e.terminate())}(this),Promise.resolve()}}function xg(t,e,i,n={}){var s;const r=(t=_g(t,bg))._getSettings(),o=`${e}:${i}`;if("firestore.googleapis.com"!==r.host&&r.host!==o&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),n.mockUserToken){let e,i;if("string"==typeof n.mockUserToken)e=n.mockUserToken,i=Rl.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify({alg:"none",type:"JWT"})),Pa(JSON.stringify(r)),""].join(".")}(n.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const r=n.mockUserToken.sub||n.mockUserToken.user_id;if(!r)throw new Gl(Hl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new Rl(r)}t._authCredentials=new Ql(new Kl(e,i))}}class Tg{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Tg(this.firestore,t,this._query)}}class Eg{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Eg(this.firestore,t,this._key)}}class Cg extends Tg{constructor(t,e,i){super(t,e,Ku(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Eg(this.firestore,null,new dh(t))}withConverter(t){return new Cg(this.firestore,t,this._path)}}function Sg(t,e,...i){if(t=Ka(t),1===arguments.length&&(e=nh.newId()),mg("doc","path",e),t instanceof bg){const n=lh.fromString(e,...i);return vg(n),new Eg(t,null,new dh(n))}{if(!(t instanceof Eg||t instanceof Cg))throw new Gl(Hl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(lh.fromString(e,...i));return vg(n),new Eg(t.firestore,t instanceof Cg?t.converter:null,new dh(n))}}class kg{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new wp(this,"async_queue_retry"),this.fu=()=>{const t=yp();t&&Fl("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=yp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new Xl;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Th(t))throw t;Fl("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Vl("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,i){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const n=qp.createAndSchedule(this,t,e,i,(t=>this.Su(t)));return this.du.push(n),n}pu(){this.Au&&jl()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}class Ig extends bg{constructor(t,e,i,n){super(t,e,i,n),this.type="firestore",this._queue=new kg,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kg(t),this._firestoreClient=void 0,await t}}}function Dg(t){if(t._terminated)throw new Gl(Hl.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ag(t),t._firestoreClient}function Ag(t){var e,i,n;const s=t._freezeSettings(),r=function(t,e,i,n){return new Zh(t,e,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,pg(n.experimentalLongPollingOptions),n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(null===(i=s.localCache)||void 0===i?void 0:i._offlineComponentProvider)&&(null===(n=s.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new cg(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Mg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mg(Hh.fromBase64String(t))}catch(t){throw new Gl(Hl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Mg(Hh.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Og{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Gl(Hl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uh(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pg{constructor(t){this._methodName=t}}class Rg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gl(Hl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gl(Hl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return sh(this._lat,t._lat)||sh(this._long,t._long)}}class Lg{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}(this._values,t._values)}}const Ng=/^__.*__$/;class zg{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Gd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hd(t,this.data,e,this.fieldTransforms)}}function Fg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jl()}}class Vg{constructor(t,e,i,n,s,r){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=n,void 0===s&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:i,Nu:!1});return n.Lu(t),n}Bu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:i,Nu:!1});return n.Fu(),n}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Qg(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if(Fg(this.Mu)&&Ng.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class Bg{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||_p(t)}$u(t,e,i,n=!1){return new Vg({Mu:t,methodName:e,Ku:i,path:uh.emptyPath(),Nu:!1,Qu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(t){const e=t._freezeSettings(),i=_p(t._databaseId);return new Bg(t._databaseId,!!e.ignoreUndefinedProperties,i)}function jg(t,e,i,n,s,r={}){const o=t.$u(r.merge||r.mergeFields?2:0,e,i,s);Gg("Data must be an object, but it was:",o,n);const a=$g(n,o);let c,l;if(r.merge)c=new qh(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const t=[];for(const n of r.mergeFields){const s=Xg(e,n,i);if(!o.contains(s))throw new Gl(Hl.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Yg(t,s)||t.push(s)}c=new qh(t),l=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=o.fieldTransforms;return new zg(new vu(a),c,l)}function qg(t,e){if(Hg(t=Ka(t)))return Gg("Unsupported field value:",e,t),$g(t,e);if(t instanceof Pg)return function(t,e){if(!Fg(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const i=[];let n=0;for(const s of t){let t=qg(s,e.ku(n));null==t&&(t={nullValue:"NULL_VALUE"}),i.push(t),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=Ka(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Td(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=oh.fromDate(t);return{timestampValue:af(e.serializer,i)}}if(t instanceof oh){const i=new oh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:af(e.serializer,i)}}if(t instanceof Rg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mg)return{bytesValue:cf(e.serializer,t._byteString)};if(t instanceof Eg){const i=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(i))throw e.qu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uf(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Lg)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return bd(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${yg(t)}`)}(t,e)}function $g(t,e){const i={};return zh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nh(t,((t,n)=>{const s=qg(n,e.Ou(t));null!=s&&(i[t]=s)})),{mapValue:{fields:i}}}function Hg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof oh||t instanceof Rg||t instanceof Mg||t instanceof Eg||t instanceof Pg||t instanceof Lg)}function Gg(t,e,i){if(!Hg(i)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(i)){const n=yg(i);throw"an object"===n?e.qu(t+" a custom object"):e.qu(t+" "+n)}}function Xg(t,e,i){if((e=Ka(e))instanceof Og)return e._internalPath;if("string"==typeof e)return Wg(t,e);throw Qg("Field path arguments must be of type string or ",t,!1,void 0,i)}const Kg=new RegExp("[~\\*/\\[\\]]");function Wg(t,e,i){if(e.search(Kg)>=0)throw Qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Og(...e.split("."))._internalPath}catch(n){throw Qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function Qg(t,e,i,n,s){const r=n&&!n.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new Gl(Hl.INVALID_ARGUMENT,a+t+c)}function Yg(t,e){return t.some((t=>t.isEqual(e)))}function Jg(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}function Zg(t,e){return function(t,e){const i=new Xl;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,i){const n=sg(t);try{const t=await function(t,e){const i=$l(t),n=oh.now(),s=e.reduce(((t,e)=>t.add(e.key)),yd());let r,o;return i.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=ld(),c=yd();return i.hs.getEntries(t,s).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>i.localDocuments.getOverlayedDocuments(t,a))).next((s=>{r=s;const o=[];for(const t of e){const e=qd(t,r.get(t.key).overlayedDocument);null!=e&&o.push(new Gd(t.key,e,yu(e.value.mapValue),zd.exists(!0)))}return i.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(r,c);return i.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:dd(r)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,i){let n=t.qa[t.currentUser.toKey()];n||(n=new Fh(sh)),n=n.insert(e,i),t.qa[t.currentUser.toKey()]=n}(n,t.batchId,i),await ig(n,t.changes),await Mp(n.remoteStore)}catch(t){const e=$p(t,"Failed to persist write");i.reject(e)}}(await fg(t),e,i))),i.promise}(Dg(t),e)}new WeakMap;!function(t,e=!0){!function(t){Ll=t}("11.0.2"),sl(new Wa("firestore",((t,{instanceIdentifier:i,options:n})=>{const s=t.getProvider("app").getImmediate(),r=new Ig(new Yl(t.getProvider("auth-internal")),new eh(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gl(Hl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(t.options.projectId,e)}(s,i),s);return n=Object.assign({useFetchStreams:e},n),r._setSettings(n),r}),"PUBLIC").setMultipleInstances(!0)),ll(Pl,"4.7.5",t),ll(Pl,"4.7.5","esm2017")}();const tm="generated",em="pointerleave",im="pointermove",nm="touchend",sm="tsParticles - Error",rm=100,om=.5,am=1e3;var cm;function lm(t){return"boolean"==typeof t}function hm(t){return"string"==typeof t}function um(t){return"number"==typeof t}function dm(t){return"object"==typeof t&&null!==t}function fm(t){return Array.isArray(t)}function pm(t){return null==t}!function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"}(cm||(cm={}));const gm=0,mm=0,vm=0;class ym{constructor(t,e,i){if(this._updateFromAngle=(t,e)=>{this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},!um(t)&&t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:vm}else{if(void 0===t||void 0===e)throw new Error(`${sm} Vector3d not initialized correctly`);this.x=t,this.y=e,this.z=i??vm}}static get origin(){return ym.create(gm,mm,vm)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return ym.create(t.x,t.y,t.z)}static create(t,e,i){return new ym(t,e,i)}add(t){return ym.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return ym.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return ym.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return ym.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;0!=t&&this.multTo(1/t)}rotate(t){return ym.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),vm)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:vm}sub(t){return ym.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class _m extends ym{constructor(t,e){super(t,e,vm)}static get origin(){return _m.create(gm,mm)}static clone(t){return _m.create(t.x,t.y)}static create(t,e){return new _m(t,e)}}let wm=Math.random;const bm={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)},xm=(new Map,2*Math.PI);function Tm(){return Em(wm(),0,1-Number.EPSILON)}function Em(t,e,i){return Math.min(Math.max(t,e),i)}function Cm(t){const e=Im(t);let i=km(t);return e===i&&(i=0),Tm()*(e-i)+i}function Sm(t){return um(t)?t:Cm(t)}function km(t){return um(t)?t:t.min}function Im(t){return um(t)?t:t.max}function Dm(t,e){if(t===e||void 0===e&&um(t))return t;const i=km(t),n=Im(t);return void 0!==e?{min:Math.min(i,e),max:Math.max(n,e)}:Dm(i,n)}function Am(t,e){const i=t.x-e.x,n=t.y-e.y;return{dx:i,dy:n,distance:Math.sqrt(i**2+n**2)}}function Mm(t,e){return Am(t,e).distance}function Om(t){return t*Math.PI/180}function Pm(t){const e={x:void 0!==t.position?.x?Sm(t.position.x):void 0,y:void 0!==t.position?.y?Sm(t.position.y):void 0};return function(t){return{x:(t.position?.x??Tm()*rm)*t.size.width/rm,y:(t.position?.y??Tm()*rm)*t.size.height/rm}}({size:t.size,position:e})}function Rm(t){return{x:t.position?.x??Tm()*t.size.width,y:t.position?.y??Tm()*t.size.height}}function Lm(t){return t?t.endsWith("%")?parseFloat(t)/rm:parseFloat(t):1}var Nm,zm,Fm,Vm,Bm,Um;!function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"}(Nm||(Nm={})),function(t){t.increasing="increasing",t.decreasing="decreasing"}(zm||(zm={})),function(t){t.none="none",t.max="max",t.min="min"}(Fm||(Fm={})),function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"}(Vm||(Vm={})),function(t){t.precise="precise",t.percent="percent"}(Bm||(Bm={})),function(t){t.max="max",t.min="min",t.random="random"}(Um||(Um={}));const jm={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function qm(){return jm}function $m(){return"undefined"==typeof window||!window||void 0===window.document||!window.document}function Hm(t){if(!$m()&&"undefined"!=typeof matchMedia)return matchMedia(t)}function Gm(t,e){return t===e||fm(e)&&e.indexOf(t)>-1}async function Xm(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function Km(t){return Math.floor(Tm()*t.length)}function Wm(t,e,i=!0){return t[void 0!==e&&i?e%t.length:Km(t)]}function Qm(t,e,i,n,s){return function(t,e,i,n){let s=!0;n&&n!==Vm.bottom||(s=t.top<e.height+i.x);!s||n&&n!==Vm.left||(s=t.right>i.x);!s||n&&n!==Vm.right||(s=t.left<e.width+i.y);!s||n&&n!==Vm.top||(s=t.bottom>i.y);return s}(Ym(t,n??0),e,i,s)}function Ym(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Jm(t,...e){for(const i of e){if(null==i)continue;if(!dm(i)){t=i;continue}const e=Array.isArray(i);!e||!dm(t)&&t&&Array.isArray(t)?e||!dm(t)&&t&&!Array.isArray(t)||(t={}):t=[];for(const e in i){if("__proto__"===e)continue;const n=i[e],s=t;s[e]=dm(n)&&Array.isArray(n)?n.map((t=>Jm(s[e],t))):Jm(s[e],n)}}return t}function Zm(t,e){return fm(t)?t.map(((t,i)=>e(t,i))):e(t,0)}function tv(t,e,i){return fm(t)?Wm(t,e,i):t}function ev(t,e){const i=t.value,n=t.animation,s={delayTime:Sm(n.delay)*am,enable:n.enable,value:Sm(t.value)*e,max:Im(i)*e,min:km(i)*e,loops:0,maxLoops:Sm(n.count),time:0};if(n.enable){switch(s.decay=1-Sm(n.decay),n.mode){case Nm.increase:s.status=zm.increasing;break;case Nm.decrease:s.status=zm.decreasing;break;case Nm.random:s.status=Tm()>=om?zm.increasing:zm.decreasing}const t=n.mode===Nm.auto;switch(n.startValue){case Um.min:s.value=s.min,t&&(s.status=zm.increasing);break;case Um.max:s.value=s.max,t&&(s.status=zm.decreasing);break;case Um.random:default:s.value=Cm(s),t&&(s.status=Tm()>=om?zm.increasing:zm.decreasing)}}return s.initialValue=s.value,s}function iv(t,e){if(!(t.mode===Bm.percent)){const{mode:e,...i}=t;return i}return"x"in t?{x:t.x/rm*e.width,y:t.y/rm*e.height}:{width:t.width/rm*e.width,height:t.height/rm*e.height}}function nv(t,e){return iv(t,e)}function sv(t,e){return iv(t,e)}function rv(t,e,i,n,s){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const r=(e.velocity??0)*s.factor,o=e.min,a=e.max,c=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case zm.increasing:e.value>=a?(i?e.status=zm.decreasing:e.value-=a,e.loops||(e.loops=0),e.loops++):e.value+=r;break;case zm.decreasing:e.value<=o?(i?e.status=zm.increasing:e.value+=a,e.loops||(e.loops=0),e.loops++):e.value-=r}e.velocity&&1!==c&&(e.velocity*=c),function(t,e,i,n,s){switch(e){case Fm.max:i>=s&&t.destroy();break;case Fm.min:i<=n&&t.destroy()}}(t,n,e.value,o,a),t.destroyed||(e.value=Em(e.value,o,a))}}var ov,av;!function(t){t.darken="darken",t.enlighten="enlighten"}(ov||(ov={})),function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"}(av||(av={}));const cv="random",lv=new Map;function hv(t){lv.set(t.key,t)}function uv(t){for(const e of lv.values())if(t.startsWith(e.stringPrefix))return e.parseString(t);const e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((t,e,i,n,s)=>e+e+i+i+n+n+(void 0!==s?s+s:""))),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return i?{a:void 0!==i[av.a]?parseInt(i[av.a],16)/255:1,b:parseInt(i[av.b],16),g:parseInt(i[av.g],16),r:parseInt(i[av.r],16)}:void 0}function dv(t,e,i=!0){if(!t)return;const n=hm(t)?{value:t}:t;if(hm(n.value))return fv(n.value,e,i);if(fm(n.value))return dv({value:Wm(n.value,e,i)});for(const t of lv.values()){const e=t.handleRangeColor(n);if(e)return e}}function fv(t,e,i=!0){if(!t)return;const n=hm(t)?{value:t}:t;if(hm(n.value))return n.value===cv?vv():function(t){return uv(t)}(n.value);if(fm(n.value))return fv({value:Wm(n.value,e,i)});for(const t of lv.values()){const e=t.handleColor(n);if(e)return e}}function pv(t,e,i=!0){const n=dv(t,e,i);return n?gv(n):void 0}function gv(t){const e=t.r/255,i=t.g/255,n=t.b/255,s=Math.max(e,i,n),r=Math.min(e,i,n),o={h:0,l:.5*(s+r),s:0};return s!==r&&(o.s=o.l<.5?(s-r)/(s+r):(s-r)/(2-s-r),o.h=e===s?(i-n)/(s-r):o.h=i===s?2+(n-e)/(s-r):4+(e-i)/(s-r)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function mv(t){const e=360,i=(t.h%e+e)%e,n=Math.max(0,Math.min(100,t.s)),s=i/e,r=n/100,o=Math.max(0,Math.min(100,t.l))/100,a=255;if(0===n){const t=Math.round(o*a);return{r:t,g:t,b:t}}const c=(t,e,i)=>{if(i<0&&i++,i>1&&i--,6*i<1)return t+6*(e-t)*i;if(2*i<1)return e;if(3*i<2){return t+(e-t)*(2/3-i)*6}return t},l=o<.5?o*(1+r):o+r-o*r,h=2*o-l,u=1/3,d=Math.min(a,a*c(h,l,s+u)),f=Math.min(a,a*c(h,l,s)),p=Math.min(a,a*c(h,l,s-u));return{r:Math.round(d),g:Math.round(f),b:Math.round(p)}}function vv(t){const e=t??0;return{b:Math.floor(Cm(Dm(e,256))),g:Math.floor(Cm(Dm(e,256))),r:Math.floor(Cm(Dm(e,256)))}}function yv(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function _v(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function wv(t){return void 0!==t?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function bv(t,e,i){t.enable=e.enable;t.enable?(t.velocity=Sm(e.speed)/rm*i,t.decay=1-Sm(e.decay),t.status=zm.increasing,t.loops=0,t.maxLoops=Sm(e.count),t.time=0,t.delayTime=Sm(e.delay)*am,e.sync||(t.velocity*=Tm(),t.value*=Tm()),t.initialValue=t.value,t.offset=Dm(e.offset)):t.velocity=0}function xv(t,e,i,n){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0))return;const s=t.offset?Cm(t.offset):0,r=(t.velocity??0)*n.factor+3.6*s,o=t.decay??1,a=Im(e),c=km(e);if(i&&t.status!==zm.increasing){t.value-=r;const e=0;t.value<e&&(t.loops||(t.loops=0),t.loops++,t.status=zm.increasing)}else t.value+=r,t.value>a&&(t.loops||(t.loops=0),t.loops++,i?t.status=zm.decreasing:t.value-=a);t.velocity&&1!==o&&(t.velocity*=o),t.value=Em(t.value,c,a)}const Tv=0,Ev=0,Cv=1,Sv=0,kv=0,Iv=1;function Dv(t,e){t.clearRect(Tv,Ev,e.width,e.height)}function Av(t,e,i){const n=e[i];void 0!==n&&(t[i]=(t[i]??1)*n)}function Mv(t,e,i=!1){if(!e)return;if(!t)return;const n=t.style;if(n)for(const t in e){const s=e[t];n.setProperty(t,s,i?"important":"")}}class Ov{constructor(t){this.container=t,this._applyPostDrawUpdaters=t=>{for(const e of this._postDrawUpdaters)e.afterDraw?.(t)},this._applyPreDrawUpdaters=(t,e,i,n,s,r)=>{for(const o of this._preDrawUpdaters){if(o.getColorStyles){const{fill:r,stroke:a}=o.getColorStyles(e,t,i,n);r&&(s.fill=r),a&&(s.stroke=a)}if(o.getTransformValues){const t=o.getTransformValues(e);for(const e in t)Av(r,t,e)}o.beforeDraw?.(e)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize?.()},this._getPluginParticleColors=t=>{let e,i;for(const n of this._colorPlugins)if(!e&&n.particleFillColor&&(e=pv(n.particleFillColor(t))),!i&&n.particleStrokeColor&&(i=pv(n.particleStrokeColor(t))),e&&i)break;return[e,i]},this._initCover=async()=>{const t=this.container.actualOptions.backgroundMask.cover,e=t.color;if(e){const i=dv(e);if(i){const e={...i,a:t.opacity};this._coverColorStyle=yv(e,e.a)}}else await new Promise(((e,i)=>{if(!t.image)return;const n=document.createElement("img");n.addEventListener("load",(()=>{this._coverImage={image:n,opacity:t.opacity},e()})),n.addEventListener("error",(t=>{i(t.error)})),n.src=t.image}))},this._initStyle=()=>{const t=this.element,e=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Jm({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const i in e.style){if(!i||!e.style)continue;const n=e.style[i];n&&t.style.setProperty(i,n,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions.particles.move.trail,e=t.fill;if(!t.enable)return;const i=1/t.length;if(e.color){const t=dv(e.color);if(!t)return;this._trailFill={color:{...t},opacity:i}}else await new Promise(((t,n)=>{if(!e.image)return;const s=document.createElement("img");s.addEventListener("load",(()=>{this._trailFill={image:s,opacity:i},t()})),s.addEventListener("error",(t=>{n(t.error)})),s.src=e.image}))},this._paintBase=t=>{this.draw((e=>function(t,e,i){t.fillStyle=i??"rgba(0,0,0,0)",t.fillRect(Tv,Ev,e.width,e.height)}(e,this.size,t)))},this._paintImage=(t,e)=>{this.draw((i=>function(t,e,i,n){i&&(t.globalAlpha=n,t.drawImage(i,Tv,Ev,e.width,e.height),t.globalAlpha=1)}(i,this.size,t,e)))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver((t=>t.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((e=>{t&&t instanceof Node&&e.observe(t,{attributes:!0})})))},this._resetOriginalStyle=()=>{const t=this.element,e=this._originalStyle;t&&e&&Mv(t,e)},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const e=this.container.actualOptions.fullScreen.zIndex.toString(10);Mv(t,{position:"fixed","z-index":e,zIndex:e,top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,i=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&i?i.color?this._paintBase(yv(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):t.clear&&this.draw((t=>{Dv(t,this.size)}))}destroy(){if(this.stop(),this._generated){const t=this.element;t?.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawAsync(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const i=t.getRadius();if(i<=0)return;const n=t.getFillColor(),s=t.getStrokeColor()??n;let[r,o]=this._getPluginParticleColors(t);r||(r=n),o||(o=s),(r||o)&&this.draw((n=>{const s=this.container,a=s.actualOptions,c=t.options.zIndex,l=1-t.zIndexFactor,h=l**c.opacityRate,u=t.bubble.opacity??t.opacity?.value??1,d=u*h,f=(t.strokeOpacity??u)*h,p={},g={fill:r?_v(r,d):void 0};g.stroke=o?_v(o,f):g.fill,this._applyPreDrawUpdaters(n,t,i,d,g,p),function(t){const{container:e,context:i,particle:n,delta:s,colorStyles:r,backgroundMask:o,composite:a,radius:c,opacity:l,shadow:h,transform:u}=t,d=n.getPosition(),f=n.rotation+(n.pathRotation?n.velocity.angle:0),p=Math.sin(f),g=Math.cos(f),m=!!f,v={a:g*(u.a??Cv),b:m?p*(u.b??1):u.b??Sv,c:m?-p*(u.c??1):u.c??kv,d:g*(u.d??Iv)};i.setTransform(v.a,v.b,v.c,v.d,d.x,d.y),o&&(i.globalCompositeOperation=a);const y=n.shadowColor;h.enable&&y&&(i.shadowBlur=h.blur,i.shadowColor=yv(y),i.shadowOffsetX=h.offset.x,i.shadowOffsetY=h.offset.y),r.fill&&(i.fillStyle=r.fill);const _=n.strokeWidth??0;i.lineWidth=_,r.stroke&&(i.strokeStyle=r.stroke);const w={container:e,context:i,particle:n,radius:c,opacity:l,delta:s,transformData:v,strokeWidth:_};!function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,strokeWidth:a,transformData:c}=t,l=0;if(!n.shape)return;const h=e.shapeDrawers.get(n.shape);h&&(i.beginPath(),h.draw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...c}}),n.shapeClose&&i.closePath(),a>l&&i.stroke(),n.shapeFill&&i.fill())}(w),function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,transformData:a}=t;if(!n.shape)return;const c=e.shapeDrawers.get(n.shape);c?.afterDraw&&c.afterDraw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}(w),function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,transformData:a}=t;if(!n.effect)return;const c=e.effectDrawers.get(n.effect);c&&c.draw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}(w),i.globalCompositeOperation="source-over",i.resetTransform()}({container:s,context:n,particle:t,delta:e,colorStyles:g,backgroundMask:a.backgroundMask.enable,composite:a.backgroundMask.composite,radius:i*l**c.sizeRate,opacity:d,shadow:t.options.shadow,transform:p}),this._applyPostDrawUpdaters(t)}))}drawParticlePlugin(t,e,i){this.draw((n=>function(t,e,i,n){e.drawParticle&&e.drawParticle(t,i,n)}(n,t,e,i)))}drawPlugin(t,e){this.draw((i=>function(t,e,i){e.draw&&e.draw(t,i)}(i,t,e)))}async init(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=function(t){if(!$m()&&"undefined"!=typeof MutationObserver)return new MutationObserver(t)}((t=>{for(const e of t)"attributes"===e.type&&"style"===e.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(t){qm().error(t)}this.initBackground(),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions.background,e=this.element;if(!e)return;const i=e.style;if(i){if(t.color){const e=dv(t.color);i.backgroundColor=e?yv(e,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const t of this.container.plugins.values())t.resize&&this._resizePlugins.push(t),(t.particleFillColor??t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles??t.getTransformValues??t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&tm in t.dataset?"true"===t.dataset[tm]:this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=Jm({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw((e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(Dv(e,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()}))}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,i=t.canvas.size,n=this.element.offsetWidth*e,s=this.element.offsetHeight*e;if(s===i.height&&n===i.width&&s===this.element.height&&n===this.element.width)return!1;const r={...i};return this.element.width=i.width=this.element.offsetWidth*e,this.element.height=i.height=this.element.offsetHeight*e,this.container.started&&t.particles.setResizeFactor({width:i.width/r.width,height:i.height/r.height}),!0}stop(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=void 0,this.draw((t=>Dv(t,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}var Pv;!function(t){t.canvas="canvas",t.parent="parent",t.window="window"}(Pv||(Pv={}));function Rv(t,e,i,n,s){if(n){let n={passive:!0};lm(s)?n.capture=s:void 0!==s&&(n=s),t.addEventListener(e,i,n)}else{const n=s;t.removeEventListener(e,i,n)}}class Lv{constructor(t){this.container=t,this._doMouseTouchClick=t=>{const e=this.container,i=e.actualOptions;if(this._canPush){const t=e.interactivity.mouse,n=t.position;if(!n)return;t.clickPosition={...n},t.clickTime=(new Date).getTime();Zm(i.interactivity.events.onClick.mode,(t=>this.container.handleClickMode(t)))}if("touchend"===t.type){setTimeout((()=>this._mouseTouchFinish()),500)}},this._handleThemeChange=t=>{const e=t,i=this.container,n=i.options,s=n.defaultThemes,r=e.matches?s.dark:s.light,o=n.themes.find((t=>t.name===r));o?.default.auto&&i.loadTheme(r)},this._handleVisibilityChange=()=>{const t=this.container,e=t.actualOptions;this._mouseTouchFinish(),e.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const t=this.container.canvas;await(t?.windowResize())};this._resizeTimeout=setTimeout((()=>{t()}),this.container.actualOptions.interactivity.events.resize.delay*am)},this._manageInteractivityListeners=(t,e)=>{const i=this._handlers,n=this.container,s=n.actualOptions,r=n.interactivity.element;if(!r)return;const o=r,a=n.canvas.element;a&&(a.style.pointerEvents=o===a?"initial":"none"),(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(Rv(r,im,i.mouseMove,e),Rv(r,"touchstart",i.touchStart,e),Rv(r,"touchmove",i.touchMove,e),s.interactivity.events.onClick.enable?(Rv(r,nm,i.touchEndClick,e),Rv(r,"pointerup",i.mouseUp,e),Rv(r,"pointerdown",i.mouseDown,e)):Rv(r,nm,i.touchEnd,e),Rv(r,t,i.mouseLeave,e),Rv(r,"touchcancel",i.touchCancel,e))},this._manageListeners=t=>{const e=this._handlers,i=this.container,n=i.actualOptions.interactivity.detectsOn,s=i.canvas.element;let r=em;n===Pv.window?(i.interactivity.element=window,r="pointerout"):n===Pv.parent&&s?i.interactivity.element=s.parentElement??s.parentNode:i.interactivity.element=s,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(r,t),document&&Rv(document,"visibilitychange",e.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const e=this._handlers,i=Hm("(prefers-color-scheme: dark)");i&&(void 0===i.addEventListener?void 0!==i.addListener&&(t?i.addListener(e.oldThemeChange):i.removeListener(e.oldThemeChange)):Rv(i,"change",e.themeChange,t))},this._manageResize=t=>{const e=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if("undefined"==typeof ResizeObserver)return void Rv(window,"resize",e.resize,t);const n=i.canvas.element;this._resizeObserver&&!t?(n&&this._resizeObserver.unobserve(n),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&n&&(this._resizeObserver=new ResizeObserver((t=>{t.find((t=>t.target===n))&&this._handleWindowResize()})),this._resizeObserver.observe(n))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:e}=t;e.clicking=!0,e.downPosition=e.position},this._mouseTouchClick=t=>{const e=this.container,i=e.actualOptions,{mouse:n}=e.interactivity;n.inside=!0;let s=!1;const r=n.position;if(r&&i.interactivity.events.onClick.enable){for(const t of e.plugins.values())if(t.clickPositionValid&&(s=t.clickPositionValid(r),s))break;s||this._doMouseTouchClick(t),n.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const e=t.mouse;delete e.position,delete e.clickPosition,delete e.downPosition,t.status=em,e.inside=!1,e.clicking=!1},this._mouseTouchMove=t=>{const e=this.container,i=e.actualOptions,n=e.interactivity,s=e.canvas.element;if(!n?.element)return;let r;if(n.mouse.inside=!0,t.type.startsWith("pointer")){this._canPush=!0;const e=t;if(n.element===window){if(s){const t=s.getBoundingClientRect();r={x:e.clientX-t.left,y:e.clientY-t.top}}}else if(i.interactivity.detectsOn===Pv.parent){const t=e.target,i=e.currentTarget;if(t&&i&&s){const n=t.getBoundingClientRect(),o=i.getBoundingClientRect(),a=s.getBoundingClientRect();r={x:e.offsetX+2*n.left-(o.left+a.left),y:e.offsetY+2*n.top-(o.top+a.top)}}else r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY}}else e.target===s&&(r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY})}else if(this._canPush="touchmove"!==t.type,s){const e=t,i=1,n=e.touches[e.touches.length-i],o=s.getBoundingClientRect(),a=0;r={x:n.clientX-(o.left??a),y:n.clientY-(o.top??a)}}const o=e.retina.pixelRatio;r&&(r.x*=o,r.y*=o),n.mouse.position=r,n.status=im},this._touchEnd=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.delete(t.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.delete(t.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.set(t.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Nv,zv;!function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"}(Nv||(Nv={}));class Fv{constructor(){this.value=""}static create(t,e){const i=new Fv;return i.load(t),void 0!==e&&(hm(e)||fm(e)?i.load({value:e}):i.load(e)),i}load(t){pm(t)||pm(t.value)||(this.value=t.value)}}class Vv{constructor(){this.color=new Fv,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){pm(t)||(void 0!==t.color&&(this.color=Fv.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.position&&(this.position=t.position),void 0!==t.repeat&&(this.repeat=t.repeat),void 0!==t.size&&(this.size=t.size),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Bv{constructor(){this.opacity=1}load(t){pm(t)||(void 0!==t.color&&(this.color=Fv.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Uv{constructor(){this.composite="destination-out",this.cover=new Bv,this.enable=!1}load(t){if(!pm(t)){if(void 0!==t.composite&&(this.composite=t.composite),void 0!==t.cover){const e=t.cover,i=hm(t.cover)?{color:t.cover}:t.cover;this.cover.load(void 0!==e.color||void 0!==e.image?e:{color:i})}void 0!==t.enable&&(this.enable=t.enable)}}}class jv{constructor(){this.enable=!0,this.zIndex=0}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.zIndex&&(this.zIndex=t.zIndex))}}class qv{constructor(){this.enable=!1,this.mode=[]}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode))}}!function(t){t.circle="circle",t.rectangle="rectangle"}(zv||(zv={}));class $v{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=zv.circle}load(t){pm(t)||(void 0!==t.selectors&&(this.selectors=t.selectors),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type))}}class Hv{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.force&&(this.force=t.force),void 0!==t.smooth&&(this.smooth=t.smooth))}}class Gv{constructor(){this.enable=!1,this.mode=[],this.parallax=new Hv}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class Xv{constructor(){this.delay=.5,this.enable=!0}load(t){pm(t)||(void 0!==t.delay&&(this.delay=t.delay),void 0!==t.enable&&(this.enable=t.enable))}}class Kv{constructor(){this.onClick=new qv,this.onDiv=new $v,this.onHover=new Gv,this.resize=new Xv}load(t){if(pm(t))return;this.onClick.load(t.onClick);const e=t.onDiv;void 0!==e&&(this.onDiv=Zm(e,(t=>{const e=new $v;return e.load(t),e}))),this.onHover.load(t.onHover),this.resize.load(t.resize)}}class Wv{constructor(t,e){this._engine=t,this._container=e}load(t){if(pm(t))return;if(!this._container)return;const e=this._engine.interactors.get(this._container);if(e)for(const i of e)i.loadModeOptions&&i.loadModeOptions(this,t)}}class Qv{constructor(t,e){this.detectsOn=Pv.window,this.events=new Kv,this.modes=new Wv(t,e)}load(t){if(pm(t))return;const e=t.detectsOn;void 0!==e&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class Yv{load(t){pm(t)||(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??Bm.percent}),t.options&&(this.options=Jm({},t.options)))}}var Jv,Zv,ty,ey,iy,ny,sy;!function(t){t.screen="screen",t.canvas="canvas"}(Jv||(Jv={}));class ry{constructor(){this.maxWidth=1/0,this.options={},this.mode=Jv.canvas}load(t){pm(t)||(pm(t.maxWidth)||(this.maxWidth=t.maxWidth),pm(t.mode)||(t.mode===Jv.screen?this.mode=Jv.screen:this.mode=Jv.canvas),pm(t.options)||(this.options=Jm({},t.options)))}}!function(t){t.any="any",t.dark="dark",t.light="light"}(Zv||(Zv={}));class oy{constructor(){this.auto=!1,this.mode=Zv.any,this.value=!1}load(t){pm(t)||(void 0!==t.auto&&(this.auto=t.auto),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class ay{constructor(){this.name="",this.default=new oy}load(t){pm(t)||(void 0!==t.name&&(this.name=t.name),this.default.load(t.default),void 0!==t.options&&(this.options=Jm({},t.options)))}}class cy{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){pm(t)||(void 0!==t.count&&(this.count=Dm(t.count)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Dm(t.speed)),void 0!==t.decay&&(this.decay=Dm(t.decay)),void 0!==t.delay&&(this.delay=Dm(t.delay)),void 0!==t.sync&&(this.sync=t.sync))}}class ly extends cy{constructor(){super(),this.mode=Nm.auto,this.startValue=Um.random}load(t){super.load(t),pm(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.startValue&&(this.startValue=t.startValue))}}class hy extends cy{constructor(){super(),this.offset=0,this.sync=!0}load(t){super.load(t),pm(t)||void 0!==t.offset&&(this.offset=Dm(t.offset))}}class uy{constructor(){this.h=new hy,this.s=new hy,this.l=new hy}load(t){pm(t)||(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class dy extends Fv{constructor(){super(),this.animation=new uy}static create(t,e){const i=new dy;return i.load(t),void 0!==e&&(hm(e)||fm(e)?i.load({value:e}):i.load(e)),i}load(t){if(super.load(t),pm(t))return;const e=t.animation;void 0!==e&&(void 0!==e.enable?this.animation.h.load(e):this.animation.load(t.animation))}}!function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"}(ty||(ty={}));class fy{constructor(){this.speed=2}load(t){pm(t)||void 0!==t.speed&&(this.speed=t.speed)}}class py{constructor(){this.enable=!0,this.retries=0}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.retries&&(this.retries=t.retries))}}class gy{constructor(){this.value=0}load(t){pm(t)||pm(t.value)||(this.value=Dm(t.value))}}class my extends gy{constructor(){super(),this.animation=new cy}load(t){if(super.load(t),pm(t))return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class vy extends my{constructor(){super(),this.animation=new ly}load(t){super.load(t)}}class yy extends gy{constructor(){super(),this.value=1}}class _y{constructor(){this.horizontal=new yy,this.vertical=new yy}load(t){pm(t)||(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class wy{constructor(){this.absorb=new fy,this.bounce=new _y,this.enable=!1,this.maxSpeed=50,this.mode=ty.bounce,this.overlap=new py}load(t){pm(t)||(this.absorb.load(t.absorb),this.bounce.load(t.bounce),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.maxSpeed&&(this.maxSpeed=Dm(t.maxSpeed)),void 0!==t.mode&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class by{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(t){if(pm(t))return;const e=t.options;if(void 0!==e)for(const t in e){const i=e[t];i&&(this.options[t]=Jm(this.options[t]??{},i))}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class xy{constructor(){this.offset=0,this.value=90}load(t){pm(t)||(void 0!==t.offset&&(this.offset=Dm(t.offset)),void 0!==t.value&&(this.value=Dm(t.value)))}}class Ty{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(t){if(!pm(t)&&(void 0!==t.distance&&(this.distance=Dm(t.distance)),void 0!==t.enable&&(this.enable=t.enable),t.rotate)){const e=t.rotate.x;void 0!==e&&(this.rotate.x=e);const i=t.rotate.y;void 0!==i&&(this.rotate.y=i)}}}class Ey{constructor(){this.x=50,this.y=50,this.mode=Bm.percent,this.radius=0}load(t){pm(t)||(void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.radius&&(this.radius=t.radius))}}class Cy{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){pm(t)||(void 0!==t.acceleration&&(this.acceleration=Dm(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.inverse&&(this.inverse=t.inverse),void 0!==t.maxSpeed&&(this.maxSpeed=Dm(t.maxSpeed)))}}class Sy{constructor(){this.clamp=!0,this.delay=new gy,this.enable=!1,this.options={}}load(t){pm(t)||(void 0!==t.clamp&&(this.clamp=t.clamp),this.delay.load(t.delay),void 0!==t.enable&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=Jm(this.options,t.options)))}}class ky{load(t){pm(t)||(void 0!==t.color&&(this.color=Fv.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image))}}class Iy{constructor(){this.enable=!1,this.length=10,this.fill=new ky}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.fill&&this.fill.load(t.fill),void 0!==t.length&&(this.length=t.length))}}!function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"}(ey||(ey={}));class Dy{constructor(){this.default=ey.out}load(t){pm(t)||(void 0!==t.default&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class Ay{constructor(){this.acceleration=0,this.enable=!1}load(t){pm(t)||(void 0!==t.acceleration&&(this.acceleration=Dm(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),t.position&&(this.position=Jm({},t.position)))}}class My{constructor(){this.angle=new xy,this.attract=new Ty,this.center=new Ey,this.decay=0,this.distance={},this.direction=cm.none,this.drift=0,this.enable=!1,this.gravity=new Cy,this.path=new Sy,this.outModes=new Dy,this.random=!1,this.size=!1,this.speed=2,this.spin=new Ay,this.straight=!1,this.trail=new Iy,this.vibrate=!1,this.warp=!1}load(t){if(pm(t))return;this.angle.load(um(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),void 0!==t.decay&&(this.decay=Dm(t.decay)),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.distance&&(this.distance=um(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),void 0!==t.drift&&(this.drift=Dm(t.drift)),void 0!==t.enable&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes;void 0!==e&&(dm(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path),void 0!==t.random&&(this.random=t.random),void 0!==t.size&&(this.size=t.size),void 0!==t.speed&&(this.speed=Dm(t.speed)),this.spin.load(t.spin),void 0!==t.straight&&(this.straight=t.straight),this.trail.load(t.trail),void 0!==t.vibrate&&(this.vibrate=t.vibrate),void 0!==t.warp&&(this.warp=t.warp)}}class Oy extends ly{constructor(){super(),this.destroy=Fm.none,this.speed=2}load(t){super.load(t),pm(t)||void 0!==t.destroy&&(this.destroy=t.destroy)}}class Py extends vy{constructor(){super(),this.animation=new Oy,this.value=1}load(t){if(pm(t))return;super.load(t);const e=t.animation;void 0!==e&&this.animation.load(e)}}class Ry{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(t){if(pm(t))return;void 0!==t.enable&&(this.enable=t.enable);const e=t.width;void 0!==e&&(this.width=e);const i=t.height;void 0!==i&&(this.height=i)}}!function(t){t.delete="delete",t.wait="wait"}(iy||(iy={}));class Ly{constructor(){this.mode=iy.delete,this.value=0}load(t){pm(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class Ny{constructor(){this.density=new Ry,this.limit=new Ly,this.value=0}load(t){pm(t)||(this.density.load(t.density),this.limit.load(t.limit),void 0!==t.value&&(this.value=t.value))}}class zy{constructor(){this.blur=0,this.color=new Fv,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){pm(t)||(void 0!==t.blur&&(this.blur=t.blur),this.color=Fv.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.offset&&(void 0!==t.offset.x&&(this.offset.x=t.offset.x),void 0!==t.offset.y&&(this.offset.y=t.offset.y)))}}class Fy{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(t){if(pm(t))return;const e=t.options;if(void 0!==e)for(const t in e){const i=e[t];i&&(this.options[t]=Jm(this.options[t]??{},i))}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class Vy extends ly{constructor(){super(),this.destroy=Fm.none,this.speed=5}load(t){super.load(t),pm(t)||void 0!==t.destroy&&(this.destroy=t.destroy)}}class By extends vy{constructor(){super(),this.animation=new Vy,this.value=3}load(t){if(super.load(t),pm(t))return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class Uy{constructor(){this.width=0}load(t){pm(t)||(void 0!==t.color&&(this.color=dy.create(this.color,t.color)),void 0!==t.width&&(this.width=Dm(t.width)),void 0!==t.opacity&&(this.opacity=Dm(t.opacity)))}}class jy extends gy{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),pm(t)||(void 0!==t.opacityRate&&(this.opacityRate=t.opacityRate),void 0!==t.sizeRate&&(this.sizeRate=t.sizeRate),void 0!==t.velocityRate&&(this.velocityRate=t.velocityRate))}}class qy{constructor(t,e){this._engine=t,this._container=e,this.bounce=new _y,this.collisions=new wy,this.color=new dy,this.color.value="#fff",this.effect=new by,this.groups={},this.move=new My,this.number=new Ny,this.opacity=new Py,this.reduceDuplicates=!1,this.shadow=new zy,this.shape=new Fy,this.size=new By,this.stroke=new Uy,this.zIndex=new jy}load(t){if(pm(t))return;if(void 0!==t.groups)for(const e of Object.keys(t.groups)){if(!Object.hasOwn(t.groups,e))continue;const i=t.groups[e];void 0!==i&&(this.groups[e]=Jm(this.groups[e]??{},i))}void 0!==t.reduceDuplicates&&(this.reduceDuplicates=t.reduceDuplicates),this.bounce.load(t.bounce),this.color.load(dy.create(this.color,t.color)),this.effect.load(t.effect),this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex),this.collisions.load(t.collisions),void 0!==t.interactivity&&(this.interactivity=Jm({},t.interactivity));const e=t.stroke;if(e&&(this.stroke=Zm(e,(t=>{const e=new Uy;return e.load(t),e}))),this._container){const e=this._engine.updaters.get(this._container);if(e)for(const i of e)i.loadOptions&&i.loadOptions(this,t);const i=this._engine.interactors.get(this._container);if(i)for(const e of i)e.loadParticlesOptions&&e.loadParticlesOptions(this,t)}}}function $y(t,...e){for(const i of e)t.load(i)}function Hy(t,e,...i){const n=new qy(t,e);return $y(n,...i),n}class Gy{constructor(t,e){this._findDefaultTheme=t=>this.themes.find((e=>e.default.value&&e.default.mode===t))??this.themes.find((t=>t.default.value&&t.default.mode===Zv.any)),this._importPreset=t=>{this.load(this._engine.getPreset(t))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new Vv,this.backgroundMask=new Uv,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new jv,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Qv(t,e),this.manualParticles=[],this.particles=Hy(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(t){if(pm(t))return;void 0!==t.preset&&Zm(t.preset,(t=>this._importPreset(t))),void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.clear&&(this.clear=t.clear),void 0!==t.key&&(this.key=t.key),void 0!==t.name&&(this.name=t.name),void 0!==t.delay&&(this.delay=Dm(t.delay));const e=t.detectRetina;void 0!==e&&(this.detectRetina=e),void 0!==t.duration&&(this.duration=Dm(t.duration));const i=t.fpsLimit;void 0!==i&&(this.fpsLimit=i),void 0!==t.pauseOnBlur&&(this.pauseOnBlur=t.pauseOnBlur),void 0!==t.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),void 0!==t.zLayers&&(this.zLayers=t.zLayers),this.background.load(t.background);const n=t.fullScreen;lm(n)?this.fullScreen.enable=n:this.fullScreen.load(n),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map((t=>{const e=new Yv;return e.load(t),e}))),this.particles.load(t.particles),this.style=Jm(this.style,t.style),this._engine.loadOptions(this,t),void 0!==t.smooth&&(this.smooth=t.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const e of s)e.loadOptions&&e.loadOptions(this,t);if(void 0!==t.responsive)for(const e of t.responsive){const t=new ry;t.load(e),this.responsive.push(t)}if(this.responsive.sort(((t,e)=>t.maxWidth-e.maxWidth)),void 0!==t.themes)for(const e of t.themes){const t=this.themes.find((t=>t.name===e.name));if(t)t.load(e);else{const t=new ay;t.load(e),this.themes.push(t)}}this.defaultThemes.dark=this._findDefaultTheme(Zv.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Zv.light)?.name}setResponsive(t,e,i){this.load(i);const n=this.responsive.find((i=>i.mode===Jv.screen&&screen?i.maxWidth>screen.availWidth:i.maxWidth*e>t));return this.load(n?.options),n?.maxWidth}setTheme(t){if(t){const e=this.themes.find((e=>e.name===t));e&&this.load(e.options)}else{const t=Hm("(prefers-color-scheme: dark)"),e=t?.matches,i=this._findDefaultTheme(e?Zv.dark:Zv.light);i&&this.load(i.options)}}}!function(t){t.external="external",t.particles="particles"}(ny||(ny={}));class Xy{constructor(t,e){this.container=e,this._engine=t,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode?.(t)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case ny.external:this._externalInteractors.push(t);break;case ny.particles:this._particleInteractors.push(t)}t.init()}}particlesInteract(t,e){for(const i of this._externalInteractors)i.clear(t,e);for(const i of this._particleInteractors)i.isEnabled(t)&&i.interact(t,e)}reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}!function(t){t.normal="normal",t.inside="inside",t.outside="outside"}(sy||(sy={}));const Ky=.5,Wy="random";function Qy(t){if(!Gm(t.outMode,t.checkModes))return;const e=2*t.radius;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class Yy{constructor(t,e){this.container=e,this._calcPosition=(t,e,i,n=0)=>{for(const n of t.plugins.values()){const t=void 0!==n.particlePosition?n.particlePosition(e,this):void 0;if(t)return ym.create(t.x,t.y,i)}const s=Rm({size:t.canvas.size,position:e}),r=ym.create(s.x,s.y,i),o=this.getRadius(),a=this.options.move.outModes,c=e=>{Qy({outMode:e,checkModes:[ey.bounce],coord:r.x,maxCoord:t.canvas.size.width,setCb:t=>r.x+=t,radius:o})},l=e=>{Qy({outMode:e,checkModes:[ey.bounce],coord:r.y,maxCoord:t.canvas.size.height,setCb:t=>r.y+=t,radius:o})};if(c(a.left??a.default),c(a.right??a.default),l(a.top??a.default),l(a.bottom??a.default),this._checkOverlap(r,n)){const e=1;return this._calcPosition(t,void 0,i,n+e)}return r},this._calculateVelocity=()=>{const t=function(t){const e=_m.origin;return e.length=1,e.angle=t,e}(this.direction).copy(),e=this.options.move;if(e.direction===cm.inside||e.direction===cm.outside)return t;const i=Om(Sm(e.angle.value)),n=Om(Sm(e.angle.offset)),s={left:n-i*Ky,right:n+i*Ky};return e.straight||(t.angle+=Cm(Dm(s.left,s.right))),e.random&&"number"==typeof e.speed&&(t.length*=Tm()),t},this._checkOverlap=(t,e=0)=>{const i=this.options.collisions,n=this.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const r=s.retries;if(r>=0&&e>r)throw new Error(`${sm} particle is overlapping and can't be placed`);return!!this.container.particles.find((e=>Mm(t,e.position)<n+e.getRadius()))},this._getRollColor=t=>{if(!t||!this.roll||!this.backColor&&!this.roll.alter)return t;const e=this.roll.horizontal&&this.roll.vertical?2:1,i=this.roll.horizontal?Math.PI*Ky:0;return Math.floor(((this.roll.angle??0)+i)/(Math.PI/e))%2?this.backColor?this.backColor:this.roll.alter?function(t,e,i){return{h:t.h,s:t.s,l:t.l+(e===ov.darken?-1:1)*i}}(t,this.roll.alter.type,this.roll.alter.value):t:t},this._initPosition=t=>{const e=this.container,i=Sm(this.options.zIndex.value);this.position=this._calcPosition(e,t,Em(i,0,e.zLayers)),this.initialPosition=this.position.copy();const n=e.canvas.size;switch(this.moveCenter={...nv(this.options.move.center,n),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??Bm.percent},this.direction=function(t,e,i){if(um(t))return Om(t);const n=.25;switch(t){case cm.top:return.5*-Math.PI;case cm.topRight:return-Math.PI*n;case cm.right:return 0;case cm.bottomRight:return Math.PI*n;case cm.bottom:return.5*Math.PI;case cm.bottomLeft:return.75*Math.PI;case cm.left:return Math.PI;case cm.topLeft:return.75*-Math.PI;case cm.inside:return Math.atan2(i.y-e.y,i.x-e.x);case cm.outside:return Math.atan2(e.y-i.y,e.x-i.x);default:return Tm()*xm}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case cm.inside:this.outType=sy.inside;break;case cm.outside:this.outType=sy.outside}this.offset=_m.origin},this._engine=t}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,i=this.pathGenerator,n=e.shapeDrawers.get(this.shape);n?.particleDestroy?.(this);for(const i of e.plugins.values())i.particleDestroyed?.(this,t);for(const i of e.particles.updaters)i.particleDestroyed?.(this,t);i?.reset(this),this._engine.dispatchEvent(Nv.particleDestroyed,{container:this.container,data:{particle:this}})}draw(t){const e=this.container,i=e.canvas;for(const n of e.plugins.values())i.drawParticlePlugin(n,this,t);i.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??wv(this.color))}getMass(){return this.getRadius()**2*Math.PI*Ky}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??wv(this.strokeColor))}init(t,e,i,n){const s=this.container,r=this._engine;this.id=t,this.group=n,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=sy.normal,this.ignoresResizeRatio=!0;const o=s.retina.pixelRatio,a=s.actualOptions,c=Hy(this._engine,s,a.particles),{reduceDuplicates:l}=c,h=c.effect.type,u=c.shape.type;this.effect=tv(h,this.id,l),this.shape=tv(u,this.id,l);const d=c.effect,f=c.shape;if(i){if(i.effect?.type){const t=tv(i.effect.type,this.id,l);t&&(this.effect=t,d.load(i.effect))}if(i.shape?.type){const t=tv(i.shape.type,this.id,l);t&&(this.shape=t,f.load(i.shape))}}if(this.effect===Wy){const t=[...this.container.effectDrawers.keys()];this.effect=t[Math.floor(Math.random()*t.length)]}if(this.shape===Wy){const t=[...this.container.shapeDrawers.keys()];this.shape=t[Math.floor(Math.random()*t.length)]}this.effectData=function(t,e,i,n){const s=e.options[t];if(s)return Jm({close:e.close,fill:e.fill},tv(s,i,n))}(this.effect,d,this.id,l),this.shapeData=function(t,e,i,n){const s=e.options[t];if(s)return Jm({close:e.close,fill:e.fill},tv(s,i,n))}(this.shape,f,this.id,l),c.load(i);const p=this.effectData;p&&c.load(p.particles);const g=this.shapeData;g&&c.load(g.particles);const m=new Qv(r,s);m.load(s.actualOptions.interactivity),m.load(c.interactivity),this.interactivity=m,this.effectFill=p?.fill??c.effect.fill,this.effectClose=p?.close??c.effect.close,this.shapeFill=g?.fill??c.shape.fill,this.shapeClose=g?.close??c.shape.close,this.options=c;const v=this.options.move.path;this.pathDelay=Sm(v.delay.value)*am,v.generator&&(this.pathGenerator=this._engine.getPathGenerator(v.generator),this.pathGenerator&&s.addPath(v.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=ev(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();this.moveDecay=1-Sm(this.options.move.decay);const y=s.particles;y.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let _=s.effectDrawers.get(this.effect);_||(_=this._engine.getEffectDrawer(this.effect),_&&s.effectDrawers.set(this.effect,_)),_?.loadEffect&&_.loadEffect(this);let w=s.shapeDrawers.get(this.shape);w||(w=this._engine.getShapeDrawer(this.shape),w&&s.shapeDrawers.set(this.shape,w)),w?.loadShape&&w.loadShape(this);const b=w?.getSidesCount;b&&(this.sides=b(this)),this.spawning=!1,this.shadowColor=dv(this.options.shadow.color);for(const t of y.updaters)t.init(this);for(const t of y.movers)t.init?.(this);_?.particleInit?.(s,this),w?.particleInit?.(s,this);for(const t of s.plugins.values())t.particleCreated?.(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,i=this.position;return i.x>=-t&&i.y>=-t&&i.y<=e.height+t&&i.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset?.(this)}}class Jy{constructor(t,e){this.position=t,this.particle=e}}var Zy;!function(t){t.circle="circle",t.rectangle="rectangle"}(Zy||(Zy={}));class t_{constructor(t,e,i){this.position={x:t,y:e},this.type=i}}class e_ extends t_{constructor(t,e,i){super(t,e,Zy.circle),this.radius=i}contains(t){return Mm(t,this.position)<=this.radius}intersects(t){const e=this.position,i=t.position,n=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y),r=this.radius;if(t instanceof e_||t.type===Zy.circle){return r+t.radius>Math.sqrt(n**2+s**2)}if(t instanceof i_||t.type===Zy.rectangle){const e=t,{width:i,height:o}=e.size;return Math.pow(n-i,2)+Math.pow(s-o,2)<=r**2||n<=r+i&&s<=r+o||n<=i||s<=o}return!1}}class i_ extends t_{constructor(t,e,i,n){super(t,e,Zy.rectangle),this.size={height:n,width:i}}contains(t){const e=this.size.width,i=this.size.height,n=this.position;return t.x>=n.x&&t.x<=n.x+e&&t.y>=n.y&&t.y<=n.y+i}intersects(t){if(t instanceof e_)return t.intersects(this);const e=this.size.width,i=this.size.height,n=this.position,s=t.position,r=t instanceof i_?t.size:{width:0,height:0},o=r.width,a=r.height;return s.x<n.x+e&&s.x+o>n.x&&s.y<n.y+i&&s.y+a>n.y}}const n_=.5;class s_{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:t,y:e}=this.rectangle.position,{width:i,height:n}=this.rectangle.size,{capacity:s}=this;for(let r=0;r<4;r++){const o=r%2;this._subs.push(new s_(new i_(t+i*n_*o,e+n*n_*(Math.round(r*n_)-o),i*n_,n*n_),s))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return!!this.rectangle.contains(t.position)&&(this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some((e=>e.insert(t)))))}query(t,e){const i=[];if(!t.intersects(this.rectangle))return[];for(const n of this._points)!t.contains(n.position)&&Mm(t.position,n.position)>n.particle.getRadius()&&(!e||e(n.particle))||i.push(n.particle);if(this._divided)for(const n of this._subs)i.push(...n.query(t,e));return i}queryCircle(t,e,i){return this.query(new e_(t.x,t.y,e),i)}queryRectangle(t,e,i){return this.query(new i_(t.x,t.y,e.width,e.height),i)}}const r_=t=>{const{height:e,width:i}=t;return new i_(-.25*i,-.25*e,1.5*i,1.5*e)};class o_{constructor(t,e){this._addToPool=(...t)=>{this._pool.push(...t)},this._applyDensity=(t,e,i)=>{const n=t.number;if(!t.number.density?.enable)return void(void 0===i?this._limit=n.limit.value:n.limit&&this._groupLimits.set(i,n.limit.value));const s=this._initDensityFactor(n.density),r=n.value,o=n.limit.value>0?n.limit.value:r,a=Math.min(r,o)*s+e,c=Math.min(this.count,this.filter((t=>t.group===i)).length);void 0===i?this._limit=n.limit.value*s:this._groupLimits.set(i,n.limit.value*s),c<a?this.push(Math.abs(a-c),void 0,t,i):c>a&&this.removeQuantity(c-a,i)},this._initDensityFactor=t=>{const e=this._container;if(!e.canvas.element||!t.enable)return 1;const i=e.canvas.element,n=e.retina.pixelRatio;return i.width*i.height/(t.height*t.width*n**2)},this._pushParticle=(t,e,i,n)=>{try{let s=this._pool.pop();s||(s=new Yy(this._engine,this._container)),s.init(this._nextId,t,e,i);let r=!0;if(n&&(r=n(s)),!r)return;return this._array.push(s),this._zArray.push(s),this._nextId++,this._engine.dispatchEvent(Nv.particleAdded,{container:this._container,data:{particle:s}}),s}catch(t){qm().warning(`${sm} adding particle: ${t}`)}},this._removeParticle=(t,e,i)=>{const n=this._array[t];if(!n||n.group!==e)return!1;const s=this._zArray.indexOf(n);return this._array.splice(t,1),this._zArray.splice(s,1),n.destroy(i),this._engine.dispatchEvent(Nv.particleRemoved,{container:this._container,data:{particle:n}}),this._addToPool(n),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Xy(t,e),this._pluginsInitialized=!1;const i=e.canvas.size;this.quadTree=new s_(r_(i),4),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const t=this._container;t.actualOptions.manualParticles.forEach((e=>this.addParticle(e.position?nv(e.position,t.canvas.size):void 0,e.options)))}addParticle(t,e,i,n){const s=this._container.actualOptions.particles.number.limit.mode,r=void 0===i?this._limit:this._groupLimits.get(i)??this._limit,o=this.count;if(r>0)switch(s){case iy.delete:{const t=o+1-r;t>0&&this.removeQuantity(t);break}case iy.wait:if(o>=r)return}return this._pushParticle(t,e,i,n)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(t){const e=this._container,i=e.canvas;i.clear(),this.update(t);for(const n of e.plugins.values())i.drawPlugin(n,t);for(const e of this._zArray)e.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}get(t){return this._array[t]}handleClickMode(t){this._interactionManager.handleClickMode(t)}async init(){const t=this._container,e=t.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const e of t.plugins.values())if(i=e.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const t=e.particles,i=t.groups;for(const e in i){const n=i[e];for(let i=this.count,s=0;s<n.number?.value&&i<t.number.value;i++,s++)this.addParticle(void 0,n,e)}for(let e=this.count;e<t.number.value;e++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const t=this._container;this.movers=await this._engine.getMovers(t,!0),this.updaters=await this._engine.getUpdaters(t,!0),await this._interactionManager.init();for(const e of t.pathGenerators.values())e.init(t)}push(t,e,i,n){for(let s=0;s<t;s++)this.addParticle(e?.position,i,n)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(t,e,i){this.removeAt(this._array.indexOf(t),void 0,e,i)}removeAt(t,e=1,i,n){if(t<0||t>this.count)return;let s=0;for(let r=t;s<e&&r<this.count;r++)this._removeParticle(r,i,n)&&(r--,s++)}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const t in e)this._applyDensity(e[t],0,t);this._applyDensity(t.particles,t.manualParticles.length)}setLastZIndex(t){this._lastZIndex=t,this._needsSort=this._needsSort||this._lastZIndex<t}setResizeFactor(t){this._resizeFactor=t}update(t){const e=this._container,i=new Set;this.quadTree=new s_(r_(e.canvas.size),4);for(const t of e.pathGenerators.values())t.update();for(const i of e.plugins.values())i.update?.(t);const n=this._resizeFactor;for(const e of this._array){n&&!e.ignoresResizeRatio&&(e.position.x*=n.width,e.position.y*=n.height,e.initialPosition.x*=n.width,e.initialPosition.y*=n.height),e.ignoresResizeRatio=!1,this._interactionManager.reset(e);for(const i of this._container.plugins.values()){if(e.destroyed)break;i.particleUpdate?.(e,t)}for(const i of this.movers)i.isEnabled(e)&&i.move(e,t);e.destroyed?i.add(e):this.quadTree.insert(new Jy(e.getPosition(),e))}if(i.size){const t=t=>!i.has(t);this._array=this.filter(t),this._zArray=this._zArray.filter(t);for(const t of i)this._engine.dispatchEvent(Nv.particleRemoved,{container:this._container,data:{particle:t}});this._addToPool(...i)}this._interactionManager.externalInteract(t);for(const e of this._array){for(const i of this.updaters)i.update(e,t);e.destroyed||e.spawning||this._interactionManager.particlesInteract(e,t)}if(delete this._resizeFactor,this._needsSort){const t=this._zArray;t.sort(((t,e)=>e.position.z-t.position.z||t.id-e.id));const e=1;this._lastZIndex=t[t.length-e].position.z,this._needsSort=!1}}}class a_{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||$m()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio,n=t.canvas;if(n.element){const t=n.element;n.size.width=t.offsetWidth*i,n.size.height=t.offsetHeight*i}const s=e.particles,r=s.move;this.maxSpeed=Sm(r.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Sm(s.size.animation.speed)*i}initParticle(t){const e=t.options,i=this.pixelRatio,n=e.move,s=n.distance,r=t.retina;r.moveDrift=Sm(n.drift)*i,r.moveSpeed=Sm(n.speed)*i,r.sizeAnimationSpeed=Sm(e.size.animation.speed)*i;const o=r.maxDistance;o.horizontal=void 0!==s.horizontal?s.horizontal*i:void 0,o.vertical=void 0!==s.vertical?s.vertical*i:void 0,r.maxSpeed=Sm(n.gravity.maxSpeed)*i}}function c_(t){return t&&!t.destroyed}function l_(t,e,...i){const n=new Gy(t,e);return $y(n,...i),n}class h_{constructor(t,e,i){this._intersectionManager=t=>{if(c_(this)&&this.actualOptions.pauseOnOutsideViewport)for(const e of t)e.target===this.interactivity.element&&(e.isIntersecting?this.play():this.pause())},this._nextFrame=t=>{try{if(!this._smooth&&void 0!==this._lastFrameTime&&t<this._lastFrameTime+am/this.fpsLimit)return void this.draw(!1);this._lastFrameTime??=t;const e=function(t,e=60,i=!1){return{value:t,factor:i?60/e:60*t/am}}(t-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(e.value),this._lastFrameTime=t,e.value>am)return void this.draw(!1);if(this.particles.draw(e),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(t){qm().error(`${sm} in animation loop`,t)}},this._engine=t,this.id=Symbol(e),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new a_(this),this.canvas=new Ov(this),this.particles=new o_(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=l_(this._engine,this),this.actualOptions=l_(this._engine,this),this._eventListeners=new Lv(this),this._intersectionObserver=function(t){if(!$m()&&"undefined"!=typeof IntersectionObserver)return new IntersectionObserver(t)}((t=>this._intersectionManager(t))),this._engine.dispatchEvent(Nv.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&c_(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!c_(this))return;const e=this.interactivity.element;if(!e)return;const i=(e,i,n)=>{if(!c_(this))return;const s=this.retina.pixelRatio,r={x:i.x*s,y:i.y*s},o=this.particles.quadTree.queryCircle(r,n*s);t(e,o)};let n=!1,s=!1;this._clickHandlers.set("click",(t=>{if(!c_(this))return;const e=t,n={x:e.offsetX||e.clientX,y:e.offsetY||e.clientY};i(t,n,1)})),this._clickHandlers.set("touchstart",(()=>{c_(this)&&(n=!0,s=!1)})),this._clickHandlers.set("touchmove",(()=>{c_(this)&&(s=!0)})),this._clickHandlers.set("touchend",(t=>{if(c_(this)){if(n&&!s){const e=t,n=1;let s=e.touches[e.touches.length-n];if(!s&&(s=e.changedTouches[e.changedTouches.length-n],!s))return;const r=this.canvas.element,o=r?r.getBoundingClientRect():void 0,a=0,c={x:s.clientX-(o?o.left:a),y:s.clientY-(o?o.top:a)};i(t,c,Math.max(s.radiusX,s.radiusY))}n=!1,s=!1}})),this._clickHandlers.set("touchcancel",(()=>{c_(this)&&(n=!1,s=!1)}));for(const[t,i]of this._clickHandlers)e.addEventListener(t,i)}addLifeTime(t){this._lifeTime+=t}addPath(t,e,i=!1){return!(!c_(this)||!i&&this.pathGenerators.has(t))&&(this.pathGenerators.set(t,e),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(c_(this)){for(const[t,e]of this._clickHandlers)this.interactivity.element?.removeEventListener(t,e);this._clickHandlers.clear()}}destroy(t=!0){if(c_(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,t){const t=this._engine.items,e=t.findIndex((t=>t===this));if(e>=0){const i=1;t.splice(e,i)}}this._engine.dispatchEvent(Nv.containerDestroyed,{container:this})}}draw(t){if(!c_(this))return;let e=t;const i=t=>{e&&(this._lastFrameTime=void 0,e=!1),this._nextFrame(t)};var n;this._drawAnimationFrame=(n=t=>i(t),bm.nextFrame(n))}async export(t,e={}){for(const i of this.plugins.values()){if(!i.export)continue;const n=await i.export(t,e);if(n.supported)return n.blob}qm().error(`${sm} - Export plugin with type ${t} not found`)}handleClickMode(t){if(c_(this)){this.particles.handleClickMode(t);for(const e of this.plugins.values())e.handleClickMode?.(t)}}async init(){if(!c_(this))return;const t=this._engine.getSupportedEffects();for(const e of t){const t=this._engine.getEffectDrawer(e);t&&this.effectDrawers.set(e,t)}const e=this._engine.getSupportedShapes();for(const t of e){const e=this._engine.getShapeDrawer(t);e&&this.shapeDrawers.set(t,e)}await this.particles.initPlugins(),this._options=l_(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=l_(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[t,e]of i)this.plugins.set(t,e);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:n,duration:s,delay:r,fpsLimit:o,smooth:a}=this.actualOptions;this.zLayers=n,this._duration=Sm(s)*am,this._delay=Sm(r)*am,this._lifeTime=0;this.fpsLimit=o>0?o:120,this._smooth=a;for(const t of this.effectDrawers.values())await(t.init?.(this));for(const t of this.shapeDrawers.values())await(t.init?.(this));for(const t of this.plugins.values())await(t.init?.());this._engine.dispatchEvent(Nv.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const t of this.plugins.values())t.particlesSetup?.();this._engine.dispatchEvent(Nv.particlesSetup,{container:this})}async loadTheme(t){c_(this)&&(this._currentTheme=t,await this.refresh())}pause(){var t;if(c_(this)&&(void 0!==this._drawAnimationFrame&&(t=this._drawAnimationFrame,bm.cancel(t),delete this._drawAnimationFrame),!this._paused)){for(const t of this.plugins.values())t.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Nv.containerPaused,{container:this})}}play(t){if(!c_(this))return;const e=this._paused||t;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),e)for(const t of this.plugins.values())t.play&&t.play();this._engine.dispatchEvent(Nv.containerPlay,{container:this}),this.draw(e??!1)}else this._firstStart=!1}async refresh(){if(c_(this))return this.stop(),this.start()}async reset(t){if(c_(this))return this._initialSourceOptions=t,this._sourceOptions=t,this._options=l_(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=l_(this._engine,this,this._options),this.refresh()}async start(){c_(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((t=>{const e=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const t of this.plugins.values())await(t.start?.());this._engine.dispatchEvent(Nv.containerStarted,{container:this}),this.play(),t()};this._delayTimeout=setTimeout((()=>{e()}),this._delay)})))}stop(){if(c_(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values())t.stop?.();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(Nv.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==t&&(this._responsiveMaxWidth=t,!0)}}class u_{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let i=this._listeners.get(t);i||(i=[],this._listeners.set(t,i)),i.push(e)}dispatchEvent(t,e){const i=this._listeners.get(t);i?.forEach((t=>t(e)))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const i=this._listeners.get(t);if(!i)return;const n=i.length,s=i.indexOf(e);if(s<0)return;1===n?this._listeners.delete(t):i.splice(s,1)}}async function d_(t,e,i,n=!1){let s=e.get(t);return s&&!n||(s=await Promise.all([...i.values()].map((e=>e(t)))),e.set(t,s)),s}const f_="true",p_="false",g_="canvas";class m_{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new u_,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const t={};for(const[e,i]of this._configs)t[e]=i;return t}get items(){return this._domArray}get version(){return"3.6.0"}addConfig(t){const e=t.key??t.name??"default";this._configs.set(e,t),this._eventDispatcher.dispatchEvent(Nv.configAdded,{data:{name:e,config:t}})}async addEffect(t,e,i=!0){Zm(t,(t=>{this.getEffectDrawer(t)||this.effectDrawers.set(t,e)})),await this.refresh(i)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e,i=!0){this._initializers.interactors.set(t,e),await this.refresh(i)}async addMover(t,e,i=!0){this._initializers.movers.set(t,e),await this.refresh(i)}async addParticleUpdater(t,e,i=!0){this._initializers.updaters.set(t,e),await this.refresh(i)}async addPathGenerator(t,e,i=!0){this.getPathGenerator(t)||this.pathGenerators.set(t,e),await this.refresh(i)}async addPlugin(t,e=!0){this.getPlugin(t.id)||this.plugins.push(t),await this.refresh(e)}async addPreset(t,e,i=!1,n=!0){!i&&this.getPreset(t)||this.presets.set(t,e),await this.refresh(n)}async addShape(t,e=!0){for(const e of t.validTypes)this.getShapeDrawer(e)||this.shapeDrawers.set(e,t);await this.refresh(e)}clearPlugins(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this.items}domItem(t){return this.item(t)}async getAvailablePlugins(t){const e=new Map;for(const i of this.plugins)i.needsPlugin(t.actualOptions)&&e.set(i.id,await i.getPlugin(t));return e}getEffectDrawer(t){return this.effectDrawers.get(t)}async getInteractors(t,e=!1){return d_(t,this.interactors,this._initializers.interactors,e)}async getMovers(t,e=!1){return d_(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find((e=>e.id===t))}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.shapeDrawers.get(t)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(t,e=!1){return d_(t,this.updaters,this._initializers.updaters,e)}init(){this._initialized||(this._initialized=!0)}item(t){const{items:e}=this,i=e[t];if(i&&!i.destroyed)return i;{const i=1;e.splice(t,i)}}async load(t){const e=t.id??t.element?.id??`tsparticles${Math.floor(1e4*Tm())}`,{index:i,url:n}=t,s=n?await async function(t){const e=tv(t.url,t.index);if(!e)return t.fallback;const i=await fetch(e);return i.ok?await i.json():(qm().error(`${sm} ${i.status} while retrieving config file`),t.fallback)}({fallback:t.options,url:n,index:i}):t.options,r=tv(s,i),{items:o}=this,a=o.findIndex((t=>t.id.description===e)),c=new h_(this,e,r);if(a>=0){const t=this.item(a),e=t?1:0;t&&!t.destroyed&&t.destroy(!1),o.splice(a,e,c)}else o.push(c);const l=((t,e)=>{let i=e??document.getElementById(t);return i||(i=document.createElement("div"),i.id=t,i.dataset[tm]=f_,document.body.append(i),i)})(e,t.element),h=(t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===g_)e=t,e.dataset[tm]||(e.dataset[tm]=p_);else{const i=t.getElementsByTagName(g_);i.length?(e=i[0],e.dataset[tm]=p_):(e=document.createElement(g_),e.dataset[tm]=f_,t.appendChild(e))}const i="100%";return e.style.width||(e.style.width=i),e.style.height||(e.style.height=i),e})(l);return c.canvas.loadCanvas(h),await c.start(),c}loadOptions(t,e){this.plugins.forEach((i=>i.loadOptions?.(t,e)))}loadParticlesOptions(t,e,...i){const n=this.updaters.get(t);n&&n.forEach((t=>t.loadOptions?.(e,...i)))}async refresh(t=!0){t&&await Promise.all(this.items.map((t=>t.refresh())))}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}setOnClickHandler(t){const{items:e}=this;if(!e.length)throw new Error(`${sm} can only set click handlers after calling tsParticles.load()`);e.forEach((e=>e.addClickHandler(t)))}}var v_,y_,__,w_,b_;!function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"}(v_||(v_={}));class x_{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.s&&void 0!==e.l)return mv(e)}handleRangeColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.l)return mv({h:Sm(e.h),l:Sm(e.l),s:Sm(e.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(t);return e?function(t){const e=mv(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}({a:e.length>4?Lm(e[v_.a]):1,h:parseInt(e[v_.h],10),l:parseInt(e[v_.l],10),s:parseInt(e[v_.s],10)}):void 0}}!function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"}(y_||(y_={}));class T_{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return e}handleRangeColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return{r:Sm(e.r),g:Sm(e.g),b:Sm(e.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(t);return e?{a:e.length>4?Lm(e[y_.a]):1,b:parseInt(e[y_.b],10),g:parseInt(e[y_.g],10),r:parseInt(e[y_.r],10)}:void 0}}!function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"}(__||(__={})),function(t){t.linear="linear",t.radial="radial",t.random="random"}(w_||(w_={})),function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"}(b_||(b_={}));const E_=function(){const t=new T_,e=new x_;hv(t),hv(e);const i=new m_;return i.init(),i}();$m()||(window.tsParticles=E_);class C_{constructor(){this.wait=!1}load(t){pm(t)||(void 0!==t.count&&(this.count=t.count),void 0!==t.delay&&(this.delay=Dm(t.delay)),void 0!==t.duration&&(this.duration=Dm(t.duration)),void 0!==t.wait&&(this.wait=t.wait))}}class S_{constructor(){this.quantity=1,this.delay=.1}load(t){pm(t)||(void 0!==t.quantity&&(this.quantity=Dm(t.quantity)),void 0!==t.delay&&(this.delay=Dm(t.delay)))}}class k_{constructor(){this.color=!1,this.opacity=!1}load(t){pm(t)||(void 0!==t.color&&(this.color=t.color),void 0!==t.opacity&&(this.opacity=t.opacity))}}class I_{constructor(){this.options={},this.replace=new k_,this.type="square"}load(t){pm(t)||(void 0!==t.options&&(this.options=Jm({},t.options??{})),this.replace.load(t.replace),void 0!==t.type&&(this.type=t.type))}}class D_{constructor(){this.mode=Bm.percent,this.height=0,this.width=0}load(t){pm(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.height&&(this.height=t.height),void 0!==t.width&&(this.width=t.width))}}class A_{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new C_,this.rate=new S_,this.shape=new I_,this.startCount=0}load(t){pm(t)||(void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.size&&(this.size||(this.size=new D_),this.size.load(t.size)),void 0!==t.direction&&(this.direction=t.direction),this.domId=t.domId,void 0!==t.fill&&(this.fill=t.fill),this.life.load(t.life),this.name=t.name,this.particles=Zm(t.particles,(t=>Jm({},t))),this.rate.load(t.rate),this.shape.load(t.shape),void 0!==t.position&&(this.position={},void 0!==t.position.x&&(this.position.x=Dm(t.position.x)),void 0!==t.position.y&&(this.position.y=Dm(t.position.y))),void 0!==t.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new dy),this.spawnColor.load(t.spawnColor)),void 0!==t.startCount&&(this.startCount=t.startCount))}}var M_;!function(t){t.emitter="emitter"}(M_||(M_={}));function O_(t,e){t.color?t.color.value=e:t.color={value:e}}class P_{constructor(t,e,i,n,s){this.emitters=e,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const t=void 0!==this.options.life?.duration?Sm(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&void 0!==t&&t>0&&(this._duration=t*am)},this._setColorAnimation=(t,e,i,n=1)=>{const s=this.container;if(!t.enable)return e;const r=Cm(t.offset),o=Sm(this.options.rate.delay)*am/s.retina.reduceFactor;return(e+Sm(t.speed??0)*s.fpsLimit/o+r*n)%i},this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,n instanceof A_?this.options=n:(this.options=new A_,this.options.load(n)),this._spawnDelay=Sm(this.options.life.delay??0)*am/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let r=Jm({},this.options.particles);if(r??={},r.move??={},r.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=pv(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=r,this._size=this._calcSize(),this.size=sv(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this.options.domId){const t=document.getElementById(this.options.domId);t&&(this._mutationObserver=new MutationObserver((()=>{this.resize()})),this._resizeObserver=new ResizeObserver((()=>{this.resize()})),this._mutationObserver.observe(t,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(t))}const o=this.options.shape,a=this._engine.emitterShapeManager?.getShapeGenerator(o.type);a&&(this._shape=a.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await(this._shape?.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0))){if(void 0===this._emitDelay){const t=Sm(this.options.rate.delay);this._emitDelay=t*am/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}resize(){const t=this._initialPosition;this.position=t&&Qm(t,this.container.canvas.size,_m.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=sv(this._size,this.container.canvas.size),this._shape?.resize(this.position,this.size)}update(t){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=t.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=Sm(this.options.life.delay??0)*am/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=t.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=t.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const e=t.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(e.x+.5*e.width)*i,y:(e.y+.5*e.height)*i}}}return Pm({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const t=this.container;if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const i=e.getBoundingClientRect();return{width:i.width*t.retina.pixelRatio,height:i.height*t.retina.pixelRatio,mode:Bm.precise}}}return this.options.size??(()=>{const t=new D_;return t.load({height:0,mode:Bm.percent,width:0}),t})()}_emit(){if(this._paused)return;const t=Sm(this.options.rate.quantity);this._emitParticles(t)}_emitParticles(t){const e=tv(this._particlesOptions);for(let i=0;i<t;i++){const t=Jm({},e);if(this.spawnColor){const e=this.options.spawnColor?.animation;if(e){const t={h:360,s:100,l:100},i=3.6;this.spawnColor.h=this._setColorAnimation(e.h,this.spawnColor.h,t.h,i),this.spawnColor.s=this._setColorAnimation(e.s,this.spawnColor.s,t.s),this.spawnColor.l=this._setColorAnimation(e.l,this.spawnColor.l,t.l)}O_(t,this.spawnColor)}const i=this.options.shape;let n=this.position;if(this._shape){const e=this._shape.randomPosition();if(e){n=e.position;const s=i.replace;s.color&&e.color&&O_(t,e.color),s.opacity&&(t.opacity?t.opacity.value=e.opacity:t.opacity={value:e.opacity})}else n=null}n&&this.container.particles.addParticle(n,t)}}}class R_{constructor(t,e){this.container=e,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};e.getEmitter=t=>void 0===t||um(t)?this.array[t??0]:this.array.find((e=>e.name===t)),e.addEmitter=async(t,e)=>this.addEmitter(t,e),e.removeEmitter=t=>{const i=e.getEmitter(t);i&&this.removeEmitter(i)},e.playEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPlay()},e.pauseEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPause()}}async addEmitter(t,e){const i=new A_;i.load(t);const n=new P_(this._engine,this,this.container,i,e);return await n.init(),this.array.push(n),n}handleClickMode(t){const e=this.emitters,i=this.interactivityEmitters;if(t!==M_.emitter)return;let n;if(i&&fm(i.value)){const t=0;if(i.value.length>t&&i.random.enable){n=[];const t=[];for(let e=0;e<i.random.count;e++){const s=Km(i.value);t.includes(s)&&t.length<i.value.length?e--:(t.push(s),n.push(Wm(i.value,s)))}}else n=i.value}else n=i?.value;const s=n??e,r=this.container.interactivity.mouse.clickPosition;Zm(s,(async t=>{await this.addEmitter(t,r)}))}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters)if(fm(this.emitters))for(const t of this.emitters)await this.addEmitter(t);else await this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const e=this.array.indexOf(t);e>=0&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const e of this.array)e.update(t)}}class L_{constructor(t){this._engine=t,this.id="emitters"}getPlugin(t){return Promise.resolve(new R_(this._engine,t))}loadOptions(t,e){if(!this.needsPlugin(t)&&!this.needsPlugin(e))return;e?.emitters&&(t.emitters=Zm(e.emitters,(t=>{const e=new A_;return e.load(t),e})));const i=e?.interactivity?.modes?.emitters;if(i)if(fm(i))t.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map((t=>{const e=new A_;return e.load(t),e}))};else{const e=i;if(void 0!==e.value){const i=1;if(fm(e.value))t.interactivity.modes.emitters={random:{count:e.random.count??i,enable:e.random.enable??!1},value:e.value.map((t=>{const e=new A_;return e.load(t),e}))};else{const n=new A_;n.load(e.value),t.interactivity.modes.emitters={random:{count:e.random.count??i,enable:e.random.enable??!1},value:n}}}else{(t.interactivity.modes.emitters={random:{count:1,enable:!1},value:new A_}).value.load(i)}}}needsPlugin(t){if(!t)return!1;const e=t.emitters;return fm(e)&&!!e.length||void 0!==e||!!t.interactivity?.events?.onClick?.mode&&Gm(M_.emitter,t.interactivity.events.onClick.mode)}}const N_=new Map;class z_{constructor(t){this._engine=t}addShapeGenerator(t,e){this.getShapeGenerator(t)||N_.set(t,e)}getShapeGenerator(t){return N_.get(t)}getSupportedShapeGenerators(){return N_.keys()}}class F_{constructor(){this.angle=90,this.count=50,this.spread=45,this.startVelocity=45,this.decay=.9,this.gravity=1,this.drift=0,this.ticks=200,this.position={x:50,y:50},this.colors=["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],this.shapes=["square","circle"],this.scalar=1,this.zIndex=100,this.disableForReducedMotion=!0,this.flat=!1,this.shapeOptions={}}get origin(){return{x:this.position.x/rm,y:this.position.y/rm}}set origin(t){this.position.x=t.x*rm,this.position.y=t.y*rm}get particleCount(){return this.count}set particleCount(t){this.count=t}load(t){if(pm(t))return;void 0!==t.angle&&(this.angle=t.angle);const e=t.count??t.particleCount;void 0!==e&&(this.count=e),void 0!==t.spread&&(this.spread=t.spread),void 0!==t.startVelocity&&(this.startVelocity=t.startVelocity),void 0!==t.decay&&(this.decay=t.decay),void 0!==t.flat&&(this.flat=t.flat),void 0!==t.gravity&&(this.gravity=t.gravity),void 0!==t.drift&&(this.drift=t.drift),void 0!==t.ticks&&(this.ticks=t.ticks);const i=t.origin;i&&!t.position&&(t.position={x:void 0!==i.x?i.x*rm:void 0,y:void 0!==i.y?i.y*rm:void 0});const n=t.position;n&&(void 0!==n.x&&(this.position.x=n.x),void 0!==n.y&&(this.position.y=n.y)),void 0!==t.colors&&(fm(t.colors)?this.colors=[...t.colors]:this.colors=t.colors);const s=t.shapeOptions;if(void 0!==s)for(const t in s){const e=s[t];e&&(this.shapeOptions[t]=Jm(this.shapeOptions[t]??{},e))}void 0!==t.shapes&&(fm(t.shapes)?this.shapes=[...t.shapes]:this.shapes=t.shapes),void 0!==t.scalar&&(this.scalar=t.scalar),void 0!==t.zIndex&&(this.zIndex=t.zIndex),void 0!==t.disableForReducedMotion&&(this.disableForReducedMotion=t.disableForReducedMotion)}}function V_(t,e,i,n,s,r){!function(t,e){const i=t.options,n=i.move.path;if(!n.enable)return;if(t.lastPathTime<=t.pathDelay)return void(t.lastPathTime+=e.value);const s=t.pathGenerator?.generate(t,e);s&&t.velocity.addTo(s);n.clamp&&(t.velocity.x=Em(t.velocity.x,-1,1),t.velocity.y=Em(t.velocity.y,-1,1));t.lastPathTime-=t.pathDelay}(t,r);const o=t.gravity,a=o?.enable&&o.inverse?-1:1;s&&i&&(t.velocity.x+=s*r.factor/(60*i)),o?.enable&&i&&(t.velocity.y+=a*(o.acceleration*r.factor)/(60*i));const c=t.moveDecay;t.velocity.multTo(c);const l=t.velocity.mult(i);o?.enable&&n>0&&(!o.inverse&&l.y>=0&&l.y>=n||o.inverse&&l.y<=0&&l.y<=-n)&&(l.y=a*n,i&&(t.velocity.y=l.y/i));const h=t.options.zIndex,u=(1-t.zIndexFactor)**h.velocityRate;l.multTo(u);const{position:d}=t;d.addTo(l),e.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}class B_{init(t){const e=t.options.move.gravity;t.gravity={enable:e.enable,acceleration:Sm(e.acceleration),inverse:e.inverse},function(t){const e=t.container,i=t.options.move.spin;if(!i.enable)return;const n=i.position??{x:50,y:50},s={x:.01*n.x*e.canvas.size.width,y:.01*n.y*e.canvas.size.height},r=Mm(t.getPosition(),s),o=Sm(i.acceleration);t.retina.spinAcceleration=o*e.retina.pixelRatio,t.spin={center:s,direction:t.velocity.x>=0?__.clockwise:__.counterClockwise,angle:t.velocity.angle,radius:r,acceleration:t.retina.spinAcceleration}}(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){const i=t.options,n=i.move;if(!n.enable)return;const s=t.container,r=s.retina.pixelRatio;t.retina.moveSpeed??=Sm(n.speed)*r,t.retina.moveDrift??=Sm(t.options.move.drift)*r;const o=function(t){return t.slow.inRange?t.slow.factor:1}(t),a=t.retina.moveSpeed*s.retina.reduceFactor,c=t.retina.moveDrift,l=Im(i.size.value)*r,h=a*(n.size?t.getRadius()/l:1)*o*(e.factor||1)/2,u=t.retina.maxSpeed??s.retina.maxSpeed;n.spin.enable?function(t,e){const i=t.container;if(!t.spin)return;const n={x:t.spin.direction===__.clockwise?Math.cos:Math.sin,y:t.spin.direction===__.clockwise?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*n.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*n.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(i.canvas.size.width,i.canvas.size.height),r=.5*s;t.spin.radius>r?(t.spin.radius=r,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=.01*e*(1-t.spin.radius/s)}(t,h):V_(t,n,h,u,c,e),function(t){const e=t.initialPosition,{dx:i,dy:n}=Am(e,t.position),s=Math.abs(i),r=Math.abs(n),{maxDistance:o}=t.retina,a=o.horizontal,c=o.vertical;if(!a&&!c)return;if((a&&s>=a||c&&r>=c)&&!t.misplaced)t.misplaced=!!a&&s>a||!!c&&r>c,a&&(t.velocity.x=.5*t.velocity.y-t.velocity.x),c&&(t.velocity.y=.5*t.velocity.x-t.velocity.y);else if((!a||s<a)&&(!c||r<c)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const i=t.position,n=t.velocity;a&&(i.x<e.x&&n.x<0||i.x>e.x&&n.x>0)&&(n.x*=-Tm()),c&&(i.y<e.y&&n.y<0||i.y>e.y&&n.y>0)&&(n.y*=-Tm())}}(t)}}const U_=2*Math.PI,j_=0,q_=0;class $_{constructor(){this.validTypes=["circle"]}draw(t){!function(t){const{context:e,particle:i,radius:n}=t;i.circleRange||(i.circleRange={min:0,max:U_});const s=i.circleRange;e.arc(j_,q_,n,s.min,s.max,!1)}(t)}getSidesCount(){return 12}particleInit(t,e){const i=e.shapeData,n=i?.angle??{max:360,min:0};e.circleRange=dm(n)?{min:Om(n.min),max:Om(n.max)}:{min:0,max:Om(n)}}}class H_{constructor(t){this.container=t}init(t){const e=pv(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=function(t,e,i){const n={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(bv(n.h,e.h,i),bv(n.s,e.s,i),bv(n.l,e.l,i)),n}(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s:i,l:n}=t.options.color.animation,{color:s}=t;return!t.destroyed&&!t.spawning&&(void 0!==s?.h.value&&e.enable||void 0!==s?.s.value&&i.enable||void 0!==s?.l.value&&n.enable)}update(t,e){!function(t,e){if(!t)return;const{h:i,s:n,l:s}=t,r={min:0,max:100},o={min:0,max:100};i&&xv(i,{min:0,max:360},!1,e),n&&xv(n,r,!0,e),s&&xv(s,o,!0,e)}(t.color,e)}}class G_{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=ev(e,1);const i=e.animation;i.enable&&(t.opacity.velocity=Sm(i.speed)/rm*this.container.retina.reduceFactor,i.sync||(t.opacity.velocity*=Tm()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&t.opacity&&rv(t,t.opacity,!0,t.options.opacity.animation.destroy,e)}}class X_{constructor(t){this.container=t,this.modes=[ey.bounce,ey.split]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;let r=!1;for(const n of s.plugins.values())if(void 0!==n.particleBounce&&(r=n.particleBounce(t,i,e)),r)break;if(r)return;const o=t.getPosition(),a=t.offset,c=t.getRadius(),l=Ym(o,c),h=s.canvas.size;!function(t){if(t.outMode!==ey.bounce&&t.outMode!==ey.split||t.direction!==Vm.left&&t.direction!==Vm.right)return;t.bounds.right<0&&t.direction===Vm.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Vm.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let i=!1;if(t.direction===Vm.right&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction===Vm.left&&t.bounds.left<=0&&e<0){const e=Sm(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-e,i=!0}if(!i)return;const n=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Vm.right?t.particle.position.x=t.canvasSize.width-n:t.bounds.left<=0&&t.direction===Vm.left&&(t.particle.position.x=n),t.outMode===ey.split&&t.particle.destroy()}({particle:t,outMode:n,direction:e,bounds:l,canvasSize:h,offset:a,size:c}),function(t){if(t.outMode!==ey.bounce&&t.outMode!==ey.split||t.direction!==Vm.bottom&&t.direction!==Vm.top)return;t.bounds.bottom<0&&t.direction===Vm.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Vm.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let i=!1;if(t.direction===Vm.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction===Vm.top&&t.bounds.top<=0&&e<0){const e=Sm(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-e,i=!0}if(!i)return;const n=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Vm.bottom?t.particle.position.y=t.canvasSize.height-n:t.bounds.top<=0&&t.direction===Vm.top&&(t.particle.position.y=n),t.outMode===ey.split&&t.particle.destroy()}({particle:t,outMode:n,direction:e,bounds:l,canvasSize:h,offset:a,size:c})}}class K_{constructor(t){this.container=t,this.modes=[ey.destroy]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;switch(t.outType){case sy.normal:case sy.outside:if(Qm(t.position,s.canvas.size,_m.origin,t.getRadius(),e))return;break;case sy.inside:{const{dx:e,dy:i}=Am(t.position,t.moveCenter),{x:n,y:s}=t.velocity;if(n<0&&e>t.moveCenter.radius||s<0&&i>t.moveCenter.radius||n>=0&&e<-t.moveCenter.radius||s>=0&&i<-t.moveCenter.radius)return;break}}s.particles.remove(t,t.group,!0)}}class W_{constructor(t){this.container=t,this.modes=[ey.none]}update(t,e,i,n){if(!this.modes.includes(n))return;if((t.options.move.distance.horizontal&&(e===Vm.left||e===Vm.right))??(t.options.move.distance.vertical&&(e===Vm.top||e===Vm.bottom)))return;const s=t.options.move.gravity,r=this.container,o=r.canvas.size,a=t.getRadius();if(s.enable){const i=t.position;(!s.inverse&&i.y>o.height+a&&e===Vm.bottom||s.inverse&&i.y<-a&&e===Vm.top)&&r.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=o.height+a||t.velocity.y<0&&t.position.y>=-a||t.velocity.x>0&&t.position.x<=o.width+a||t.velocity.x<0&&t.position.x>=-a)return;Qm(t.position,r.canvas.size,_m.origin,a,e)||r.particles.remove(t)}}}class Q_{constructor(t){this.container=t,this.modes=[ey.out]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;switch(t.outType){case sy.inside:{const{x:e,y:i}=t.velocity,n=_m.origin;n.length=t.moveCenter.radius,n.angle=t.velocity.angle+Math.PI,n.addTo(_m.create(t.moveCenter));const{dx:r,dy:o}=Am(t.position,n);if(e<=0&&r>=0||i<=0&&o>=0||e>=0&&r<=0||i>=0&&o<=0)return;t.position.x=Math.floor(Cm({min:0,max:s.canvas.size.width})),t.position.y=Math.floor(Cm({min:0,max:s.canvas.size.height}));const{dx:a,dy:c}=Am(t.position,t.moveCenter);t.direction=Math.atan2(-c,-a),t.velocity.angle=t.direction;break}default:if(Qm(t.position,s.canvas.size,_m.origin,t.getRadius(),e))return;switch(t.outType){case sy.outside:{t.position.x=Math.floor(Cm({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(Cm({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:e,dy:i}=Am(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(i,e),t.velocity.angle=t.direction);break}case sy.normal:{const i=t.options.move.warp,n=s.canvas.size,r={bottom:n.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:n.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},o=t.getRadius(),a=Ym(t.position,o);e===Vm.right&&a.left>n.width+t.offset.x?(t.position.x=r.left,t.initialPosition.x=t.position.x,i||(t.position.y=Tm()*n.height,t.initialPosition.y=t.position.y)):e===Vm.left&&a.right<-t.offset.x&&(t.position.x=r.right,t.initialPosition.x=t.position.x,i||(t.position.y=Tm()*n.height,t.initialPosition.y=t.position.y)),e===Vm.bottom&&a.top>n.height+t.offset.y?(i||(t.position.x=Tm()*n.width,t.initialPosition.x=t.position.x),t.position.y=r.top,t.initialPosition.y=t.position.y):e===Vm.top&&a.bottom<-t.offset.y&&(i||(t.position.x=Tm()*n.width,t.initialPosition.x=t.position.x),t.position.y=r.bottom,t.initialPosition.y=t.position.y);break}}}}}class Y_{constructor(t){this._addUpdaterIfMissing=(t,e,i)=>{const n=t.options.move.outModes;!this.updaters.has(e)&&((t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e)(n,e)&&this.updaters.set(e,i(this.container))},this._updateOutMode=(t,e,i,n)=>{for(const s of this.updaters.values())s.update(t,n,e,i)},this.container=t,this.updaters=new Map}init(t){this._addUpdaterIfMissing(t,ey.bounce,(t=>new X_(t))),this._addUpdaterIfMissing(t,ey.out,(t=>new Q_(t))),this._addUpdaterIfMissing(t,ey.destroy,(t=>new K_(t))),this._addUpdaterIfMissing(t,ey.none,(t=>new W_(t)))}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const i=t.options.move.outModes;this._updateOutMode(t,e,i.bottom??i.default,Vm.bottom),this._updateOutMode(t,e,i.left??i.default,Vm.left),this._updateOutMode(t,e,i.right??i.default,Vm.right),this._updateOutMode(t,e,i.top??i.default,Vm.top)}}class J_{init(t){const e=t.container,i=t.options.size.animation;i.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/rm*e.retina.reduceFactor,i.sync||(t.size.velocity*=Tm()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&rv(t,t.size,!0,t.options.size.animation.destroy,e)}}async function Z_(t,e=!0){await async function(t,e=!0){await t.addMover("base",(()=>Promise.resolve(new B_)),e)}(t,!1),await async function(t,e=!0){await t.addShape(new $_,e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("color",(t=>Promise.resolve(new H_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("opacity",(t=>Promise.resolve(new G_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("outModes",(t=>Promise.resolve(new Y_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("size",(()=>Promise.resolve(new J_)),e)}(t,!1),await t.refresh(e)}function tw(t,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:i,radius:n}=t;i.moveTo(e.segments[0].values[0].x*n,e.segments[0].values[0].y*n);for(const t of e.segments)i.bezierCurveTo(t.values[1].x*n,t.values[1].y*n,t.values[2].x*n,t.values[2].y*n,t.values[3].x*n,t.values[3].y*n);for(let t=e.segments.length-1;t>=0;t--){const s=e.segments[t];i.bezierCurveTo(-s.values[2].x*n,s.values[2].y*n,-s.values[1].x*n,s.values[1].y*n,-s.values[0].x*n,s.values[0].y*n)}}const ew=.5,iw={heart:{segments:[{values:[{x:0,y:ew},{x:0,y:ew},{x:ew,y:0},{x:ew,y:-ew/2}]},{values:[{x:ew,y:-ew/2},{x:ew,y:-ew/2},{x:ew,y:-ew},{x:ew/2,y:-ew}]},{values:[{x:ew/2,y:-ew},{x:ew/2,y:-ew},{x:0,y:-ew},{x:0,y:-ew/2}]}]},diamond:{segments:[{values:[{x:0,y:ew},{x:0,y:ew},{x:.375,y:0},{x:.375,y:0}]},{values:[{x:.375,y:0},{x:.375,y:0},{x:0,y:-ew},{x:0,y:-ew}]}]},club:{segments:[{values:[{x:0,y:-ew},{x:0,y:-ew},{x:ew/2,y:-ew},{x:ew/2,y:-ew/2}]},{values:[{x:ew/2,y:-ew/2},{x:ew/2,y:-ew/2},{x:ew,y:-ew/2},{x:ew,y:0}]},{values:[{x:ew,y:0},{x:ew,y:0},{x:ew,y:ew/2},{x:ew/2,y:ew/2}]},{values:[{x:ew/2,y:ew/2},{x:ew/2,y:ew/2},{x:ew/8,y:ew/2},{x:ew/8,y:ew/8}]},{values:[{x:ew/8,y:ew/8},{x:ew/8,y:ew/2},{x:ew/2,y:ew},{x:ew/2,y:ew}]},{values:[{x:ew/2,y:ew},{x:ew/2,y:ew},{x:0,y:ew},{x:0,y:ew}]}]},spade:{segments:[{values:[{x:0,y:-ew},{x:0,y:-ew},{x:ew,y:-ew/2},{x:ew,y:0}]},{values:[{x:ew,y:0},{x:ew,y:0},{x:ew,y:ew/2},{x:ew/2,y:ew/2}]},{values:[{x:ew/2,y:ew/2},{x:ew/2,y:ew/2},{x:ew/8,y:ew/2},{x:ew/8,y:ew/8}]},{values:[{x:ew/8,y:ew/8},{x:ew/8,y:ew/2},{x:ew/2,y:ew},{x:ew/2,y:ew}]},{values:[{x:ew/2,y:ew},{x:ew/2,y:ew},{x:0,y:ew},{x:0,y:ew}]}]}};class nw{constructor(){this.validTypes=["club","clubs"]}draw(t){tw(t,iw.club)}}class sw{constructor(){this.validTypes=["diamond","diamonds"]}draw(t){tw(t,iw.diamond)}}class rw{constructor(){this.validTypes=["heart","hearts"]}draw(t){tw(t,iw.heart)}}class ow{constructor(){this.validTypes=["spade","spades"]}draw(t){tw(t,iw.spade)}}const aw='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class cw{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[t,e]of this._emojiShapeDict)e instanceof ImageBitmap&&e?.close(),this._emojiShapeDict.delete(t)}draw(t){const e=t.particle.emojiDataKey;if(!e)return;const i=this._emojiShapeDict.get(e);i&&function(t,e){const{context:i,opacity:n}=t,s=i.globalAlpha;if(!e)return;const r=e.width,o=.5*r;i.globalAlpha=n,i.drawImage(e,-o,-o,r,r),i.globalAlpha=s}(t,i)}async init(t){const e=t.actualOptions,{validTypes:i}=this;if(!i.find((t=>Gm(t,e.particles.shape.type))))return;const n=[Xm(aw)],s=i.map((t=>e.particles.shape.options[t])).find((t=>!!t));s&&Zm(s,(t=>{t.font&&n.push(Xm(t.font))})),await Promise.all(n)}particleDestroy(t){t.emojiDataKey=void 0}particleInit(t,e){const i=e.shapeData;if(!i?.value)return;const n=tv(i.value,e.randomIndexData);if(!n)return;const s="string"==typeof n?{font:i.font??aw,padding:i.padding??0,value:n}:{font:aw,padding:0,...i,...n},r=s.font,o=s.value,a=`${o}_${r}`;if(this._emojiShapeDict.has(a))return void(e.emojiDataKey=a);const c=2*s.padding,l=Im(e.size.value),h=l+c,u=2*h;let d;if("undefined"!=typeof OffscreenCanvas){const t=new OffscreenCanvas(u,u),e=t.getContext("2d");if(!e)return;e.font=`400 ${2*l}px ${r}`,e.textBaseline="middle",e.textAlign="center",e.fillText(o,h,h),d=t.transferToImageBitmap()}else{const t=document.createElement("canvas");t.width=u,t.height=u;const e=t.getContext("2d");if(!e)return;e.font=`400 ${2*l}px ${r}`,e.textBaseline="middle",e.textAlign="center",e.fillText(o,h,h),d=t}this._emojiShapeDict.set(a,d),e.emojiDataKey=a}}class lw{constructor(){this.validTypes=["heart"]}draw(t){!function(t){const{context:e,radius:i}=t,n=2*i,s=.5*i,r=i+s,o=-i,a=-i;e.moveTo(o,a+s),e.quadraticCurveTo(o,a,o+s,a),e.quadraticCurveTo(o+i,a,o+i,a+s),e.quadraticCurveTo(o+i,a,o+r,a),e.quadraticCurveTo(o+n,a,o+n,a+s),e.quadraticCurveTo(o+n,a+i,o+r,a+r),e.lineTo(o+i,a+n),e.lineTo(o+s,a+r),e.quadraticCurveTo(o,a+i,o,a+s)}(t)}}const hw=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function uw(t){return new Promise((e=>{t.loading=!0;const i=new Image;t.element=i,i.addEventListener("load",(()=>{t.loading=!1,e()})),i.addEventListener("error",(()=>{t.element=void 0,t.error=!0,t.loading=!1,qm().error(`${sm} loading image: ${t.source}`),e()})),i.src=t.source}))}async function dw(t){if("svg"!==t.type)return void await uw(t);t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(qm().error(`${sm} Image not found`),t.error=!0),t.loading=!1}function fw(t,e,i,n){const s=function(t,e,i){const{svgData:n}=t;if(!n)return"";const s=_v(e,i);if(n.includes("fill"))return n.replace(hw,(()=>s));const r=n.indexOf(">");return`${n.substring(0,r)} fill="${s}"${n.substring(r)}`}(t,i,n.opacity?.value??1),r={color:i,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise((e=>{const i=new Blob([s],{type:"image/svg+xml"}),n=URL||window.URL||window.webkitURL||window,o=n.createObjectURL(i),a=new Image;a.addEventListener("load",(()=>{r.loaded=!0,r.element=a,e(r),n.revokeObjectURL(o)}));a.addEventListener("error",(()=>{(async()=>{n.revokeObjectURL(o);const i={...t,error:!1,loading:!0};await uw(i),r.loaded=!0,r.element=i.element,e(r)})()})),a.src=o}))}const pw=[0,4,2,1],gw=[8,8,4,2];class mw{constructor(t){this.pos=0,this.data=new Uint8ClampedArray(t)}getString(t){const e=this.data.slice(this.pos,this.pos+t);return this.pos+=e.length,e.reduce(((t,e)=>t+String.fromCharCode(e)),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let t="",e=0;do{e=this.data[this.pos++];for(let i=e;--i>=0;t+=String.fromCharCode(this.data[this.pos++]));}while(0!==e);return t}readSubBlocksBin(){let t=this.data[this.pos],e=0;for(let i=0;0!==t;i+=t+1,t=this.data[this.pos+i])e+=t;const i=new Uint8Array(e);t=this.data[this.pos++];for(let e=0;0!==t;t=this.data[this.pos++])for(let n=t;--n>=0;i[e++]=this.data[this.pos++]);return i}skipSubBlocks(){for(const t=1,e=0;this.data[this.pos]!==e;this.pos+=this.data[this.pos]+t);this.pos++}}var vw,yw;!function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"}(vw||(vw={})),function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"}(yw||(yw={}));const _w=0,ww=0;function bw(t,e){const i=[];for(let n=0;n<e;n++)i.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return i}async function xw(t,e,i,n,s,r){switch(t.nextByte()){case yw.EndOfFile:return!0;case yw.Image:await async function(t,e,i,n,s,r){const o=e.frames[n(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),c=!(128&~a),l=!(64&~a);o.sortFlag=!(32&~a),o.reserved=(24&a)>>>3;const h=1<<1+(7&a);c&&(o.localColorTable=bw(t,h));const u=t=>{const{r:n,g:r,b:a}=(c?o.localColorTable:e.globalColorTable)[t];return t!==s(null)?{r:n,g:r,b:a,a:255}:{r:n,g:r,b:a,a:i?~~((n+r+a)/3):0}},d=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==d)throw new EvalError("GIF frame size is to large");const f=t.nextByte(),p=t.readSubBlocksBin(),g=1<<f,m=(t,e)=>{const i=t>>>3,n=7&t;return(p[i]+(p[i+1]<<8)+(p[i+2]<<16)&(1<<e)-1<<n)>>>n};if(l){for(let i=0,s=f+1,a=0,c=[[0]],l=0;l<4;l++){if(pw[l]<o.height){let t=0,e=0,n=!1;for(;!n;){const r=i;if(i=m(a,s),a+=s+1,i===g){s=f+1,c.length=g+2;for(let t=0;t<c.length;t++)c[t]=t<g?[t]:[]}else{i>=c.length?c.push(c[r].concat(c[r][0])):r!==g&&c.push(c[r].concat(c[i][0]));for(const n of c[i]){const{r:i,g:s,b:r,a}=u(n);d.data.set([i,s,r,a],pw[l]*o.width+gw[l]*e+t%(4*o.width)),t+=4}c.length===1<<s&&s<12&&s++}t===4*o.width*(e+1)&&(e++,pw[l]+gw[l]*e>=o.height&&(n=!0))}}r?.(t.pos/(t.data.length-1),n(!1)+1,d,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=d,o.bitmap=await createImageBitmap(d)}else{let i=0,s=f+1,a=0,c=-4,l=!1;const h=[[0]];for(;!l;){const t=i;if(i=m(a,s),a+=s,i===g){s=f+1,h.length=g+2;for(let t=0;t<h.length;t++)h[t]=t<g?[t]:[]}else{if(i===g+1){l=!0;break}i>=h.length?h.push(h[t].concat(h[t][0])):t!==g&&h.push(h[t].concat(h[i][0]));for(const t of h[i]){const{r:e,g:i,b:n,a:s}=u(t);d.data.set([e,i,n,s],c+=4)}h.length>=1<<s&&s<12&&s++}}o.image=d,o.bitmap=await createImageBitmap(d),r?.((t.pos+1)/t.data.length,n(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}(t,e,i,n,s,r);break;case yw.Extension:!function(t,e,i,n){switch(t.nextByte()){case yw.GraphicsControlExtension:{const s=e.frames[i(!1)];t.pos++;const r=t.nextByte();s.GCreserved=(224&r)>>>5,s.disposalMethod=(28&r)>>>2,s.userInputDelayFlag=!(2&~r);const o=!(1&~r);s.delayTime=10*t.nextTwoBytes();const a=t.nextByte();o&&n(a),t.pos++;break}case yw.ApplicationExtension:{t.pos++;const i={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(i);break}case yw.CommentExtension:e.comments.push([i(!1),t.readSubBlocks()]);break;case yw.PlainTextExtension:if(0===e.globalColorTable.length)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[i(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break;default:t.skipSubBlocks()}}(t,e,n,s);break;default:throw new EvalError("undefined block found")}return!1}async function Tw(t){if("gif"===t.type){t.loading=!0;try{t.gifData=await async function(t,e,i){i||(i=!1);const n=await fetch(t);if(!n.ok&&404===n.status)throw new EvalError("file not found");const s=await n.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new mw(new Uint8ClampedArray(s));if("GIF89a"!==o.getString(6))throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const a=o.nextByte(),c=!(128&~a);r.colorRes=(112&a)>>>4,r.sortFlag=!(8&~a);const l=1<<1+(7&a),h=o.nextByte();r.pixelAspectRatio=o.nextByte(),0!==r.pixelAspectRatio&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),c&&(r.globalColorTable=bw(o,l));const u=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==u)throw new Error("GIF frame size is to large");const{r:d,g:f,b:p}=r.globalColorTable[h];u.data.set(c?[d,f,p,255]:[0,0,0,0]);for(let t=4;t<u.data.length;t*=2)u.data.copyWithin(t,0,t);r.backgroundImage=u;let g=-1,m=!0,v=-1;const y=t=>(t&&(m=!0),g),_=t=>(null!=t&&(v=t),v);try{do{m&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:vw.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,v=-1,m=!1)}while(!await xw(o,r,i,y,_,e));r.frames.length--;for(const t of r.frames){if(t.userInputDelayFlag&&0===t.delayTime){r.totalTime=1/0;break}r.totalTime+=t.delayTime}return r}catch(t){if(t instanceof EvalError)throw new Error(`error while parsing frame ${g} "${t.message}"`);throw t}}(t.source),t.gifLoopCount=function(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}(t.gifData)??0,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}else await uw(t)}class Ew{constructor(t){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${sm} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=t}addImage(t){this._engine.images||(this._engine.images=[]),this._engine.images.push(t)}draw(t){const{context:e,radius:i,particle:n,opacity:s}=t,r=n.image,o=r?.element;if(r){if(e.globalAlpha=s,r.gif&&r.gifData)!function(t){const{context:e,radius:i,particle:n,delta:s}=t,r=n.image;if(!r?.gifData||!r.gif)return;const o=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(_w,ww,o.width,o.height),void 0===n.gifLoopCount&&(n.gifLoopCount=r.gifLoopCount??0);let c=n.gifFrame??0;const l={x:.5*-r.gifData.width,y:.5*-r.gifData.height},h=r.gifData.frames[c];if(void 0===n.gifTime&&(n.gifTime=0),h.bitmap){switch(e.scale(i/r.gifData.width,i/r.gifData.height),h.disposalMethod){case vw.UndefinedA:case vw.UndefinedB:case vw.UndefinedC:case vw.UndefinedD:case vw.Replace:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(_w,ww,o.width,o.height);break;case vw.Combine:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y);break;case vw.RestoreBackground:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(_w,ww,o.width,o.height),r.gifData.globalColorTable.length?a.putImageData(r.gifData.backgroundImage,l.x,l.y):a.putImageData(r.gifData.frames[0].image,l.x+h.left,l.y+h.top);break;case vw.RestorePrevious:{const t=a.getImageData(_w,ww,o.width,o.height);a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(_w,ww,o.width,o.height),a.putImageData(t,_w,ww)}}if(n.gifTime+=s.value,n.gifTime>h.delayTime){if(n.gifTime-=h.delayTime,++c>=r.gifData.frames.length){if(--n.gifLoopCount<=0)return;c=0,a.clearRect(_w,ww,o.width,o.height)}n.gifFrame=c}e.scale(r.gifData.width/i,r.gifData.height/i)}}(t);else if(o){const t=r.ratio,n={x:-i,y:-i},s=2*i;e.drawImage(o,n.x,n.y,s,s/t)}e.globalAlpha=1}}getSidesCount(){return 12}async init(t){const e=t.actualOptions;if(e.preload&&this._engine.loadImage)for(const t of e.preload)await this._engine.loadImage(t)}loadShape(t){if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const e=t.shapeData;if(!e)return;this._engine.images.find((t=>t.name===e.name||t.source===e.src))||this.loadImageShape(e).then((()=>{this.loadShape(t)}))}particleInit(t,e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,n=e.shapeData;if(!n)return;const s=e.getFillColor(),r=i.find((t=>t.name===n.name||t.source===n.src));if(!r)return;const o=n.replaceColor??r.replaceColor;r.loading?setTimeout((()=>{this.particleInit(t,e)})):(async()=>{let t;t=r.svgData&&s?await fw(r,n,s,e):{color:s,data:r,element:r.element,gif:r.gif,gifData:r.gifData,gifLoopCount:r.gifLoopCount,loaded:!0,ratio:n.width&&n.height?n.width/n.height:r.ratio??1,replaceColor:o,source:n.src},t.ratio||(t.ratio=1);const i={image:t,fill:n.fill??e.shapeFill,close:n.close??e.shapeClose};e.image=i.image,e.shapeFill=i.fill,e.shapeClose=i.close})()}}class Cw{constructor(){this.src="",this.gif=!1}load(t){pm(t)||(void 0!==t.gif&&(this.gif=t.gif),void 0!==t.height&&(this.height=t.height),void 0!==t.name&&(this.name=t.name),void 0!==t.replaceColor&&(this.replaceColor=t.replaceColor),void 0!==t.src&&(this.src=t.src),void 0!==t.width&&(this.width=t.width))}}class Sw{constructor(t){this.id="imagePreloader",this._engine=t}async getPlugin(){return await Promise.resolve(),{}}loadOptions(t,e){if(!e?.preload)return;t.preload||(t.preload=[]);const i=t.preload;for(const t of e.preload){const e=i.find((e=>e.name===t.name||e.src===t.src));if(e)e.load(t);else{const e=new Cw;e.load(t),i.push(e)}}}needsPlugin(){return!0}}async function kw(t,e=!0){!function(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${sm} no image source provided`);if(t.images||(t.images=[]),!t.images.find((t=>t.name===e.name||t.source===e.src)))try{const i={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};let n;t.images.push(i),n=e.gif?Tw:e.replaceColor?dw:uw,await n(i)}catch{throw new Error(`${sm} ${e.name??e.src} not found`)}})}(t);const i=new Sw(t);await t.addPlugin(i,e),await t.addShape(new Ew(t),e)}class Iw extends gy{constructor(){super(),this.sync=!1}load(t){pm(t)||(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class Dw extends gy{constructor(){super(),this.sync=!1}load(t){pm(t)||(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class Aw{constructor(){this.count=0,this.delay=new Iw,this.duration=new Dw}load(t){pm(t)||(void 0!==t.count&&(this.count=t.count),this.delay.load(t.delay),this.duration.load(t.duration))}}class Mw{constructor(t){this.container=t}init(t){const e=this.container,i=t.options.life;i&&(t.life={delay:e.retina.reduceFactor?Sm(i.delay.value)*(i.delay.sync?1:Tm())/e.retina.reduceFactor*am:0,delayTime:0,duration:e.retina.reduceFactor?Sm(i.duration.value)*(i.duration.sync?1:Tm())/e.retina.reduceFactor*am:0,time:0,count:i.count},t.life.duration<=0&&(t.life.duration=-1),t.life.count<=0&&(t.life.count=-1),t.life&&(t.spawning=t.life.delay>0))}isEnabled(t){return!t.destroyed}loadOptions(t,...e){t.life||(t.life=new Aw);for(const i of e)t.life.load(i?.life)}update(t,e){this.isEnabled(t)&&t.life&&function(t,e,i){if(!t.life)return;const n=t.life;let s=!1;if(t.spawning){if(n.delayTime+=e.value,!(n.delayTime>=t.life.delay))return;s=!0,t.spawning=!1,n.delayTime=0,n.time=0}if(-1===n.duration)return;if(t.spawning)return;if(s?n.time=0:n.time+=e.value,n.time<n.duration)return;if(n.time=0,t.life.count>0&&t.life.count--,0===t.life.count)return void t.destroy();const r=Dm(0,i.width),o=Dm(0,i.width);t.position.x=Cm(r),t.position.y=Cm(o),t.spawning=!0,n.delayTime=0,n.time=0,t.reset();const a=t.options.life;a&&(n.delay=Sm(a.delay.value)*am,n.duration=Sm(a.duration.value)*am)}(t,e,this.container.canvas.size)}}class Ow{constructor(){this.factor=4,this.value=!0}load(t){pm(t)||(void 0!==t.factor&&(this.factor=t.factor),void 0!==t.value&&(this.value=t.value))}}class Pw{constructor(){this.disable=!1,this.reduce=new Ow}load(t){pm(t)||(void 0!==t.disable&&(this.disable=t.disable),this.reduce.load(t.reduce))}}class Rw{constructor(t,e){this._handleMotionChange=t=>{const e=this._container,i=e.actualOptions.motion;i&&(t.matches?i.disable?e.retina.reduceFactor=0:e.retina.reduceFactor=i.reduce.value?1/i.reduce.factor:1:e.retina.reduceFactor=1)},this._container=t,this._engine=e}async init(){const t=this._container,e=t.actualOptions.motion;if(!e||!e.disable&&!e.reduce.value)return void(t.retina.reduceFactor=1);const i=Hm("(prefers-reduced-motion: reduce)");if(!i)return void(t.retina.reduceFactor=1);this._handleMotionChange(i);const n=()=>{(async()=>{this._handleMotionChange(i);try{await t.refresh()}catch{}})()};void 0!==i.addEventListener?i.addEventListener("change",n):void 0!==i.addListener&&i.addListener(n),await Promise.resolve()}}class Lw{constructor(t){this.id="motion",this._engine=t}getPlugin(t){return Promise.resolve(new Rw(t,this._engine))}loadOptions(t,e){if(!this.needsPlugin())return;let i=t.motion;i?.load||(t.motion=i=new Pw),i.load(e?.motion)}needsPlugin(){return!0}}const Nw=0,zw=0;class Fw{draw(t){const{particle:e,radius:i}=t;!function(t,e,i){const{context:n}=t,s=i.count.numerator*i.count.denominator,r=i.count.numerator/i.count.denominator,o=180*(r-2)/r,a=Math.PI-Om(o);if(n){n.beginPath(),n.translate(e.x,e.y),n.moveTo(Nw,zw);for(let t=0;t<s;t++)n.lineTo(i.length,zw),n.translate(i.length,zw),n.rotate(a)}}(t,this.getCenter(e,i),this.getSidesData(e,i))}getSidesCount(t){const e=t.shapeData;return Math.round(Sm(e?.sides??5))}}class Vw extends Fw{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(t,e){return{x:-e/(t.sides/3.5),y:-e/.76}}getSidesData(t,e){const i=t.sides;return{count:{denominator:1,numerator:i},length:2.66*e/(i/3)}}}class Bw extends Fw{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(t,e){return{x:-e,y:e/1.66}}getSidesCount(){return 3}getSidesData(t,e){return{count:{denominator:2,numerator:3},length:2*e}}}async function Uw(t,e=!0){await async function(t,e=!0){await t.addShape(new Vw,e)}(t,e),await async function(t,e=!0){await t.addShape(new Bw,e)}(t,e)}var jw;!function(t){t.both="both",t.horizontal="horizontal",t.vertical="vertical"}(jw||(jw={}));const qw=2*Math.PI;class $w{constructor(){this.enable=!1,this.value=0}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.value&&(this.value=Dm(t.value)))}}class Hw{constructor(){this.darken=new $w,this.enable=!1,this.enlighten=new $w,this.mode=jw.vertical,this.speed=25}load(t){pm(t)||(void 0!==t.backColor&&(this.backColor=Fv.create(this.backColor,t.backColor)),this.darken.load(t.darken),void 0!==t.enable&&(this.enable=t.enable),this.enlighten.load(t.enlighten),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.speed&&(this.speed=Dm(t.speed)))}}class Gw{getTransformValues(t){const e=t.roll?.enable&&t.roll,i=e&&e.horizontal,n=e&&e.vertical;return{a:i?Math.cos(e.angle):void 0,d:n?Math.sin(e.angle):void 0}}init(t){!function(t){const e=t.options.roll;if(e?.enable)if(t.roll={enable:e.enable,horizontal:e.mode===jw.horizontal||e.mode===jw.both,vertical:e.mode===jw.vertical||e.mode===jw.both,angle:Tm()*qw,speed:Sm(e.speed)/360},e.backColor)t.backColor=pv(e.backColor);else if(e.darken.enable&&e.enlighten.enable){const i=Tm()>=om?ov.darken:ov.enlighten;t.roll.alter={type:i,value:Sm(i===ov.darken?e.darken.value:e.enlighten.value)}}else e.darken.enable?t.roll.alter={type:ov.darken,value:Sm(e.darken.value)}:e.enlighten.enable&&(t.roll.alter={type:ov.enlighten,value:Sm(e.enlighten.value)});else t.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}(t)}isEnabled(t){const e=t.options.roll;return!t.destroyed&&!t.spawning&&!!e?.enable}loadOptions(t,...e){t.roll||(t.roll=new Hw);for(const i of e)t.roll.load(i?.roll)}update(t,e){this.isEnabled(t)&&function(t,e){const i=t.options.roll,n=t.roll;if(!n||!i?.enable)return;const s=n.speed*e.factor,r=qw;n.angle+=s,n.angle>r&&(n.angle-=r)}(t,e)}}class Xw{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Dm(t.speed)),void 0!==t.decay&&(this.decay=Dm(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class Kw extends gy{constructor(){super(),this.animation=new Xw,this.direction=__.clockwise,this.path=!1,this.value=0}load(t){pm(t)||(super.load(t),void 0!==t.direction&&(this.direction=t.direction),this.animation.load(t.animation),void 0!==t.path&&(this.path=t.path))}}const Ww=2*Math.PI;class Qw{constructor(t){this.container=t}init(t){const e=t.options.rotate;if(!e)return;t.rotate={enable:e.animation.enable,value:Om(Sm(e.value)),min:0,max:Ww},t.pathRotation=e.path;let i=e.direction;if(i===__.random){i=Math.floor(2*Tm())>0?__.counterClockwise:__.clockwise}switch(i){case __.counterClockwise:case"counterClockwise":t.rotate.status=zm.decreasing;break;case __.clockwise:t.rotate.status=zm.increasing}const n=e.animation;n.enable&&(t.rotate.decay=1-Sm(n.decay),t.rotate.velocity=Sm(n.speed)/360*this.container.retina.reduceFactor,n.sync||(t.rotate.velocity*=Tm())),t.rotation=t.rotate.value}isEnabled(t){const e=t.options.rotate;return!!e&&(!t.destroyed&&!t.spawning&&(!!e.value||e.animation.enable||e.path))}loadOptions(t,...e){t.rotate||(t.rotate=new Kw);for(const i of e)t.rotate.load(i?.rotate)}update(t,e){this.isEnabled(t)&&(t.isRotating=!!t.rotate,t.rotate&&(rv(t,t.rotate,!1,Fm.none,e),t.rotation=t.rotate.value))}}const Yw=Math.sqrt(2);class Jw{constructor(){this.validTypes=["edge","square"]}draw(t){!function(t){const{context:e,radius:i}=t,n=i/Yw,s=2*n;e.rect(-n,-n,s,s)}(t)}getSidesCount(){return 4}}const Zw=0,tb=0;class eb{constructor(){this.validTypes=["star"]}draw(t){!function(t){const{context:e,particle:i,radius:n}=t,s=i.sides,r=i.starInset??2;e.moveTo(Zw,tb-n);for(let t=0;t<s;t++)e.rotate(Math.PI/s),e.lineTo(Zw,tb-n*r),e.rotate(Math.PI/s),e.lineTo(Zw,tb-n)}(t)}getSidesCount(t){const e=t.shapeData;return Math.round(Sm(e?.sides??5))}particleInit(t,e){const i=e.shapeData;e.starInset=Sm(i?.inset??2)}}var ib;!function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"}(ib||(ib={}));class nb{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){pm(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Dm(t.speed)),void 0!==t.decay&&(this.decay=Dm(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class sb extends gy{constructor(){super(),this.animation=new nb,this.direction=ib.clockwise,this.enable=!1,this.value=0}load(t){super.load(t),pm(t)||(this.animation.load(t.animation),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.enable&&(this.enable=t.enable))}}const rb=2*Math.PI;class ob{constructor(t){this.container=t}getTransformValues(t){const e=t.tilt?.enable&&t.tilt;return{b:e?Math.cos(e.value)*e.cosDirection:void 0,c:e?Math.sin(e.value)*e.sinDirection:void 0}}init(t){const e=t.options.tilt;if(!e)return;t.tilt={enable:e.enable,value:Om(Sm(e.value)),sinDirection:Tm()>=om?1:-1,cosDirection:Tm()>=om?1:-1,min:0,max:rb};let i=e.direction;if(i===ib.random){i=Math.floor(2*Tm())>0?ib.counterClockwise:ib.clockwise}switch(i){case ib.counterClockwise:case"counterClockwise":t.tilt.status=zm.decreasing;break;case ib.clockwise:t.tilt.status=zm.increasing}const n=t.options.tilt?.animation;n?.enable&&(t.tilt.decay=1-Sm(n.decay),t.tilt.velocity=Sm(n.speed)/360*this.container.retina.reduceFactor,n.sync||(t.tilt.velocity*=Tm()))}isEnabled(t){const e=t.options.tilt?.animation;return!t.destroyed&&!t.spawning&&!!e?.enable}loadOptions(t,...e){t.tilt||(t.tilt=new sb);for(const i of e)t.tilt.load(i?.tilt)}async update(t,e){this.isEnabled(t)&&t.tilt&&(rv(t,t.tilt,!1,Fm.none,e),await Promise.resolve())}}class ab{constructor(){this.angle=50,this.move=10}load(t){pm(t)||(void 0!==t.angle&&(this.angle=Dm(t.angle)),void 0!==t.move&&(this.move=Dm(t.move)))}}class cb{constructor(){this.distance=5,this.enable=!1,this.speed=new ab}load(t){if(!pm(t)&&(void 0!==t.distance&&(this.distance=Dm(t.distance)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed))if(um(t.speed))this.speed.load({angle:t.speed});else{const e=t.speed;void 0!==e.min?this.speed.load({angle:e}):this.speed.load(t.speed)}}}const lb=2*Math.PI;const hb=2*Math.PI;class ub{constructor(t){this.container=t}init(t){const e=t.options.wobble;t.wobble=e?.enable?{angle:Tm()*hb,angleSpeed:Sm(e.speed.angle)/360,moveSpeed:Sm(e.speed.move)/10}:{angle:0,angleSpeed:0,moveSpeed:0},t.retina.wobbleDistance=Sm(e?.distance??0)*this.container.retina.pixelRatio}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.options.wobble?.enable}loadOptions(t,...e){t.wobble||(t.wobble=new cb);for(const i of e)t.wobble.load(i?.wobble)}update(t,e){this.isEnabled(t)&&function(t,e){const{wobble:i}=t.options,{wobble:n}=t;if(!i?.enable||!n)return;const s=n.angleSpeed*e.factor,r=n.moveSpeed*e.factor*((t.retina.wobbleDistance??0)*e.factor)/16.666666666666668,o=lb,{position:a}=t;n.angle+=s,n.angle>o&&(n.angle-=o),a.x+=r*Math.cos(n.angle),a.y+=r*Math.abs(Math.sin(n.angle))}(t,e)}}let db=!1,fb=!1;const pb=new Map;async function gb(t){if(!db){if(fb)return new Promise((t=>{const e=setInterval((()=>{db&&(clearInterval(e),t())}),100)}));fb=!0,await async function(t,e=!0){t.emitterShapeManager||(t.emitterShapeManager=new z_(t)),t.addEmitterShapeGenerator||(t.addEmitterShapeGenerator=(e,i)=>{t.emitterShapeManager?.addShapeGenerator(e,i)});const i=new L_(t);await t.addPlugin(i,e)}(t,!1),await async function(t,e=!0){await t.addPlugin(new Lw(t),e)}(t,!1),await async function(t,e=!0){await t.addShape(new ow,e),await t.addShape(new rw,e),await t.addShape(new sw,e),await t.addShape(new nw,e)}(t,!1),await async function(t,e=!0){await t.addShape(new lw,e)}(t,!1),await kw(t,!1),await Uw(t,!1),await async function(t,e=!0){await t.addShape(new Jw,e)}(t,!1),await async function(t,e=!0){await t.addShape(new eb,e)}(t,!1),await async function(t,e=!0){await t.addShape(new cw,e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("rotate",(t=>Promise.resolve(new Qw(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("life",(async t=>Promise.resolve(new Mw(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("roll",(()=>Promise.resolve(new Gw)),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("tilt",(t=>Promise.resolve(new ob(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("wobble",(t=>Promise.resolve(new ub(t))),e)}(t,!1),await Z_(t),fb=!1,db=!0}}async function mb(t){const e=new F_;let i;e.load(t.options);const n=e.ticks*am/432e3;if(pb.has(t.id)&&(i=pb.get(t.id),i&&!i.destroyed)){const t=i;if(t.addEmitter)return void await t.addEmitter({startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1},particles:{color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},life:{count:1},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:n,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},gravity:{acceleration:9.81*e.gravity},speed:3*e.startVelocity,decay:1-e.decay,direction:-e.angle},rotate:{value:e.flat?0:{min:0,max:360},direction:"random",animation:{enable:!e.flat,speed:60}},tilt:{direction:"random",enable:!e.flat,value:e.flat?0:{min:0,max:360},animation:{enable:!0,speed:60}},roll:{darken:{enable:!0,value:25},enable:!e.flat,speed:{min:15,max:25}},wobble:{distance:30,enable:!e.flat,speed:{min:-15,max:15}}}})}const s={fullScreen:{enable:!t.canvas,zIndex:e.zIndex},fpsLimit:120,particles:{number:{value:0},color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:n,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},links:{enable:!1},life:{count:1},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},enable:!0,gravity:{enable:!0,acceleration:9.81*e.gravity},speed:3*e.startVelocity,decay:1-e.decay,direction:-e.angle,random:!0,straight:!1,outModes:{default:"none",bottom:"destroy"}},rotate:{value:e.flat?0:{min:0,max:360},direction:"random",animation:{enable:!e.flat,speed:60}},tilt:{direction:"random",enable:!e.flat,value:e.flat?0:{min:0,max:360},animation:{enable:!0,speed:60}},roll:{darken:{enable:!0,value:25},enable:!e.flat,speed:{min:15,max:25}},wobble:{distance:30,enable:!e.flat,speed:{min:-15,max:15}}},detectRetina:!0,motion:{disable:e.disableForReducedMotion},emitters:{name:"confetti",startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1}}};return i=await E_.load({id:t.id,element:t.canvas,options:s}),pb.set(t.id,i),i}async function vb(t,e){let i,n;return await gb(E_),hm(t)?(n=t,i=e??{}):(n="confetti",i=t),mb({id:n,options:i})}vb.create=async(t,e)=>{if(!t)return vb;await gb(E_);const i=t.getAttribute("id")??"confetti";return t.setAttribute("id",i),async(n,s)=>{let r,o;return hm(n)?(o=n,r=s??e):(o=i,r=n),mb({id:o,canvas:t,options:r})}},vb.init=async()=>{await gb(E_)},vb.version=E_.version,$m()||(window.confetti=vb);const yb=function(t,e){const i="object"==typeof t?t:function(t=Jc){const e=tl.get(t);if(!e&&t===Jc&&Fa())return cl();if(!e)throw ol.create("no-app",{appName:t});return e}(),n="string"==typeof t?t:e||"(default)",s=rl(i,"firestore").getImmediate({identifier:n});if(!s._initialized){const t=za("firestore");t&&xg(s,...t)}return s}(cl({apiKey:"AIzaSyCd-nspx0BBEQC-KvvlNvE1VWgHpFOLq1A",authDomain:"rockbride-studio.firebaseapp.com",projectId:"rockbride-studio",storageBucket:"rockbride-studio.firebasestorage.app",messagingSenderId:"772102168692",appId:"1:772102168692:web:979d2c71cbc2f612a27121",measurementId:"G-YLNES74LL7"}));let _b={name:"",email:"",eventType:"",eventDate:"",eventLocation:"",whichPackage:"",whereDidYouHear:""};const wb=document.querySelector("#input-1"),bb=document.querySelector("#input-2"),xb=document.querySelector("#input-3"),Tb=document.querySelector("#input-4"),Eb=document.querySelector("#input-5");window.onscroll=function(){document.documentElement.scrollTop>200||document.body.scrollTop>200?ka.style.display="block":ka.style.display="none"},ka.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},function(){const t=document.querySelector(".menu");document.querySelector(".hamburger").addEventListener("click",(e=>{if(t.classList.toggle("visible"),t.classList.contains("visible")){document.body.classList.add("menu-open");document.querySelectorAll(".menu li").forEach(((t,e)=>{rs.fromTo(t,{opacity:0},{opacity:1,duration:1,delay:.2*e})}))}else document.body.classList.remove("menu-open")}))}(),document.querySelectorAll('[data-stage="1"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="1"] .form',null,1.2,1),Sa('[data-stage="1"] .emoji',null,.2,.1),setTimeout((()=>{wb.focus()}),1200),Ia.querySelector(".selected.language").addEventListener("click",(t=>{Da.classList.toggle("open"),Da.classList.contains("open")&&rs.fromTo(Da,{opacity:0,y:10},{opacity:1,y:0,duration:1})})),document.querySelector('[data-stage="1"] button').addEventListener("click",kb),document.querySelector('[data-stage="2"] button').addEventListener("click",Ib),document.querySelector('[data-stage="3"] button').addEventListener("click",Db),document.querySelector('[data-stage="4"] button').addEventListener("click",Ab),document.querySelector('[data-stage="5"] button').addEventListener("click",Mb),wb.addEventListener("keypress",(t=>{"Enter"===t.key&&kb()})),bb.addEventListener("keypress",(t=>{"Enter"===t.key&&Ib()})),xb.addEventListener("keypress",(t=>{"Enter"===t.key&&Db()})),Tb.addEventListener("keypress",(t=>{"Enter"===t.key&&Ab()})),Eb.addEventListener("keypress",(t=>{"Enter"===t.key&&Mb()}));const Cb=async t=>{try{const e=Date.now(),i=`${t.email}-${e}`,n=Sg(yb,"contacts",i);await function(t,e,i){t=_g(t,Eg);const n=_g(t.firestore,Ig),s=Jg(t.converter,e,i);return Zg(n,[jg(Ug(n),"setDoc",t._key,s,null!==t.converter,i).toMutation(t._key,zd.none())])}(n,t)}catch(t){console.error("Error adding document: ",t)}};function Sb(){document.querySelector('[data-stage="5"').classList.remove("active"),document.querySelector('[data-stage="6"').classList.add("active"),document.querySelectorAll('[data-stage="6"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="6"] .with-emoji:nth-of-type(1) .emoji:nth-of-type(1)',null,.1,.1),Sa('[data-stage="6"] .with-emoji:nth-of-type(1) .emoji:nth-of-type(2)',null,.3,.1),Sa('[data-stage="6"] .with-emoji:nth-of-type(2) .emoji:nth-of-type(1)',null,1.5,.1),Sa('[data-stage="6"] .with-emoji:nth-of-type(2) .emoji:nth-of-type(2)',null,1.8,.1),function(){const t=36e5,e=Date.now()+t,i={startVelocity:30,spread:360,ticks:20,zIndex:0};function n(t,e){return Math.random()*(e-t)+t}const s=setInterval((function(){const r=e-Date.now();if(r<=0)return clearInterval(s);const o=r/t*20;vb(Object.assign({},i,{particleCount:o,origin:{x:n(.1,.3),y:Math.random()-.2}})),vb(Object.assign({},i,{particleCount:o,origin:{x:n(.7,.9),y:Math.random()-.2}}))}),500)}(),Cb(_b)}function kb(){wb.value&&(_b.name=wb.value,document.querySelectorAll(".name-span").forEach((t=>t.innerHTML=_b.name)),document.querySelector('[data-stage="1"').classList.remove("active"),document.querySelector('[data-stage="2"').classList.add("active"),document.querySelectorAll('[data-stage="2"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="2"] .form',null,1.5,1),Sa('[data-stage="2"] .emoji',null,.3,.1),bb.focus())}function Ib(){bb.value&&(_b.eventType=bb.value,document.querySelector('[data-stage="2"').classList.remove("active"),document.querySelector('[data-stage="3"').classList.add("active"),document.querySelectorAll('[data-stage="3"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="3"] .form',null,1,1),Sa('[data-stage="3"] .emoji',null,.4,.1),xb.focus())}function Db(){xb.value&&(_b.eventDate=xb.value,document.querySelector('[data-stage="3"]').classList.remove("active"),document.querySelector('[data-stage="4"]').classList.add("active"),document.querySelectorAll('[data-stage="4"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="4"] .form',null,1,1),Sa('[data-stage="4"] .emoji',null,1,.1),Tb.focus())}function Ab(){Tb.value&&(_b.eventLocation=Tb.value,document.querySelector('[data-stage="4"]').classList.remove("active"),document.querySelector('[data-stage="5"]').classList.add("active"),document.querySelectorAll('[data-stage="5"] h3').forEach(((t,e)=>{Ea(t,1,.007,e/2*1.1)})),Sa('[data-stage="5"] .form',null,1,1),Sa('[data-stage="5"] .with-emoji:nth-of-type(1) .emoji',null,.2,.1),Sa('[data-stage="5"] .with-emoji:nth-of-type(2) .emoji',null,1.1,.1),Eb.focus())}function Mb(){/\S+@\S+\.\S+/.test(Eb.value)&&Eb.value?(document.querySelector('[data-stage="5"] .form').classList.remove("error"),_b.email=Eb.value,Sb()):document.querySelector('[data-stage="5"] .form').classList.add("error")}})();