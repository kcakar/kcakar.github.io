/*! For license information please see contact.2280c08d3b11f453b106.js.LICENSE.txt */
(()=>{"use strict";var t={491:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(601),s=i.n(n),r=i(314),o=i.n(r)()(s());o.push([t.id,"",""]);const a=o},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);n&&o[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),e.push(h))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var r={},o=[],a=0;a<t.length;a++){var c=t[a],l=n.base?c[0]+n.base:c[0],h=r[l]||0,u="".concat(l," ").concat(h);r[l]=h+1;var d=i(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=s(f,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function s(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,s){var r=n(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=i(r[o]);e[a].references--}for(var c=n(t,s),l=0;l<r.length;l++){var h=i(r[l]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=c}}},659:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0;var n=i(72),s=i.n(n),r=i(825),o=i.n(r),a=i(659),c=i.n(a),l=i(56),h=i.n(l),u=i(540),d=i.n(u),f=i(113),p=i.n(f),g=i(491),m={};function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}m.styleTagTransform=p(),m.setAttributes=h(),m.insert=c().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d(),s()(g.A,m),g.A&&g.A.locals&&g.A.locals;var _,w,b,x,T,E,C,S,k,I,D,A={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},M={duration:.5,overwrite:!1,delay:0},O=1e8,P=1e-8,R=2*Math.PI,L=R/4,N=0,z=Math.sqrt,F=Math.cos,B=Math.sin,V=function(t){return"string"==typeof t},U=function(t){return"function"==typeof t},j=function(t){return"number"==typeof t},q=function(t){return void 0===t},$=function(t){return"object"==typeof t},H=function(t){return!1!==t},G=function(){return"undefined"!=typeof window},X=function(t){return U(t)||V(t)},K="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},W=Array.isArray,Y=/(?:-?\.?\d|\.)+/gi,Q=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,J=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Z=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,tt=/[+-]=-?[.\d]+/,et=/[^,'"\[\]\s]+/gi,it=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,nt={},st={},rt=function(t){return(st=Rt(t,nt))&&Ri},ot=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},at=function(t,e){return!e&&console.warn(t)},ct=function(t,e){return t&&(nt[t]=e)&&st&&(st[t]=e)||nt},lt=function(){return 0},ht={suppressEvents:!0,isStart:!0,kill:!1},ut={suppressEvents:!0,kill:!1},dt={suppressEvents:!0},ft={},pt=[],gt={},mt={},vt={},yt=30,_t=[],wt="",bt=function(t){var e,i,n=t[0];if($(n)||U(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=_t.length;i--&&!_t[i].targetTest(n););e=_t[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ke(t[i],e)))||t.splice(i,1);return t},xt=function(t){return t._gsap||bt(ue(t))[0]._gsap},Tt=function(t,e,i){return(i=t[e])&&U(i)?t[e]():q(i)&&t.getAttribute&&t.getAttribute(e)||i},Et=function(t,e){return(t=t.split(",")).forEach(e)||t},Ct=function(t){return Math.round(1e5*t)/1e5||0},St=function(t){return Math.round(1e7*t)/1e7||0},kt=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+n:"-"===i?t-n:"*"===i?t*n:t/n},It=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Dt=function(){var t,e,i=pt.length,n=pt.slice(0);for(gt={},pt.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},At=function(t,e,i,n){pt.length&&!w&&Dt(),t.render(e,i,n||w&&e<0&&(t._initted||t._startAt)),pt.length&&!w&&Dt()},Mt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(et).length<2?e:V(t)?t.trim():t},Ot=function(t){return t},Pt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Rt=function(t,e){for(var i in e)t[i]=e[i];return t},Lt=function t(e,i){for(var n in i)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=$(i[n])?t(e[n]||(e[n]={}),i[n]):i[n]);return e},Nt=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},zt=function(t){var e,i=t.parent||x,n=t.keyframes?(e=W(t.keyframes),function(t,i){for(var n in i)n in t||"duration"===n&&e||"ease"===n||(t[n]=i[n])}):Pt;if(H(t.inherit))for(;i;)n(t,i.vars.defaults),i=i.parent||i._dp;return t},Ft=function(t,e,i,n,s){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r,o=t[n];if(s)for(r=e[s];o&&o[s]>r;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e},Bt=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s=e._prev,r=e._next;s?s._next=r:t[i]===e&&(t[i]=r),r?r._prev=s:t[n]===e&&(t[n]=s),e._next=e._prev=e.parent=null},Vt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ut=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},jt=function(t,e,i,n){return t._startAt&&(w?t._startAt.revert(ut):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},qt=function t(e){return!e||e._ts&&t(e.parent)},$t=function(t){return t._repeat?Ht(t._tTime,t=t.duration()+t._rDelay)*t:0},Ht=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Gt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Xt=function(t){return t._end=St(t._start+(t._tDur/Math.abs(t._ts||t._rts||P)||0))},Kt=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=St(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Xt(t),i._dirty||Ut(i,t)),t},Wt=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=Gt(t.rawTime(),e),(!e._dur||ae(0,e.totalDuration(),i)-e._tTime>P)&&e.render(i,!0)),Ut(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},Yt=function(t,e,i,n){return e.parent&&Vt(e),e._start=St((j(i)?i:i||t!==x?se(t,i,e):t._time)+e._delay),e._end=St(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Ft(t,e,"_first","_last",t._sort?"_start":0),te(e)||(t._recent=e),n||Wt(t,e),t._ts<0&&Kt(t,t._tTime),t},Qt=function(t,e){return(nt.ScrollTrigger||ot("scrollTrigger",e))&&nt.ScrollTrigger.create(e,t)},Jt=function(t,e,i,n,s){return ii(t,e,s),t._initted?!i&&t._pt&&!w&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&k!==Le.frame?(pt.push(t),t._lazy=[s,n],1):void 0:1},Zt=function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))},te=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},ee=function(t,e,i,n){var s=t._repeat,r=St(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=r/t._dur),t._dur=r,t._tDur=s?s<0?1e10:St(r*(s+1)+t._rDelay*s):r,o>0&&!n&&Kt(t,t._tTime=t._tDur*o),t.parent&&Xt(t),i||Ut(t.parent,t),t},ie=function(t){return t instanceof Ye?Ut(t):ee(t,t._dur)},ne={_start:0,endTime:lt,totalDuration:lt},se=function t(e,i,n){var s,r,o,a=e.labels,c=e._recent||ne,l=e.duration()>=O?c.endTime(!1):e._dur;return V(i)&&(isNaN(i)||i in a)?(r=i.charAt(0),o="%"===i.substr(-1),s=i.indexOf("="),"<"===r||">"===r?(s>=0&&(i=i.replace(/=/,"")),("<"===r?c._start:c.endTime(c._repeat>=0))+(parseFloat(i.substr(1))||0)*(o?(s<0?c:n).totalDuration()/100:1)):s<0?(i in a||(a[i]=l),a[i]):(r=parseFloat(i.charAt(s-1)+i.substr(s+1)),o&&n&&(r=r/100*(W(n)?n[0]:n).totalDuration()),s>1?t(e,i.substr(0,s-1),n)+r:l+r)):null==i?l:+i},re=function(t,e,i){var n,s,r=j(e[1]),o=(r?2:1)+(t<2?0:1),a=e[o];if(r&&(a.duration=e[1]),a.parent=i,t){for(n=a,s=i;s&&!("immediateRender"in n);)n=s.vars.defaults||{},s=H(s.vars.inherit)&&s.parent;a.immediateRender=H(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new ai(e[0],a,e[o+1])},oe=function(t,e){return t||0===t?e(t):e},ae=function(t,e,i){return i<t?t:i>e?e:i},ce=function(t,e){return V(t)&&(e=it.exec(t))?e[1]:""},le=[].slice,he=function(t,e){return t&&$(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&$(t[0]))&&!t.nodeType&&t!==T},ue=function(t,e,i){return b&&!e&&b.selector?b.selector(t):!V(t)||i||!E&&Ne()?W(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var n;return V(t)&&!e||he(t,1)?(n=i).push.apply(n,ue(t)):i.push(t)}))||i}(t,i):he(t)?le.call(t,0):t?[t]:[]:le.call((e||C).querySelectorAll(t),0)},de=function(t){return t=ue(t)[0]||at("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ue(e,i.querySelectorAll?i:i===t?at("Invalid scope")||C.createElement("div"):t)}},fe=function(t){return t.sort((function(){return.5-Math.random()}))},pe=function(t){if(U(t))return t;var e=$(t)?t:{each:t},i=qe(e.ease),n=e.from||0,s=parseFloat(e.base)||0,r={},o=n>0&&n<1,a=isNaN(n)||o,c=e.axis,l=n,h=n;return V(n)?l=h={center:.5,edges:.5,end:1}[n]||0:!o&&a&&(l=n[0],h=n[1]),function(t,o,u){var d,f,p,g,m,v,y,_,w,b=(u||e).length,x=r[b];if(!x){if(!(w="auto"===e.grid?0:(e.grid||[1,O])[1])){for(y=-O;y<(y=u[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(x=r[b]=[],d=a?Math.min(w,b)*l-.5:n%w,f=w===O?0:a?b*h/w-.5:n/w|0,y=0,_=O,v=0;v<b;v++)p=v%w-d,g=f-(v/w|0),x[v]=m=c?Math.abs("y"===c?g:p):z(p*p+g*g),m>y&&(y=m),m<_&&(_=m);"random"===n&&fe(x),x.max=y-_,x.min=_,x.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(w>b?b-1:c?"y"===c?b/w:w:Math.max(w,b/w))||0)*("edges"===n?-1:1),x.b=b<0?s-b:s,x.u=ce(e.amount||e.each)||0,i=i&&b<0?Ue(i):i}return b=(x[t]-x.min)/x.max||0,St(x.b+(i?i(b):b)*x.v)+x.u}},ge=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=St(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(j(i)?0:ce(i))}},me=function(t,e){var i,n,s=W(t);return!s&&$(t)&&(i=s=t.radius||O,t.values?(t=ue(t.values),(n=!j(t[0]))&&(i*=i)):t=ge(t.increment)),oe(e,s?U(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var s,r,o=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),c=O,l=0,h=t.length;h--;)(s=n?(s=t[h].x-o)*s+(r=t[h].y-a)*r:Math.abs(t[h]-o))<c&&(c=s,l=h);return l=!i||c<=i?t[l]:e,n||l===e||j(e)?l:l+ce(e)}:ge(t))},ve=function(t,e,i,n){return oe(W(t)?!e:!0===i?!!(i=0):!n,(function(){return W(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n}))},ye=function(t,e,i){return oe(i,(function(i){return t[~~e(i)]}))},_e=function(t){for(var e,i,n,s,r=0,o="";~(e=t.indexOf("random(",r));)n=t.indexOf(")",e),s="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(s?et:Y),o+=t.substr(r,e-r)+ve(s?i:+i[0],s?0:+i[1],+i[2]||1e-5),r=n+1;return o+t.substr(r,t.length-r)},we=function(t,e,i,n,s){var r=e-t,o=n-i;return oe(s,(function(e){return i+((e-t)/r*o||0)}))},be=function(t,e,i){var n,s,r,o=t.labels,a=O;for(n in o)(s=o[n]-e)<0==!!i&&s&&a>(s=Math.abs(s))&&(r=n,a=s);return r},xe=function(t,e,i){var n,s,r,o=t.vars,a=o[e],c=b,l=t._ctx;if(a)return n=o[e+"Params"],s=o.callbackScope||t,i&&pt.length&&Dt(),l&&(b=l),r=n?a.apply(s,n):a.call(s),b=c,r},Te=function(t){return Vt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!w),t.progress()<1&&xe(t,"onInterrupt"),t},Ee=[],Ce=function(t){if(t)if(t=!t.name&&t.default||t,G()||t.headless){var e=t.name,i=U(t),n=e&&!i&&t.init?function(){this._props=[]}:t,s={init:lt,render:mi,add:ti,kill:yi,modifier:vi,rawVars:0},r={targetTest:0,get:0,getSetter:di,aliases:{},register:0};if(Ne(),t!==n){if(mt[e])return;Pt(n,Pt(Nt(t,s),r)),Rt(n.prototype,Rt(s,Nt(t,r))),mt[n.prop=e]=n,t.targetTest&&(_t.push(n),ft[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ct(e,n),t.register&&t.register(Ri,n,bi)}else Ee.push(t)},Se=255,ke={aqua:[0,Se,Se],lime:[0,Se,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Se],navy:[0,0,128],white:[Se,Se,Se],olive:[128,128,0],yellow:[Se,Se,0],orange:[Se,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Se,0,0],pink:[Se,192,203],cyan:[0,Se,Se],transparent:[Se,Se,Se,0]},Ie=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Se+.5|0},De=function(t,e,i){var n,s,r,o,a,c,l,h,u,d,f=t?j(t)?[t>>16,t>>8&Se,t&Se]:0:ke.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ke[t])f=ke[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),s=t.charAt(2),r=t.charAt(3),t="#"+n+n+s+s+r+r+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&Se,f&Se,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&Se,t&Se]}else if("hsl"===t.substr(0,3))if(f=d=t.match(Y),e){if(~t.indexOf("="))return f=t.match(Q),i&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,n=2*(c=+f[2]/100)-(s=c<=.5?c*(a+1):c+a-c*a),f.length>3&&(f[3]*=1),f[0]=Ie(o+1/3,n,s),f[1]=Ie(o,n,s),f[2]=Ie(o-1/3,n,s);else f=t.match(Y)||ke.transparent;f=f.map(Number)}return e&&!d&&(n=f[0]/Se,s=f[1]/Se,r=f[2]/Se,c=((l=Math.max(n,s,r))+(h=Math.min(n,s,r)))/2,l===h?o=a=0:(u=l-h,a=c>.5?u/(2-l-h):u/(l+h),o=l===n?(s-r)/u+(s<r?6:0):l===s?(r-n)/u+2:(n-s)/u+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*c+.5)),i&&f.length<4&&(f[3]=1),f},Ae=function(t){var e=[],i=[],n=-1;return t.split(Oe).forEach((function(t){var s=t.match(J)||[];e.push.apply(e,s),i.push(n+=s.length+1)})),e.c=i,e},Me=function(t,e,i){var n,s,r,o,a="",c=(t+a).match(Oe),l=e?"hsla(":"rgba(",h=0;if(!c)return t;if(c=c.map((function(t){return(t=De(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(r=Ae(t),(n=i.c).join(a)!==r.c.join(a)))for(o=(s=t.replace(Oe,"1").split(J)).length-1;h<o;h++)a+=s[h]+(~n.indexOf(h)?c.shift()||l+"0,0,0,0)":(r.length?r:c.length?c:i).shift());if(!s)for(o=(s=t.split(Oe)).length-1;h<o;h++)a+=s[h]+c[h];return a+s[o]},Oe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in ke)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Pe=/hsl[a]?\(/,Re=function(t){var e,i=t.join(" ");if(Oe.lastIndex=0,Oe.test(i))return e=Pe.test(i),t[1]=Me(t[1],e),t[0]=Me(t[0],e,Ae(t[1])),!0},Le=function(){var t,e,i,n,s,r,o=Date.now,a=500,c=33,l=o(),h=l,u=1e3/240,d=u,f=[],p=function i(p){var g,m,v,y,_=o()-h,w=!0===p;if((_>a||_<0)&&(l+=_-c),((g=(v=(h+=_)-l)-d)>0||w)&&(y=++n.frame,s=v-1e3*n.time,n.time=v/=1e3,d+=g+(g>=u?4:u-g),m=1),w||(t=e(i)),m)for(r=0;r<f.length;r++)f[r](v,s,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return s/(1e3/(t||60))},wake:function(){S&&(!E&&G()&&(T=E=window,C=T.document||{},nt.gsap=Ri,(T.gsapVersions||(T.gsapVersions=[])).push(Ri.version),rt(st||T.GreenSockGlobals||!T.gsap&&T||{}),Ee.forEach(Ce)),i="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&n.sleep(),e=i||function(t){return setTimeout(t,d-1e3*n.time+1|0)},D=1,p(2))},sleep:function(){(i?cancelAnimationFrame:clearTimeout)(t),D=0,e=lt},lagSmoothing:function(t,e){a=t||1/0,c=Math.min(e||33,a)},fps:function(t){u=1e3/(t||240),d=1e3*n.time+u},add:function(t,e,i){var s=e?function(e,i,r,o){t(e,i,r,o),n.remove(s)}:t;return n.remove(t),f[i?"unshift":"push"](s),Ne(),s},remove:function(t,e){~(e=f.indexOf(t))&&f.splice(e,1)&&r>=e&&r--},_listeners:f},n}(),Ne=function(){return!D&&Le.wake()},ze={},Fe=/^[\d.\-M][\d.\-,\s]/,Be=/["']/g,Ve=function(t){for(var e,i,n,s={},r=t.substr(1,t.length-3).split(":"),o=r[0],a=1,c=r.length;a<c;a++)i=r[a],e=a!==c-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),s[o]=isNaN(n)?n.replace(Be,"").trim():+n,o=i.substr(e+1).trim();return s},Ue=function(t){return function(e){return 1-t(1-e)}},je=function t(e,i){for(var n,s=e._first;s;)s instanceof Ye?t(s,i):!s.vars.yoyoEase||s._yoyo&&s._repeat||s._yoyo===i||(s.timeline?t(s.timeline,i):(n=s._ease,s._ease=s._yEase,s._yEase=n,s._yoyo=i)),s=s._next},qe=function(t,e){return t&&(U(t)?t:ze[t]||function(t){var e,i,n,s,r=(t+"").split("("),o=ze[r[0]];return o&&r.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Ve(r[1])]:(e=t,i=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",i),e.substring(i,~s&&s<n?e.indexOf(")",n+1):n)).split(",").map(Mt)):ze._CE&&Fe.test(t)?ze._CE("",t):o}(t))||e},$e=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var s,r={easeIn:e,easeOut:i,easeInOut:n};return Et(t,(function(t){for(var e in ze[t]=nt[t]=r,ze[s=t.toLowerCase()]=i,r)ze[s+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=ze[t+"."+e]=r[e]})),r},He=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ge=function t(e,i,n){var s=i>=1?i:1,r=(n||(e?.3:.45))/(i<1?i:1),o=r/R*(Math.asin(1/s)||0),a=function(t){return 1===t?1:s*Math.pow(2,-10*t)*B((t-o)*r)+1},c="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:He(a);return r=R/r,c.config=function(i,n){return t(e,i,n)},c},Xe=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},s="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:He(n);return s.config=function(i){return t(e,i)},s};Et("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;$e(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),ze.Linear.easeNone=ze.none=ze.Linear.easeIn,$e("Elastic",Ge("in"),Ge("out"),Ge()),function(t,e){var i=1/e,n=2*i,s=2.5*i,r=function(r){return r<i?t*r*r:r<n?t*Math.pow(r-1.5/e,2)+.75:r<s?t*(r-=2.25/e)*r+.9375:t*Math.pow(r-2.625/e,2)+.984375};$e("Bounce",(function(t){return 1-r(1-t)}),r)}(7.5625,2.75),$e("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),$e("Circ",(function(t){return-(z(1-t*t)-1)})),$e("Sine",(function(t){return 1===t?1:1-F(t*L)})),$e("Back",Xe("in"),Xe("out"),Xe()),ze.SteppedEase=ze.steps=nt.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),s=e?1:0;return function(t){return((n*ae(0,.99999999,t)|0)+s)*i}}},M.ease=ze["quad.out"],Et("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return wt+=t+","+t+"Params,"}));var Ke=function(t,e){this.id=N++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Tt,this.set=e?e.getSetter:di},We=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ee(this,+t.duration,1,1),this.data=t.data,b&&(this._ctx=b,b.data.push(this)),D||Le.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,ee(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ne(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Kt(this,t),!i._dp||i.parent||Wt(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Yt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===P||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),At(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+$t(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+$t(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Ht(this._tTime,i)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var i=this.parent&&this._ts?Gt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(ae(-Math.abs(this._delay),this._tDur,i),!1!==e),Xt(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ne(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==P&&(this._tTime-=P)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Yt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(H(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=dt);var e=w;return w=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),w=e,this},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,ie(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,ie(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(se(this,t),H(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,H(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-P))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(i){var n=U(t)?t:Ot,s=function(){var t=e.then;e.then=null,U(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?s():e._prom=s}))},e.kill=function(){Te(this)},t}();Pt(We.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ye=function(t){function e(e,i){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=H(e.sortChildren),x&&Yt(e.parent||x,v(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&Qt(v(n),e.scrollTrigger),n}y(e,t);var i=e.prototype;return i.to=function(t,e,i){return re(0,arguments,this),this},i.from=function(t,e,i){return re(1,arguments,this),this},i.fromTo=function(t,e,i,n){return re(2,arguments,this),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,zt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ai(t,e,se(this,i),1),this},i.call=function(t,e,i){return Yt(this,ai.delayedCall(0,t,e),i)},i.staggerTo=function(t,e,i,n,s,r,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=r,i.onCompleteParams=o,i.parent=this,new ai(t,i,se(this,s)),this},i.staggerFrom=function(t,e,i,n,s,r,o){return i.runBackwards=1,zt(i).immediateRender=H(i.immediateRender),this.staggerTo(t,e,i,n,s,r,o)},i.staggerFromTo=function(t,e,i,n,s,r,o,a){return n.startAt=i,zt(n).immediateRender=H(n.immediateRender),this.staggerTo(t,e,n,s,r,o,a)},i.render=function(t,e,i){var n,s,r,o,a,c,l,h,u,d,f,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=t<=0?0:St(t),_=this._zTime<0!=t<0&&(this._initted||!v);if(this!==x&&y>m&&t>=0&&(y=m),y!==this._tTime||i||_){if(g!==this._time&&v&&(y+=this._time-g,t+=this._time-g),n=y,u=this._start,c=!(h=this._ts),_&&(v||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,i);if(n=St(y%a),y===m?(o=this._repeat,n=v):((o=~~(y/a))&&o===y/a&&(n=v,o--),n>v&&(n=v)),d=Ht(this._tTime,a),!g&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(n=v-n,p=1),o!==d&&!this._lock){var b=f&&1&d,T=b===(f&&1&o);if(o<d&&(b=!b),g=b?0:y%v?v:y,this._lock=1,this.render(g||(p?0:St(o*a)),e,!v)._lock=0,this._tTime=y,!e&&this.parent&&xe(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,T&&(this._lock=2,g=b?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;je(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,St(g),St(n)),l&&(y-=n-(n=l._start))),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&!o&&(xe(this,"onStart"),this._tTime!==y))return this;if(n>=g&&t>=0)for(s=this._first;s;){if(r=s._next,(s._act||n>=s._start)&&s._ts&&l!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(n-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(n-s._start)*s._ts,e,i),n!==this._time||!this._ts&&!c){l=0,r&&(y+=this._zTime=-1e-8);break}}s=r}else{s=this._last;for(var E=t<0?t:n;s;){if(r=s._prev,(s._act||E<=s._end)&&s._ts&&l!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(E-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(E-s._start)*s._ts,e,i||w&&(s._initted||s._startAt)),n!==this._time||!this._ts&&!c){l=0,r&&(y+=this._zTime=E?-1e-8:P);break}}s=r}}if(l&&!e&&(this.pause(),l.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=u,Xt(this),this.render(t,e,i);this._onUpdate&&!e&&xe(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&g)&&(u!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!v)&&(y===m&&this._ts>0||!y&&this._ts<0)&&Vt(this,1),e||t<0&&!g||!y&&!g&&m||(xe(this,y===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(j(e)||(e=se(this,e,t)),!(t instanceof We)){if(W(t))return t.forEach((function(t){return i.add(t,e)})),this;if(V(t))return this.addLabel(t,e);if(!U(t))return this;t=ai.delayedCall(0,t)}return this!==t?Yt(this,t,e):this},i.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-O);for(var s=[],r=this._first;r;)r._start>=n&&(r instanceof ai?e&&s.push(r):(i&&s.push(r),t&&s.push.apply(s,r.getChildren(!0,e,i)))),r=r._next;return s},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return V(t)?this.removeLabel(t):U(t)?this.killTweensOf(t):(Bt(this,t),t===this._recent&&(this._recent=this._last),Ut(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=St(Le.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=se(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var n=ai.delayedCall(0,e||lt,i);return n.data="isPause",this._hasPause=1,Yt(this,n,se(this,t))},i.removePause=function(t){var e=this._first;for(t=se(this,t);e;)e._start===t&&"isPause"===e.data&&Vt(e),e=e._next},i.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),s=n.length;s--;)Qe!==n[s]&&n[s].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,n=[],s=ue(t),r=this._first,o=j(e);r;)r instanceof ai?It(r._targets,s)&&(o?(!Qe||r._initted&&r._ts)&&r.globalTime(0)<=e&&r.globalTime(r.totalDuration())>e:!e||r.isActive())&&n.push(r):(i=r.getTweensOf(s,e)).length&&n.push.apply(n,i),r=r._next;return n},i.tweenTo=function(t,e){e=e||{};var i,n=this,s=se(n,t),r=e,o=r.startAt,a=r.onStart,c=r.onStartParams,l=r.immediateRender,h=ai.to(n,Pt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:e.duration||Math.abs((s-(o&&"time"in o?o.time:n._time))/n.timeScale())||P,onStart:function(){if(n.pause(),!i){var t=e.duration||Math.abs((s-(o&&"time"in o?o.time:n._time))/n.timeScale());h._dur!==t&&ee(h,t,0,1).render(h._time,!0,!0),i=1}a&&a.apply(h,c||[])}},e));return l?h.render(0):h},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Pt({startAt:{time:se(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),be(this,se(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),be(this,se(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+P)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,s=this._first,r=this.labels;s;)s._start>=i&&(s._start+=t,s._end+=t),s=s._next;if(e)for(n in r)r[n]>=i&&(r[n]+=t);return Ut(this)},i.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ut(this)},i.totalDuration=function(t){var e,i,n,s=0,r=this,o=r._last,a=O;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-t:t));if(r._dirty){for(n=r.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(i=o._start)>a&&r._sort&&o._ts&&!r._lock?(r._lock=1,Yt(r,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(s-=i,(!n&&!r._dp||n&&n.smoothChildTiming)&&(r._start+=i/r._ts,r._time-=i,r._tTime-=i),r.shiftChildren(-i,!1,-Infinity),a=0),o._end>s&&o._ts&&(s=o._end),o=e;ee(r,r===x&&r._time>s?r._time:s,1,1),r._dirty=0}return r._tDur},e.updateRoot=function(t){if(x._ts&&(At(x,Gt(t,x)),k=Le.frame),Le.frame>=yt){yt+=A.autoSleep||120;var e=x._first;if((!e||!e._ts)&&A.autoSleep&&Le._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Le.sleep()}}},e}(We);Pt(Ye.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qe,Je,Ze=function(t,e,i,n,s,r,o){var a,c,l,h,u,d,f,p,g=new bi(this._pt,t,e,0,1,gi,null,s),m=0,v=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=_e(n)),r&&(r(p=[i,n],t,e),i=p[0],n=p[1]),c=i.match(Z)||[];a=Z.exec(n);)h=a[0],u=n.substring(m,a.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),h!==c[v++]&&(d=parseFloat(c[v-1])||0,g._pt={_next:g._pt,p:u||1===v?u:",",s:d,c:"="===h.charAt(1)?kt(d,h)-d:parseFloat(h)-d,m:l&&l<4?Math.round:0},m=Z.lastIndex);return g.c=m<n.length?n.substring(m,n.length):"",g.fp=o,(tt.test(n)||f)&&(g.e=0),this._pt=g,g},ti=function(t,e,i,n,s,r,o,a,c,l){U(n)&&(n=n(s||0,t,r));var h,u=t[e],d="get"!==i?i:U(u)?c?t[e.indexOf("set")||!U(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,f=U(u)?c?hi:li:ci;if(V(n)&&(~n.indexOf("random(")&&(n=_e(n)),"="===n.charAt(1)&&((h=kt(d,n)+(ce(d)||0))||0===h)&&(n=h)),!l||d!==n||Je)return isNaN(d*n)||""===n?(!u&&!(e in t)&&ot(e,n),Ze.call(this,t,e,d,n,f,a||A.stringFilter,c)):(h=new bi(this._pt,t,e,+d||0,n-(d||0),"boolean"==typeof u?pi:fi,0,f),c&&(h.fp=c),o&&h.modifier(o,this,t),this._pt=h)},ei=function(t,e,i,n,s,r){var o,a,c,l;if(mt[t]&&!1!==(o=new mt[t]).init(s,o.rawVars?e[t]:function(t,e,i,n,s){if(U(t)&&(t=si(t,s,e,i,n)),!$(t)||t.style&&t.nodeType||W(t)||K(t))return V(t)?si(t,s,e,i,n):t;var r,o={};for(r in t)o[r]=si(t[r],s,e,i,n);return o}(e[t],n,s,r,i),i,n,r)&&(i._pt=a=new bi(i._pt,s,t,0,1,o.render,o,0,o.priority),i!==I))for(c=i._ptLookup[i._targets.indexOf(s)],l=o._props.length;l--;)c[o._props[l]]=a;return o},ii=function t(e,i,n){var s,r,o,a,c,l,h,u,d,f,p,g,m,v=e.vars,y=v.ease,b=v.startAt,T=v.immediateRender,E=v.lazy,C=v.onUpdate,S=v.runBackwards,k=v.yoyoEase,I=v.keyframes,D=v.autoRevert,A=e._dur,R=e._startAt,L=e._targets,N=e.parent,z=N&&"nested"===N.data?N.vars.targets:L,F="auto"===e._overwrite&&!_,B=e.timeline;if(B&&(!I||!y)&&(y="none"),e._ease=qe(y,M.ease),e._yEase=k?Ue(qe(!0===k?y:k,M.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),e._from=!B&&!!v.runBackwards,!B||I&&!v.stagger){if(g=(u=L[0]?xt(L[0]).harness:0)&&v[u.prop],s=Nt(v,ft),R&&(R._zTime<0&&R.progress(1),i<0&&S&&T&&!D?R.render(-1,!0):R.revert(S&&A?ut:ht),R._lazy=0),b){if(Vt(e._startAt=ai.set(L,Pt({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!R&&H(E),startAt:null,delay:0,onUpdate:C&&function(){return xe(e,"onUpdate")},stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(w||!T&&!D)&&e._startAt.revert(ut),T&&A&&i<=0&&n<=0)return void(i&&(e._zTime=i))}else if(S&&A&&!R)if(i&&(T=!1),o=Pt({overwrite:!1,data:"isFromStart",lazy:T&&!R&&H(E),immediateRender:T,stagger:0,parent:N},s),g&&(o[u.prop]=g),Vt(e._startAt=ai.set(L,o)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(w?e._startAt.revert(ut):e._startAt.render(-1,!0)),e._zTime=i,T){if(!i)return}else t(e._startAt,P,P);for(e._pt=e._ptCache=0,E=A&&H(E)||E&&!A,r=0;r<L.length;r++){if(h=(c=L[r])._gsap||bt(L)[r]._gsap,e._ptLookup[r]=f={},gt[h.id]&&pt.length&&Dt(),p=z===L?r:z.indexOf(c),u&&!1!==(d=new u).init(c,g||s,e,p,z)&&(e._pt=a=new bi(e._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){f[t]=a})),d.priority&&(l=1)),!u||g)for(o in s)mt[o]&&(d=ei(o,s,e,p,c,z))?d.priority&&(l=1):f[o]=a=ti.call(e,c,o,"get",s[o],p,z,0,v.stringFilter);e._op&&e._op[r]&&e.kill(c,e._op[r]),F&&e._pt&&(Qe=e,x.killTweensOf(c,f,e.globalTime(i)),m=!e.parent,Qe=0),e._pt&&E&&(gt[h.id]=1)}l&&wi(e),e._onInit&&e._onInit(e)}e._onUpdate=C,e._initted=(!e._op||e._pt)&&!m,I&&i<=0&&B.render(O,!0,!0)},ni=function(t,e,i,n){var s,r,o=e.ease||n||"power1.inOut";if(W(e))r=i[t]||(i[t]=[]),e.forEach((function(t,i){return r.push({t:i/(e.length-1)*100,v:t,e:o})}));else for(s in e)r=i[s]||(i[s]=[]),"ease"===s||r.push({t:parseFloat(t),v:e[s],e:o})},si=function(t,e,i,n,s){return U(t)?t.call(e,i,n,s):V(t)&&~t.indexOf("random(")?_e(t):t},ri=wt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oi={};Et(ri+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return oi[t]=1}));var ai=function(t){function e(e,i,n,s){var r;"number"==typeof i&&(n.duration=i,i=n,n=null);var o,a,c,l,h,u,d,f,p=(r=t.call(this,s?i:zt(i))||this).vars,g=p.duration,m=p.delay,y=p.immediateRender,w=p.stagger,b=p.overwrite,T=p.keyframes,E=p.defaults,C=p.scrollTrigger,S=p.yoyoEase,k=i.parent||x,I=(W(e)||K(e)?j(e[0]):"length"in i)?[e]:ue(e);if(r._targets=I.length?bt(I):at("GSAP target "+e+" not found. https://gsap.com",!A.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=b,T||w||X(g)||X(m)){if(i=r.vars,(o=r.timeline=new Ye({data:"nested",defaults:E||{},targets:k&&"nested"===k.data?k.vars.targets:I})).kill(),o.parent=o._dp=v(r),o._start=0,w||X(g)||X(m)){if(l=I.length,d=w&&pe(w),$(w))for(h in w)~ri.indexOf(h)&&(f||(f={}),f[h]=w[h]);for(a=0;a<l;a++)(c=Nt(i,oi)).stagger=0,S&&(c.yoyoEase=S),f&&Rt(c,f),u=I[a],c.duration=+si(g,v(r),a,u,I),c.delay=(+si(m,v(r),a,u,I)||0)-r._delay,!w&&1===l&&c.delay&&(r._delay=m=c.delay,r._start+=m,c.delay=0),o.to(u,c,d?d(a,u,I):0),o._ease=ze.none;o.duration()?g=m=0:r.timeline=0}else if(T){zt(Pt(o.vars.defaults,{ease:"none"})),o._ease=qe(T.ease||i.ease||"none");var D,M,O,P=0;if(W(T))T.forEach((function(t){return o.to(I,t,">")})),o.duration();else{for(h in c={},T)"ease"===h||"easeEach"===h||ni(h,T[h],c,T.easeEach);for(h in c)for(D=c[h].sort((function(t,e){return t.t-e.t})),P=0,a=0;a<D.length;a++)(O={ease:(M=D[a]).e,duration:(M.t-(a?D[a-1].t:0))/100*g})[h]=M.v,o.to(I,O,P),P+=O.duration;o.duration()<g&&o.to({},{duration:g-o.duration()})}}g||r.duration(g=o.duration())}else r.timeline=0;return!0!==b||_||(Qe=v(r),x.killTweensOf(I),Qe=0),Yt(k,v(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),(y||!g&&!T&&r._start===St(k._time)&&H(y)&&qt(v(r))&&"nested"!==k.data)&&(r._tTime=-1e-8,r.render(Math.max(0,-m)||0)),C&&Qt(v(r),C),r}y(e,t);var i=e.prototype;return i.render=function(t,e,i){var n,s,r,o,a,c,l,h,u,d=this._time,f=this._tDur,p=this._dur,g=t<0,m=t>f-P&&!g?f:t<P?0:t;if(p){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(n=m,h=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+t,e,i);if(n=St(m%o),m===f?(r=this._repeat,n=p):((r=~~(m/o))&&r===St(m/o)&&(n=p,r--),n>p&&(n=p)),(c=this._yoyo&&1&r)&&(u=this._yEase,n=p-n),a=Ht(this._tTime,o),n===d&&!i&&this._initted&&r===a)return this._tTime=m,this;r!==a&&(h&&this._yEase&&je(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==o&&this._initted&&(this._lock=i=1,this.render(St(o*r),!0).invalidate()._lock=0))}if(!this._initted){if(Jt(this,g?t:n,i,e,m))return this._tTime=0,this;if(!(d===this._time||i&&this.vars.repeatRefresh&&r!==a))return this;if(p!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(u||this._ease)(n/p),this._from&&(this.ratio=l=1-l),n&&!d&&!e&&!r&&(xe(this,"onStart"),this._tTime!==m))return this;for(s=this._pt;s;)s.r(l,s.d),s=s._next;h&&h.render(t<0?t:h._dur*h._ease(n/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&jt(this,t,0,i),xe(this,"onUpdate")),this._repeat&&r!==a&&this.vars.onRepeat&&!e&&this.parent&&xe(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&jt(this,t,0,!0),(t||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Vt(this,1),e||g&&!d||!(m||d||c)||(xe(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,n){var s,r,o,a=t.ratio,c=e<0||!e&&(!t._start&&Zt(t)&&(t._initted||!te(t))||(t._ts<0||t._dp._ts<0)&&!te(t))?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=ae(0,t._tDur,e),r=Ht(h,l),t._yoyo&&1&r&&(c=1-c),r!==Ht(t._tTime,l)&&(a=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==a||w||n||t._zTime===P||!e&&t._zTime){if(!t._initted&&Jt(t,e,n,i,h))return;for(o=t._zTime,t._zTime=e||(i?P:0),i||(i=e&&!o),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,s=t._pt;s;)s.r(c,s.d),s=s._next;e<0&&jt(t,e,0,!0),t._onUpdate&&!i&&xe(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&xe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Vt(t,1),i||w||(xe(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},i.resetTo=function(t,e,i,n,s){D||Le.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ii(this,r),function(t,e,i,n,s,r,o,a){var c,l,h,u,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],h=t._ptLookup,u=t._targets.length;u--;){if((c=h[u][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return Je=1,t.vars[e]="+=0",ii(t,o),Je=0,a?at(e+" not eligible for reset"):1;d.push(c)}for(u=d.length;u--;)(c=(l=d[u])._pt||l).s=!n&&0!==n||s?c.s+(n||0)+r*c.c:n,c.c=i-c.s,l.e&&(l.e=Ct(i)+ce(l.e)),l.b&&(l.b=c.s+ce(l.b))}(this,t,e,i,n,this._ease(r/this._dur),r,s)?this.resetTo(t,e,i,n,1):(Kt(this,0),this.parent||Ft(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Te(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Qe&&!0!==Qe.vars.overwrite)._first||Te(this),this.parent&&i!==this.timeline.totalDuration()&&ee(this,this._dur*this.timeline._tDur/i,0,1),this}var n,s,r,o,a,c,l,h=this._targets,u=t?ue(t):h,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(h,u))return"all"===e&&(this._pt=0),Te(this);for(n=this._op=this._op||[],"all"!==e&&(V(e)&&(a={},Et(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var i,n,s,r,o=t[0]?xt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in i=Rt({},e),a)if(n in i)for(s=(r=a[n].split(",")).length;s--;)i[r[s]]=i[n];return i}(h,e)),l=h.length;l--;)if(~u.indexOf(h[l]))for(a in s=d[l],"all"===e?(n[l]=e,o=s,r={}):(r=n[l]=n[l]||{},o=e),o)(c=s&&s[a])&&("kill"in c.d&&!0!==c.d.kill(a)||Bt(this,c,"_pt"),delete s[a]),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&f&&Te(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,e){return re(1,arguments)},e.delayedCall=function(t,i,n,s){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:s})},e.fromTo=function(t,e,i){return re(2,arguments)},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return x.killTweensOf(t,e,i)},e}(We);Pt(ai.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Et("staggerTo,staggerFrom,staggerFromTo",(function(t){ai[t]=function(){var e=new Ye,i=le.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var ci=function(t,e,i){return t[e]=i},li=function(t,e,i){return t[e](i)},hi=function(t,e,i,n){return t[e](n.fp,i)},ui=function(t,e,i){return t.setAttribute(e,i)},di=function(t,e){return U(t[e])?li:q(t[e])&&t.setAttribute?ui:ci},fi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},pi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},gi=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},mi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},vi=function(t,e,i,n){for(var s,r=this._pt;r;)s=r._next,r.p===n&&r.modifier(t,e,i),r=s},yi=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?Bt(this,n,"_pt"):n.dep||(e=1),n=i;return!e},_i=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},wi=function(t){for(var e,i,n,s,r=t._pt;r;){for(e=r._next,i=n;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:s)?r._prev._next=r:n=r,(r._next=i)?i._prev=r:s=r,r=e}t._pt=n},bi=function(){function t(t,e,i,n,s,r,o,a,c){this.t=e,this.s=n,this.c=s,this.p=i,this.r=r||fi,this.d=o||this,this.set=a||ci,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=_i,this.m=t,this.mt=i,this.tween=e},t}();Et(wt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ft[t]=1})),nt.TweenMax=nt.TweenLite=ai,nt.TimelineLite=nt.TimelineMax=Ye,x=new Ye({sortChildren:!1,defaults:M,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),A.stringFilter=Re;var xi=[],Ti={},Ei=[],Ci=0,Si=0,ki=function(t){return(Ti[t]||Ei).map((function(t){return t()}))},Ii=function(){var t=Date.now(),e=[];t-Ci>2&&(ki("matchMediaInit"),xi.forEach((function(t){var i,n,s,r,o=t.queries,a=t.conditions;for(n in o)(i=T.matchMedia(o[n]).matches)&&(s=1),i!==a[n]&&(a[n]=i,r=1);r&&(t.revert(),s&&e.push(t))})),ki("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Ci=t,ki("matchMedia"))},Di=function(){function t(t,e){this.selector=e&&de(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Si++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,i){U(t)&&(i=e,e=t,t=U);var n=this,s=function(){var t,s=b,r=n.selector;return s&&s!==n&&s.data.push(n),i&&(n.selector=de(i)),b=n,t=e.apply(n,arguments),U(t)&&n._r.push(t),b=s,n.selector=r,n.isReverted=!1,t};return n.last=s,t===U?s(n,(function(t){return n.add(null,t)})):t?n[t]=s:s},e.ignore=function(t){var e=b;b=null,t(this),b=e},e.getTweens=function(){var e=[];return this.data.forEach((function(i){return i instanceof t?e.push.apply(e,i.getTweens()):i instanceof ai&&!(i.parent&&"nested"===i.parent.data)&&e.push(i)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var i=this;if(t?function(){for(var e,n=i.getTweens(),s=i.data.length;s--;)"isFlip"===(e=i.data[s]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),s=i.data.length;s--;)(e=i.data[s])instanceof Ye?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof ai)&&e.revert&&e.revert(t);i._r.forEach((function(e){return e(t,i)})),i.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=xi.length;n--;)xi[n].id===this.id&&xi.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),Ai=function(){function t(t){this.contexts=[],this.scope=t,b&&b.data.push(this)}var e=t.prototype;return e.add=function(t,e,i){$(t)||(t={matches:t});var n,s,r,o=new Di(0,i||this.scope),a=o.conditions={};for(s in b&&!o.selector&&(o.selector=b.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t,t)"all"===s?r=1:(n=T.matchMedia(t[s]))&&(xi.indexOf(o)<0&&xi.push(o),(a[s]=n.matches)&&(r=1),n.addListener?n.addListener(Ii):n.addEventListener("change",Ii));return r&&e(o,(function(t){return o.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Mi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return Ce(t)}))},timeline:function(t){return new Ye(t)},getTweensOf:function(t,e){return x.getTweensOf(t,e)},getProperty:function(t,e,i,n){V(t)&&(t=ue(t)[0]);var s=xt(t||{}).get,r=i?Ot:Mt;return"native"===i&&(i=""),t?e?r((mt[e]&&mt[e].get||s)(t,e,i,n)):function(e,i,n){return r((mt[e]&&mt[e].get||s)(t,e,i,n))}:t},quickSetter:function(t,e,i){if((t=ue(t)).length>1){var n=t.map((function(t){return Ri.quickSetter(t,e,i)})),s=n.length;return function(t){for(var e=s;e--;)n[e](t)}}t=t[0]||{};var r=mt[e],o=xt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,c=r?function(e){var n=new r;I._pt=0,n.init(t,i?e+i:e,I,0,[t]),n.render(1,n),I._pt&&mi(1,I)}:o.set(t,a);return r?c:function(e){return c(t,a,i?e+i:e,o,1)}},quickTo:function(t,e,i){var n,s=Ri.to(t,Rt(((n={})[e]="+=0.1",n.paused=!0,n),i||{})),r=function(t,i,n){return s.resetTo(e,t,i,n)};return r.tween=s,r},isTweening:function(t){return x.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=qe(t.ease,M.ease)),Lt(M,t||{})},config:function(t){return Lt(A,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,s=t.defaults,r=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!mt[t]&&!nt[t]&&at(e+" effect requires "+t+" plugin.")})),vt[e]=function(t,e,n){return i(ue(t),Pt(e||{},s),n)},r&&(Ye.prototype[e]=function(t,i,n){return this.add(vt[e](t,$(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){ze[t]=qe(e)},parseEase:function(t,e){return arguments.length?qe(t,e):ze},getById:function(t){return x.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,s=new Ye(t);for(s.smoothChildTiming=H(t.smoothChildTiming),x.remove(s),s._dp=0,s._time=s._tTime=x._time,i=x._first;i;)n=i._next,!e&&!i._dur&&i instanceof ai&&i.vars.onComplete===i._targets[0]||Yt(s,i,i._start-i._delay),i=n;return Yt(x,s,0),s},context:function(t,e){return t?new Di(t,e):b},matchMedia:function(t){return new Ai(t)},matchMediaRefresh:function(){return xi.forEach((function(t){var e,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,e=1);e&&t.revert()}))||Ii()},addEventListener:function(t,e){var i=Ti[t]||(Ti[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ti[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:function t(e,i,n){var s=i-e;return W(e)?ye(e,t(0,e.length),i):oe(n,(function(t){return(s+(t-e)%s)%s+e}))},wrapYoyo:function t(e,i,n){var s=i-e,r=2*s;return W(e)?ye(e,t(0,e.length-1),i):oe(n,(function(t){return e+((t=(r+(t-e)%r)%r||0)>s?r-t:t)}))},distribute:pe,random:ve,snap:me,normalize:function(t,e,i){return we(t,e,0,1,i)},getUnit:ce,clamp:function(t,e,i){return oe(i,(function(i){return ae(t,e,i)}))},splitColor:De,toArray:ue,selector:de,mapRange:we,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ce(i))}},interpolate:function t(e,i,n,s){var r=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!r){var o,a,c,l,h,u=V(e),d={};if(!0===n&&(s=1)&&(n=null),u)e={p:e},i={p:i};else if(W(e)&&!W(i)){for(c=[],l=e.length,h=l-2,a=1;a<l;a++)c.push(t(e[a-1],e[a]));l--,r=function(t){t*=l;var e=Math.min(h,~~t);return c[e](t-e)},n=i}else s||(e=Rt(W(e)?[]:{},e));if(!c){for(o in i)ti.call(d,e,o,"get",i[o]);r=function(t){return mi(t,d)||(u?e.p:e)}}}return oe(n,r)},shuffle:fe},install:rt,effects:vt,ticker:Le,updateRoot:Ye.updateRoot,plugins:mt,globalTimeline:x,core:{PropTween:bi,globals:ct,Tween:ai,Timeline:Ye,Animation:We,getCache:xt,_removeLinkedListItem:Bt,reverting:function(){return w},context:function(t){return t&&b&&(b.data.push(t),t._ctx=b),b},suppressOverwrites:function(t){return _=t}}};Et("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Mi[t]=ai[t]})),Le.add(Ye.updateRoot),I=Mi.to({},{duration:0});var Oi=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Pi=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,s;if(V(i)&&(n={},Et(i,(function(t){return n[t]=1})),i=n),e){for(s in n={},i)n[s]=e(i[s]);i=n}!function(t,e){var i,n,s,r=t._targets;for(i in e)for(n=r.length;n--;)(s=t._ptLookup[n][i])&&(s=s.d)&&(s._pt&&(s=Oi(s,i)),s&&s.modifier&&s.modifier(e[i],t,r[n],i))}(t,i)}}}},Ri=Mi.registerPlugin({name:"attr",init:function(t,e,i,n,s){var r,o,a;for(r in this.tween=i,e)a=t.getAttribute(r)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[r],n,s,0,0,r)).op=r,o.b=a,this._props.push(r)},render:function(t,e){for(var i=e._pt;i;)w?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Pi("roundProps",ge),Pi("modifiers"),Pi("snap",me))||Mi;ai.version=Ye.version=Ri.version="3.12.5",S=1,G()&&Ne(),ze.Power0,ze.Power1,ze.Power2,ze.Power3,ze.Power4,ze.Linear,ze.Quad,ze.Cubic,ze.Quart,ze.Quint,ze.Strong,ze.Elastic,ze.Back,ze.SteppedEase,ze.Bounce,ze.Sine,ze.Expo,ze.Circ;var Li,Ni,zi,Fi,Bi,Vi,Ui,ji,qi={},$i=180/Math.PI,Hi=Math.PI/180,Gi=Math.atan2,Xi=/([A-Z])/g,Ki=/(left|right|width|margin|padding|x)/i,Wi=/[\s,\(]\S/,Yi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ji=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Zi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},tn=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},en=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},nn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},sn=function(t,e,i){return t.style[e]=i},rn=function(t,e,i){return t.style.setProperty(e,i)},on=function(t,e,i){return t._gsap[e]=i},an=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},cn=function(t,e,i,n,s){var r=t._gsap;r.scaleX=r.scaleY=i,r.renderTransform(s,r)},ln=function(t,e,i,n,s){var r=t._gsap;r[e]=i,r.renderTransform(s,r)},hn="transform",un=hn+"Origin",dn=function t(e,i){var n=this,s=this.target,r=s.style,o=s._gsap;if(e in qi&&r){if(this.tfm=this.tfm||{},"transform"===e)return Yi.transform.split(",").forEach((function(e){return t.call(n,e,i)}));if(~(e=Yi[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=An(s,t)})):this.tfm[e]=o.x?o[e]:An(s,e),e===un&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(hn)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(un,i,"")),e=hn}(r||i)&&this.props.push(e,i,r[e])},fn=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},pn=function(){var t,e,i=this.props,n=this.target,s=n.style,r=n._gsap;for(t=0;t<i.length;t+=3)i[t+1]?n[i[t]]=i[t+2]:i[t+2]?s[i[t]]=i[t+2]:s.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(Xi,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)r[e]=this.tfm[e];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=Ui())&&t.isStart||s[hn]||(fn(s),r.zOrigin&&s[un]&&(s[un]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},gn=function(t,e){var i={target:t,props:[],revert:pn,save:dn};return t._gsap||Ri.core.getCache(t),e&&e.split(",").forEach((function(t){return i.save(t)})),i},mn=function(t,e){var i=Ni.createElementNS?Ni.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ni.createElement(t);return i&&i.style?i:Ni.createElement(t)},vn=function t(e,i,n){var s=getComputedStyle(e);return s[i]||s.getPropertyValue(i.replace(Xi,"-$1").toLowerCase())||s.getPropertyValue(i)||!n&&t(e,_n(i)||i,1)||""},yn="O,Moz,ms,Ms,Webkit".split(","),_n=function(t,e,i){var n=(e||Bi).style,s=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(yn[s]+t in n););return s<0?null:(3===s?"ms":s>=0?yn[s]:"")+t},wn=function(){"undefined"!=typeof window&&window.document&&(Li=window,Ni=Li.document,zi=Ni.documentElement,Bi=mn("div")||{style:{}},mn("div"),hn=_n(hn),un=hn+"Origin",Bi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ji=!!_n("perspective"),Ui=Ri.core.reverting,Fi=1)},bn=function t(e){var i,n=mn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(zi.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return s&&(r?s.insertBefore(this,r):s.appendChild(this)),zi.removeChild(n),this.style.cssText=o,i},xn=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Tn=function(t){var e;try{e=t.getBBox()}catch(i){e=bn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===bn||(e=bn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+xn(t,["x","cx","x1"])||0,y:+xn(t,["y","cy","y1"])||0,width:0,height:0}},En=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Tn(t))},Cn=function(t,e){if(e){var i,n=t.style;e in qi&&e!==un&&(e=hn),n.removeProperty?("ms"!==(i=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===i?e:e.replace(Xi,"-$1").toLowerCase())):n.removeAttribute(e)}},Sn=function(t,e,i,n,s,r){var o=new bi(t._pt,e,i,0,1,r?nn:en);return t._pt=o,o.b=n,o.e=s,t._props.push(i),o},kn={deg:1,rad:1,turn:1},In={grid:1,flex:1},Dn=function t(e,i,n,s){var r,o,a,c,l=parseFloat(n)||0,h=(n+"").trim().substr((l+"").length)||"px",u=Bi.style,d=Ki.test(i),f="svg"===e.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===s,v="%"===s;if(s===h||!l||kn[s]||kn[h])return l;if("px"!==h&&!m&&(l=t(e,i,n,"px")),c=e.getCTM&&En(e),(v||"%"===h)&&(qi[i]||~i.indexOf("adius")))return r=c?e.getBBox()[d?"width":"height"]:e[p],Ct(v?l/r*g:l/100*r);if(u[d?"width":"height"]=g+(m?h:s),o=~i.indexOf("adius")||"em"===s&&e.appendChild&&!f?e:e.parentNode,c&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==Ni&&o.appendChild||(o=Ni.body),(a=o._gsap)&&v&&a.width&&d&&a.time===Le.time&&!a.uncache)return Ct(l/a.width*g);if(!v||"height"!==i&&"width"!==i)(v||"%"===h)&&!In[vn(o,"display")]&&(u.position=vn(e,"position")),o===e&&(u.position="static"),o.appendChild(Bi),r=Bi[p],o.removeChild(Bi),u.position="absolute";else{var y=e.style[i];e.style[i]=g+s,r=e[p],y?e.style[i]=y:Cn(e,i)}return d&&v&&((a=xt(o)).time=Le.time,a.width=o[p]),Ct(m?r*l/g:r&&l?g/r*l:0)},An=function(t,e,i,n){var s;return Fi||wn(),e in Yi&&"transform"!==e&&~(e=Yi[e]).indexOf(",")&&(e=e.split(",")[0]),qi[e]&&"transform"!==e?(s=Un(t,n),s="transformOrigin"!==e?s[e]:s.svg?s.origin:jn(vn(t,un))+" "+s.zOrigin+"px"):(!(s=t.style[e])||"auto"===s||n||~(s+"").indexOf("calc("))&&(s=Rn[e]&&Rn[e](t,e,i)||vn(t,e)||Tt(t,e)||("opacity"===e?1:0)),i&&!~(s+"").trim().indexOf(" ")?Dn(t,e,s,i)+i:s},Mn=function(t,e,i,n){if(!i||"none"===i){var s=_n(e,t,1),r=s&&vn(t,s,1);r&&r!==i?(e=s,i=r):"borderColor"===e&&(i=vn(t,"borderTopColor"))}var o,a,c,l,h,u,d,f,p,g,m,v=new bi(this._pt,t.style,e,0,1,gi),y=0,_=0;if(v.b=i,v.e=n,i+="","auto"==(n+="")&&(u=t.style[e],t.style[e]=n,n=vn(t,e)||n,u?t.style[e]=u:Cn(t,e)),Re(o=[i,n]),n=o[1],c=(i=o[0]).match(J)||[],(n.match(J)||[]).length){for(;a=J.exec(n);)d=a[0],p=n.substring(y,a.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),d!==(u=c[_++]||"")&&(l=parseFloat(u)||0,m=u.substr((l+"").length),"="===d.charAt(1)&&(d=kt(l,d)+m),f=parseFloat(d),g=d.substr((f+"").length),y=J.lastIndex-g.length,g||(g=g||A.units[e]||m,y===n.length&&(n+=g,v.e+=g)),m!==g&&(l=Dn(t,e,u,g)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:l,c:f-l,m:h&&h<4||"zIndex"===e?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===e&&"none"===n?nn:en;return tt.test(n)&&(v.e=0),this._pt=v,v},On={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Pn=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,s,r=e.t,o=r.style,a=e.u,c=r._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(s=(a=a.split(",")).length;--s>-1;)i=a[s],qi[i]&&(n=1,i="transformOrigin"===i?un:hn),Cn(r,i);n&&(Cn(r,hn),c&&(c.svg&&r.removeAttribute("transform"),Un(r,1),c.uncache=1,fn(o)))}},Rn={clearProps:function(t,e,i,n,s){if("isFromStart"!==s.data){var r=t._pt=new bi(t._pt,e,i,0,0,Pn);return r.u=n,r.pr=-10,r.tween=s,t._props.push(i),1}}},Ln=[1,0,0,1,0,0],Nn={},zn=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Fn=function(t){var e=vn(t,hn);return zn(e)?Ln:e.substr(7).match(Q).map(Ct)},Bn=function(t,e){var i,n,s,r,o=t._gsap||xt(t),a=t.style,c=Fn(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(s=t.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?Ln:c:(c!==Ln||t.offsetParent||t===zi||o.svg||(s=a.display,a.display="block",(i=t.parentNode)&&t.offsetParent||(r=1,n=t.nextElementSibling,zi.appendChild(t)),c=Fn(t),s?a.display=s:Cn(t,"display"),r&&(n?i.insertBefore(t,n):i?i.appendChild(t):zi.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Vn=function(t,e,i,n,s,r){var o,a,c,l=t._gsap,h=s||Bn(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,g=h[0],m=h[1],v=h[2],y=h[3],_=h[4],w=h[5],b=e.split(" "),x=parseFloat(b[0])||0,T=parseFloat(b[1])||0;i?h!==Ln&&(a=g*y-m*v)&&(c=x*(-m/a)+T*(g/a)-(g*w-m*_)/a,x=x*(y/a)+T*(-v/a)+(v*w-y*_)/a,T=c):(x=(o=Tn(t)).x+(~b[0].indexOf("%")?x/100*o.width:x),T=o.y+(~(b[1]||b[0]).indexOf("%")?T/100*o.height:T)),n||!1!==n&&l.smooth?(_=x-u,w=T-d,l.xOffset=f+(_*g+w*v)-_,l.yOffset=p+(_*m+w*y)-w):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=T,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!i,t.style[un]="0px 0px",r&&(Sn(r,l,"xOrigin",u,x),Sn(r,l,"yOrigin",d,T),Sn(r,l,"xOffset",f,l.xOffset),Sn(r,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+T)},Un=function(t,e){var i=t._gsap||new Ke(t);if("x"in i&&!e&&!i.uncache)return i;var n,s,r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b,x,T,E,C,S,k,I,D,M,O,P,R,L,N=t.style,z=i.scaleX<0,F="px",B="deg",V=getComputedStyle(t),U=vn(t,un)||"0";return n=s=r=c=l=h=u=d=f=0,o=a=1,i.svg=!(!t.getCTM||!En(t)),V.translate&&("none"===V.translate&&"none"===V.scale&&"none"===V.rotate||(N[hn]=("none"!==V.translate?"translate3d("+(V.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==V.rotate?"rotate("+V.rotate+") ":"")+("none"!==V.scale?"scale("+V.scale.split(" ").join(",")+") ":"")+("none"!==V[hn]?V[hn]:"")),N.scale=N.rotate=N.translate="none"),m=Bn(t,i.svg),i.svg&&(i.uncache?(k=t.getBBox(),U=i.xOrigin-k.x+"px "+(i.yOrigin-k.y)+"px",S=""):S=!e&&t.getAttribute("data-svg-origin"),Vn(t,S||U,!!S||i.originIsAbsolute,!1!==i.smooth,m)),p=i.xOrigin||0,g=i.yOrigin||0,m!==Ln&&(w=m[0],b=m[1],x=m[2],T=m[3],n=E=m[4],s=C=m[5],6===m.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(T*T+x*x),c=w||b?Gi(b,w)*$i:0,(u=x||T?Gi(x,T)*$i+c:0)&&(a*=Math.abs(Math.cos(u*Hi))),i.svg&&(n-=p-(p*w+g*x),s-=g-(p*b+g*T))):(L=m[6],P=m[7],D=m[8],M=m[9],O=m[10],R=m[11],n=m[12],s=m[13],r=m[14],l=(v=Gi(L,O))*$i,v&&(S=E*(y=Math.cos(-v))+D*(_=Math.sin(-v)),k=C*y+M*_,I=L*y+O*_,D=E*-_+D*y,M=C*-_+M*y,O=L*-_+O*y,R=P*-_+R*y,E=S,C=k,L=I),h=(v=Gi(-x,O))*$i,v&&(y=Math.cos(-v),R=T*(_=Math.sin(-v))+R*y,w=S=w*y-D*_,b=k=b*y-M*_,x=I=x*y-O*_),c=(v=Gi(b,w))*$i,v&&(S=w*(y=Math.cos(v))+b*(_=Math.sin(v)),k=E*y+C*_,b=b*y-w*_,C=C*y-E*_,w=S,E=k),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,h=180-h),o=Ct(Math.sqrt(w*w+b*b+x*x)),a=Ct(Math.sqrt(C*C+L*L)),v=Gi(E,C),u=Math.abs(v)>2e-4?v*$i:0,f=R?1/(R<0?-R:R):0),i.svg&&(S=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!zn(vn(t,hn)),S&&t.setAttribute("transform",S))),Math.abs(u)>90&&Math.abs(u)<270&&(z?(o*=-1,u+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),e=e||i.uncache,i.x=n-((i.xPercent=n&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+F,i.y=s-((i.yPercent=s&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-s)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+F,i.z=r+F,i.scaleX=Ct(o),i.scaleY=Ct(a),i.rotation=Ct(c)+B,i.rotationX=Ct(l)+B,i.rotationY=Ct(h)+B,i.skewX=u+B,i.skewY=d+B,i.transformPerspective=f+F,(i.zOrigin=parseFloat(U.split(" ")[2])||!e&&i.zOrigin||0)&&(N[un]=jn(U)),i.xOffset=i.yOffset=0,i.force3D=A.force3D,i.renderTransform=i.svg?Wn:ji?Kn:$n,i.uncache=0,i},jn=function(t){return(t=t.split(" "))[0]+" "+t[1]},qn=function(t,e,i){var n=ce(e);return Ct(parseFloat(e)+parseFloat(Dn(t,"x",i+"px",n)))+n},$n=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Kn(t,e)},Hn="0deg",Gn="0px",Xn=") ",Kn=function(t,e){var i=e||this,n=i.xPercent,s=i.yPercent,r=i.x,o=i.y,a=i.z,c=i.rotation,l=i.rotationY,h=i.rotationX,u=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,m=i.force3D,v=i.target,y=i.zOrigin,_="",w="auto"===m&&t&&1!==t||!0===m;if(y&&(h!==Hn||l!==Hn)){var b,x=parseFloat(l)*Hi,T=Math.sin(x),E=Math.cos(x);x=parseFloat(h)*Hi,b=Math.cos(x),r=qn(v,r,T*b*-y),o=qn(v,o,-Math.sin(x)*-y),a=qn(v,a,E*b*-y+y)}g!==Gn&&(_+="perspective("+g+Xn),(n||s)&&(_+="translate("+n+"%, "+s+"%) "),(w||r!==Gn||o!==Gn||a!==Gn)&&(_+=a!==Gn||w?"translate3d("+r+", "+o+", "+a+") ":"translate("+r+", "+o+Xn),c!==Hn&&(_+="rotate("+c+Xn),l!==Hn&&(_+="rotateY("+l+Xn),h!==Hn&&(_+="rotateX("+h+Xn),u===Hn&&d===Hn||(_+="skew("+u+", "+d+Xn),1===f&&1===p||(_+="scale("+f+", "+p+Xn),v.style[hn]=_||"translate(0, 0)"},Wn=function(t,e){var i,n,s,r,o,a=e||this,c=a.xPercent,l=a.yPercent,h=a.x,u=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,w=a.xOffset,b=a.yOffset,x=a.forceCSS,T=parseFloat(h),E=parseFloat(u);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Hi,f*=Hi,i=Math.cos(d)*g,n=Math.sin(d)*g,s=Math.sin(d-f)*-m,r=Math.cos(d-f)*m,f&&(p*=Hi,o=Math.tan(f-p),s*=o=Math.sqrt(1+o*o),r*=o,p&&(o=Math.tan(p),i*=o=Math.sqrt(1+o*o),n*=o)),i=Ct(i),n=Ct(n),s=Ct(s),r=Ct(r)):(i=g,r=m,n=s=0),(T&&!~(h+"").indexOf("px")||E&&!~(u+"").indexOf("px"))&&(T=Dn(v,"x",h,"px"),E=Dn(v,"y",u,"px")),(y||_||w||b)&&(T=Ct(T+y-(y*i+_*s)+w),E=Ct(E+_-(y*n+_*r)+b)),(c||l)&&(o=v.getBBox(),T=Ct(T+c/100*o.width),E=Ct(E+l/100*o.height)),o="matrix("+i+","+n+","+s+","+r+","+T+","+E+")",v.setAttribute("transform",o),x&&(v.style[hn]=o)},Yn=function(t,e,i,n,s){var r,o,a=360,c=V(s),l=parseFloat(s)*(c&&~s.indexOf("rad")?$i:1)-n,h=n+l+"deg";return c&&("short"===(r=s.split("_")[1])&&(l%=a)!=l%180&&(l+=l<0?a:-360),"cw"===r&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===r&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),t._pt=o=new bi(t._pt,e,i,n,l,Ji),o.e=h,o.u="deg",t._props.push(i),o},Qn=function(t,e){for(var i in e)t[i]=e[i];return t},Jn=function(t,e,i){var n,s,r,o,a,c,l,h=Qn({},i._gsap),u=i.style;for(s in h.svg?(r=i.getAttribute("transform"),i.setAttribute("transform",""),u[hn]=e,n=Un(i,1),Cn(i,hn),i.setAttribute("transform",r)):(r=getComputedStyle(i)[hn],u[hn]=e,n=Un(i,1),u[hn]=r),qi)(r=h[s])!==(o=n[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(a=ce(r)!==(l=ce(o))?Dn(i,s,r,l):parseFloat(r),c=parseFloat(o),t._pt=new bi(t._pt,n,s,a,c-a,Qi),t._pt.u=l||0,t._props.push(s));Qn(n,h)};Et("padding,margin,Width,Radius",(function(t,e){var i="Top",n="Right",s="Bottom",r="Left",o=(e<3?[i,n,s,r]:[i+r,i+n,s+n,s+r]).map((function(i){return e<2?t+i:"border"+i+t}));Rn[e>1?"border"+t:t]=function(t,e,i,n,s){var r,a;if(arguments.length<4)return r=o.map((function(e){return An(t,e,i)})),5===(a=r.join(" ")).split(r[0]).length?r[0]:a;r=(n+"").split(" "),a={},o.forEach((function(t,e){return a[t]=r[e]=r[e]||r[(e-1)/2|0]})),t.init(e,a,s)}}));var Zn,ts,es={name:"css",register:wn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,s){var r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b,x,T,E,C=this._props,S=t.style,k=i.vars.startAt;for(u in Fi||wn(),this.styles=this.styles||gn(t),w=this.styles.props,this.tween=i,e)if("autoRound"!==u&&(o=e[u],!mt[u]||!ei(u,e,i,n,t,s)))if(l=typeof o,h=Rn[u],"function"===l&&(l=typeof(o=o.call(i,n,t,s))),"string"===l&&~o.indexOf("random(")&&(o=_e(o)),h)h(this,t,u,o,i)&&(_=1);else if("--"===u.substr(0,2))r=(getComputedStyle(t).getPropertyValue(u)+"").trim(),o+="",Oe.lastIndex=0,Oe.test(r)||(d=ce(r),f=ce(o)),f?d!==f&&(r=Dn(t,u,r,f)+f):d&&(o+=d),this.add(S,"setProperty",r,o,n,s,0,0,u),C.push(u),w.push(u,0,S[u]);else if("undefined"!==l){if(k&&u in k?(r="function"==typeof k[u]?k[u].call(i,n,t,s):k[u],V(r)&&~r.indexOf("random(")&&(r=_e(r)),ce(r+"")||"auto"===r||(r+=A.units[u]||ce(An(t,u))||""),"="===(r+"").charAt(1)&&(r=An(t,u))):r=An(t,u),c=parseFloat(r),(p="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),u in Yi&&("autoAlpha"===u&&(1===c&&"hidden"===An(t,"visibility")&&a&&(c=0),w.push("visibility",0,S.visibility),Sn(this,S,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==u&&"transform"!==u&&~(u=Yi[u]).indexOf(",")&&(u=u.split(",")[0])),g=u in qi)if(this.styles.save(u),m||((v=t._gsap).renderTransform&&!e.parseTransform||Un(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new bi(this._pt,S,hn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===u)this._pt=new bi(this._pt,v,"scaleY",v.scaleY,(p?kt(v.scaleY,p+a):a)-v.scaleY||0,Qi),this._pt.u=0,C.push("scaleY",u),u+="X";else{if("transformOrigin"===u){w.push(un,0,S[un]),x=void 0,T=void 0,E=void 0,x=(b=o).split(" "),T=x[0],E=x[1]||"50%","top"!==T&&"bottom"!==T&&"left"!==E&&"right"!==E||(b=T,T=E,E=b),x[0]=On[T]||T,x[1]=On[E]||E,o=x.join(" "),v.svg?Vn(t,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&Sn(this,v,"zOrigin",v.zOrigin,f),Sn(this,S,u,jn(r),jn(o)));continue}if("svgOrigin"===u){Vn(t,o,1,y,0,this);continue}if(u in Nn){Yn(this,v,u,c,p?kt(c,p+o):o);continue}if("smoothOrigin"===u){Sn(this,v,"smooth",v.smooth,o);continue}if("force3D"===u){v[u]=o;continue}if("transform"===u){Jn(this,o,t);continue}}else u in S||(u=_n(u)||u);if(g||(a||0===a)&&(c||0===c)&&!Wi.test(o)&&u in S)a||(a=0),(d=(r+"").substr((c+"").length))!==(f=ce(o)||(u in A.units?A.units[u]:d))&&(c=Dn(t,u,r,f)),this._pt=new bi(this._pt,g?v:S,u,c,(p?kt(c,p+a):a)-c,g||"px"!==f&&"zIndex"!==u||!1===e.autoRound?Qi:tn),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=r,this._pt.r=Zi);else if(u in S)Mn.call(this,t,u,r,p?p+o:o);else if(u in t)this.add(t,u,r||t[u],p?p+o:o,n,s);else if("parseTransform"!==u){ot(u,o);continue}g||(u in S?w.push(u,0,S[u]):w.push(u,1,r||t[u])),C.push(u)}_&&wi(this)},render:function(t,e){if(e.tween._time||!Ui())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:An,aliases:Yi,getSetter:function(t,e,i){var n=Yi[e];return n&&n.indexOf(",")<0&&(e=n),e in qi&&e!==un&&(t._gsap.x||An(t,"x"))?i&&Vi===i?"scale"===e?an:on:(Vi=i||{})&&("scale"===e?cn:ln):t.style&&!q(t.style[e])?sn:~e.indexOf("-")?rn:di(t,e)},core:{_removeProperty:Cn,_getMatrix:Bn}};Ri.utils.checkPrefix=_n,Ri.core.getStyleSaver=gn,ts=Et("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Zn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){qi[t]=1})),Et(Zn,(function(t){A.units[t]="deg",Nn[t]=1})),Yi[ts[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Zn,Et("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Yi[e[1]]=ts[e[0]]})),Et("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){A.units[t]="px"})),Ri.registerPlugin(es);var is=Ri.registerPlugin(es)||Ri;function ns(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}is.core.Tween;var ss,rs,os,as,cs,ls,hs,us,ds,fs,ps,gs,ms,vs=function(){return ss||"undefined"!=typeof window&&(ss=window.gsap)&&ss.registerPlugin&&ss},ys=1,_s=[],ws=[],bs=[],xs=Date.now,Ts=function(t,e){return e},Es=function(t,e){return~bs.indexOf(t)&&bs[bs.indexOf(t)+1][e]},Cs=function(t){return!!~fs.indexOf(t)},Ss=function(t,e,i,n,s){return t.addEventListener(e,i,{passive:!1!==n,capture:!!s})},ks=function(t,e,i,n){return t.removeEventListener(e,i,!!n)},Is="scrollLeft",Ds="scrollTop",As=function(){return ps&&ps.isPressed||ws.cache++},Ms=function(t,e){var i=function i(n){if(n||0===n){ys&&(os.history.scrollRestoration="manual");var s=ps&&ps.isPressed;n=i.v=Math.round(n)||(ps&&ps.iOS?1:0),t(n),i.cacheID=ws.cache,s&&Ts("ss",n)}else(e||ws.cache!==i.cacheID||Ts("ref"))&&(i.cacheID=ws.cache,i.v=t());return i.v+i.offset};return i.offset=0,t&&i},Os={s:Is,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Ms((function(t){return arguments.length?os.scrollTo(t,Ps.sc()):os.pageXOffset||as[Is]||cs[Is]||ls[Is]||0}))},Ps={s:Ds,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Os,sc:Ms((function(t){return arguments.length?os.scrollTo(Os.sc(),t):os.pageYOffset||as[Ds]||cs[Ds]||ls[Ds]||0}))},Rs=function(t,e){return(e&&e._ctx&&e._ctx.selector||ss.utils.toArray)(t)[0]||("string"==typeof t&&!1!==ss.config().nullTargetWarn?console.warn("Element not found:",t):null)},Ls=function(t,e){var i=e.s,n=e.sc;Cs(t)&&(t=as.scrollingElement||cs);var s=ws.indexOf(t),r=n===Ps.sc?1:2;!~s&&(s=ws.push(t)-1),ws[s+r]||Ss(t,"scroll",As);var o=ws[s+r],a=o||(ws[s+r]=Ms(Es(t,i),!0)||(Cs(t)?n:Ms((function(e){return arguments.length?t[i]=e:t[i]}))));return a.target=t,o||(a.smooth="smooth"===ss.getProperty(t,"scrollBehavior")),a},Ns=function(t,e,i){var n=t,s=t,r=xs(),o=r,a=e||50,c=Math.max(500,3*a),l=function(t,e){var c=xs();e||c-r>a?(s=n,n=t,o=r,r=c):i?n+=t:n=s+(t-s)/(c-o)*(r-o)};return{update:l,reset:function(){s=n=i?0:n,o=r=0},getVelocity:function(t){var e=o,a=s,h=xs();return(t||0===t)&&t!==n&&l(t),r===o||h-o>c?0:(n+(i?a:-a))/((i?h:r)-e)*1e3}}},zs=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},Fs=function(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i},Bs=function(){var t,e,i,n;(ds=ss.core.globals().ScrollTrigger)&&ds.core&&(t=ds.core,e=t.bridge||{},i=t._scrollers,n=t._proxies,i.push.apply(i,ws),n.push.apply(n,bs),ws=i,bs=n,Ts=function(t,i){return e[t](i)})},Vs=function(t){return ss=t||vs(),!rs&&ss&&"undefined"!=typeof document&&document.body&&(os=window,as=document,cs=as.documentElement,ls=as.body,fs=[os,as,cs,ls],ss.utils.clamp,ms=ss.core.context||function(){},us="onpointerenter"in ls?"pointer":"mouse",hs=Us.isTouch=os.matchMedia&&os.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in os||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,gs=Us.eventTypes=("ontouchstart"in cs?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in cs?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return ys=0}),500),Bs(),rs=1),rs};Os.op=Ps,ws.cache=0;var Us=function(){function t(t){this.init(t)}var e,i;return t.prototype.init=function(t){rs||Vs(ss)||console.warn("Please gsap.registerPlugin(Observer)"),ds||Bs();var e=t.tolerance,i=t.dragMinimum,n=t.type,s=t.target,r=t.lineHeight,o=t.debounce,a=t.preventDefault,c=t.onStop,l=t.onStopDelay,h=t.ignore,u=t.wheelSpeed,d=t.event,f=t.onDragStart,p=t.onDragEnd,g=t.onDrag,m=t.onPress,v=t.onRelease,y=t.onRight,_=t.onLeft,w=t.onUp,b=t.onDown,x=t.onChangeX,T=t.onChangeY,E=t.onChange,C=t.onToggleX,S=t.onToggleY,k=t.onHover,I=t.onHoverEnd,D=t.onMove,A=t.ignoreCheck,M=t.isNormalizer,O=t.onGestureStart,P=t.onGestureEnd,R=t.onWheel,L=t.onEnable,N=t.onDisable,z=t.onClick,F=t.scrollSpeed,B=t.capture,V=t.allowClicks,U=t.lockAxis,j=t.onLockAxis;this.target=s=Rs(s)||cs,this.vars=t,h&&(h=ss.utils.toArray(h)),e=e||1e-9,i=i||0,u=u||1,F=F||1,n=n||"wheel,touch,pointer",o=!1!==o,r||(r=parseFloat(os.getComputedStyle(ls).lineHeight)||22);var q,$,H,G,X,K,W,Y=this,Q=0,J=0,Z=t.passive||!a,tt=Ls(s,Os),et=Ls(s,Ps),it=tt(),nt=et(),st=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===gs[0],rt=Cs(s),ot=s.ownerDocument||as,at=[0,0,0],ct=[0,0,0],lt=0,ht=function(){return lt=xs()},ut=function(t,e){return(Y.event=t)&&h&&~h.indexOf(t.target)||e&&st&&"touch"!==t.pointerType||A&&A(t,e)},dt=function(){var t=Y.deltaX=Fs(at),i=Y.deltaY=Fs(ct),n=Math.abs(t)>=e,s=Math.abs(i)>=e;E&&(n||s)&&E(Y,t,i,at,ct),n&&(y&&Y.deltaX>0&&y(Y),_&&Y.deltaX<0&&_(Y),x&&x(Y),C&&Y.deltaX<0!=Q<0&&C(Y),Q=Y.deltaX,at[0]=at[1]=at[2]=0),s&&(b&&Y.deltaY>0&&b(Y),w&&Y.deltaY<0&&w(Y),T&&T(Y),S&&Y.deltaY<0!=J<0&&S(Y),J=Y.deltaY,ct[0]=ct[1]=ct[2]=0),(G||H)&&(D&&D(Y),H&&(g(Y),H=!1),G=!1),K&&!(K=!1)&&j&&j(Y),X&&(R(Y),X=!1),q=0},ft=function(t,e,i){at[i]+=t,ct[i]+=e,Y._vx.update(t),Y._vy.update(e),o?q||(q=requestAnimationFrame(dt)):dt()},pt=function(t,e){U&&!W&&(Y.axis=W=Math.abs(t)>Math.abs(e)?"x":"y",K=!0),"y"!==W&&(at[2]+=t,Y._vx.update(t,!0)),"x"!==W&&(ct[2]+=e,Y._vy.update(e,!0)),o?q||(q=requestAnimationFrame(dt)):dt()},gt=function(t){if(!ut(t,1)){var e=(t=zs(t,a)).clientX,n=t.clientY,s=e-Y.x,r=n-Y.y,o=Y.isDragging;Y.x=e,Y.y=n,(o||Math.abs(Y.startX-e)>=i||Math.abs(Y.startY-n)>=i)&&(g&&(H=!0),o||(Y.isDragging=!0),pt(s,r),o||f&&f(Y))}},mt=Y.onPress=function(t){ut(t,1)||t&&t.button||(Y.axis=W=null,$.pause(),Y.isPressed=!0,t=zs(t),Q=J=0,Y.startX=Y.x=t.clientX,Y.startY=Y.y=t.clientY,Y._vx.reset(),Y._vy.reset(),Ss(M?s:ot,gs[1],gt,Z,!0),Y.deltaX=Y.deltaY=0,m&&m(Y))},vt=Y.onRelease=function(t){if(!ut(t,1)){ks(M?s:ot,gs[1],gt,!0);var e=!isNaN(Y.y-Y.startY),i=Y.isDragging,n=i&&(Math.abs(Y.x-Y.startX)>3||Math.abs(Y.y-Y.startY)>3),r=zs(t);!n&&e&&(Y._vx.reset(),Y._vy.reset(),a&&V&&ss.delayedCall(.08,(function(){if(xs()-lt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(ot.createEvent){var e=ot.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,os,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Y.isDragging=Y.isGesturing=Y.isPressed=!1,c&&i&&!M&&$.restart(!0),p&&i&&p(Y),v&&v(Y,n)}},yt=function(t){return t.touches&&t.touches.length>1&&(Y.isGesturing=!0)&&O(t,Y.isDragging)},_t=function(){return(Y.isGesturing=!1)||P(Y)},wt=function(t){if(!ut(t)){var e=tt(),i=et();ft((e-it)*F,(i-nt)*F,1),it=e,nt=i,c&&$.restart(!0)}},bt=function(t){if(!ut(t)){t=zs(t,a),R&&(X=!0);var e=(1===t.deltaMode?r:2===t.deltaMode?os.innerHeight:1)*u;ft(t.deltaX*e,t.deltaY*e,0),c&&!M&&$.restart(!0)}},xt=function(t){if(!ut(t)){var e=t.clientX,i=t.clientY,n=e-Y.x,s=i-Y.y;Y.x=e,Y.y=i,G=!0,c&&$.restart(!0),(n||s)&&pt(n,s)}},Tt=function(t){Y.event=t,k(Y)},Et=function(t){Y.event=t,I(Y)},Ct=function(t){return ut(t)||zs(t,a)&&z(Y)};$=Y._dc=ss.delayedCall(l||.25,(function(){Y._vx.reset(),Y._vy.reset(),$.pause(),c&&c(Y)})).pause(),Y.deltaX=Y.deltaY=0,Y._vx=Ns(0,50,!0),Y._vy=Ns(0,50,!0),Y.scrollX=tt,Y.scrollY=et,Y.isDragging=Y.isGesturing=Y.isPressed=!1,ms(this),Y.enable=function(t){return Y.isEnabled||(Ss(rt?ot:s,"scroll",As),n.indexOf("scroll")>=0&&Ss(rt?ot:s,"scroll",wt,Z,B),n.indexOf("wheel")>=0&&Ss(s,"wheel",bt,Z,B),(n.indexOf("touch")>=0&&hs||n.indexOf("pointer")>=0)&&(Ss(s,gs[0],mt,Z,B),Ss(ot,gs[2],vt),Ss(ot,gs[3],vt),V&&Ss(s,"click",ht,!0,!0),z&&Ss(s,"click",Ct),O&&Ss(ot,"gesturestart",yt),P&&Ss(ot,"gestureend",_t),k&&Ss(s,us+"enter",Tt),I&&Ss(s,us+"leave",Et),D&&Ss(s,us+"move",xt)),Y.isEnabled=!0,t&&t.type&&mt(t),L&&L(Y)),Y},Y.disable=function(){Y.isEnabled&&(_s.filter((function(t){return t!==Y&&Cs(t.target)})).length||ks(rt?ot:s,"scroll",As),Y.isPressed&&(Y._vx.reset(),Y._vy.reset(),ks(M?s:ot,gs[1],gt,!0)),ks(rt?ot:s,"scroll",wt,B),ks(s,"wheel",bt,B),ks(s,gs[0],mt,B),ks(ot,gs[2],vt),ks(ot,gs[3],vt),ks(s,"click",ht,!0),ks(s,"click",Ct),ks(ot,"gesturestart",yt),ks(ot,"gestureend",_t),ks(s,us+"enter",Tt),ks(s,us+"leave",Et),ks(s,us+"move",xt),Y.isEnabled=Y.isPressed=Y.isDragging=!1,N&&N(Y))},Y.kill=Y.revert=function(){Y.disable();var t=_s.indexOf(Y);t>=0&&_s.splice(t,1),ps===Y&&(ps=0)},_s.push(Y),M&&Cs(s)&&(ps=Y),Y.enable(d)},e=t,(i=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&ns(e.prototype,i),t}();Us.version="3.12.5",Us.create=function(t){return new Us(t)},Us.register=Vs,Us.getAll=function(){return _s.slice()},Us.getById=function(t){return _s.filter((function(e){return e.vars.id===t}))[0]},vs()&&ss.registerPlugin(Us);var js,qs,$s,Hs,Gs,Xs,Ks,Ws,Ys,Qs,Js,Zs,tr,er,ir,nr,sr,rr,or,ar,cr,lr,hr,ur,dr,fr,pr,gr,mr,vr,yr,_r,wr,br,xr,Tr,Er,Cr,Sr=1,kr=Date.now,Ir=kr(),Dr=0,Ar=0,Mr=function(t,e,i){var n=Hr(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return i["_"+e+"Clamp"]=n,n?t.substr(6,t.length-7):t},Or=function(t,e){return!e||Hr(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Pr=function t(){return Ar&&requestAnimationFrame(t)},Rr=function(){return er=1},Lr=function(){return er=0},Nr=function(t){return t},zr=function(t){return Math.round(1e5*t)/1e5||0},Fr=function(){return"undefined"!=typeof window},Br=function(){return js||Fr()&&(js=window.gsap)&&js.registerPlugin&&js},Vr=function(t){return!!~Ks.indexOf(t)},Ur=function(t){return("Height"===t?yr:$s["inner"+t])||Gs["client"+t]||Xs["client"+t]},jr=function(t){return Es(t,"getBoundingClientRect")||(Vr(t)?function(){return ia.width=$s.innerWidth,ia.height=yr,ia}:function(){return go(t)})},qr=function(t,e){var i=e.s,n=e.d2,s=e.d,r=e.a;return Math.max(0,(i="scroll"+n)&&(r=Es(t,i))?r()-jr(t)()[s]:Vr(t)?(Gs[i]||Xs[i])-Ur(n):t[i]-t["offset"+n])},$r=function(t,e){for(var i=0;i<or.length;i+=3)(!e||~e.indexOf(or[i+1]))&&t(or[i],or[i+1],or[i+2])},Hr=function(t){return"string"==typeof t},Gr=function(t){return"function"==typeof t},Xr=function(t){return"number"==typeof t},Kr=function(t){return"object"==typeof t},Wr=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},Yr=function(t,e){if(t.enabled){var i=t._ctx?t._ctx.add((function(){return e(t)})):e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},Qr=Math.abs,Jr="left",Zr="right",to="bottom",eo="width",io="height",no="Right",so="Left",ro="Top",oo="Bottom",ao="padding",co="margin",lo="Width",ho="Height",uo="px",fo=function(t){return $s.getComputedStyle(t)},po=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},go=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==fo(t)[ir]&&js.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},mo=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},vo=function(t){var e,i=[],n=t.labels,s=t.duration();for(e in n)i.push(n[e]/s);return i},yo=function(t){var e=js.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return i?function(t,n,s){var r;if(void 0===s&&(s=.001),!n)return e(t);if(n>0){for(t-=s,r=0;r<i.length;r++)if(i[r]>=t)return i[r];return i[r-1]}for(r=i.length,t+=s;r--;)if(i[r]<=t)return i[r];return i[0]}:function(i,n,s){void 0===s&&(s=.001);var r=e(i);return!n||Math.abs(r-i)<s||r-i<0==n<0?r:e(n<0?i-t:i+t)}},_o=function(t,e,i,n){return i.split(",").forEach((function(i){return t(e,i,n)}))},wo=function(t,e,i,n,s){return t.addEventListener(e,i,{passive:!n,capture:!!s})},bo=function(t,e,i,n){return t.removeEventListener(e,i,!!n)},xo=function(t,e,i){(i=i&&i.wheelHandler)&&(t(e,"wheel",i),t(e,"touchmove",i))},To={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Eo={toggleActions:"play",anticipatePin:0},Co={top:0,left:0,center:.5,bottom:1,right:1},So=function(t,e){if(Hr(t)){var i=t.indexOf("="),n=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=e/100),t=t.substr(0,i-1)),t=n+(t in Co?Co[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},ko=function(t,e,i,n,s,r,o,a){var c=s.startColor,l=s.endColor,h=s.fontSize,u=s.indent,d=s.fontWeight,f=Hs.createElement("div"),p=Vr(i)||"fixed"===Es(i,"pinType"),g=-1!==t.indexOf("scroller"),m=p?Xs:i,v=-1!==t.indexOf("start"),y=v?c:l,_="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((g||a)&&p?"fixed;":"absolute;"),(g||a||!p)&&(_+=(n===Ps?Zr:to)+":"+(r+parseFloat(u))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),f.style.cssText=_,f.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+n.op.d2],Io(f,0,n,v),f},Io=function(t,e,i,n){var s={display:"block"},r=i[n?"os2":"p2"],o=i[n?"p2":"os2"];t._isFlipped=n,s[i.a+"Percent"]=n?-100:0,s[i.a]=n?"1px":0,s["border"+r+lo]=1,s["border"+o+lo]=0,s[i.p]=e+"px",js.set(t,s)},Do=[],Ao={},Mo=function(){return kr()-Dr>34&&(xr||(xr=requestAnimationFrame(Wo)))},Oo=function(){(!hr||!hr.isPressed||hr.startX>Xs.clientWidth)&&(ws.cache++,hr?xr||(xr=requestAnimationFrame(Wo)):Wo(),Dr||Fo("scrollStart"),Dr=kr())},Po=function(){fr=$s.innerWidth,dr=$s.innerHeight},Ro=function(){ws.cache++,!tr&&!lr&&!Hs.fullscreenElement&&!Hs.webkitFullscreenElement&&(!ur||fr!==$s.innerWidth||Math.abs($s.innerHeight-dr)>.25*$s.innerHeight)&&Ws.restart(!0)},Lo={},No=[],zo=function t(){return bo(la,"scrollEnd",t)||Go(!0)},Fo=function(t){return Lo[t]&&Lo[t].map((function(t){return t()}))||No},Bo=[],Vo=function(t){for(var e=0;e<Bo.length;e+=5)(!t||Bo[e+4]&&Bo[e+4].query===t)&&(Bo[e].style.cssText=Bo[e+1],Bo[e].getBBox&&Bo[e].setAttribute("transform",Bo[e+2]||""),Bo[e+3].uncache=1)},Uo=function(t,e){var i;for(nr=0;nr<Do.length;nr++)!(i=Do[nr])||e&&i._ctx!==e||(t?i.kill(1):i.revert(!0,!0));_r=!0,e&&Vo(e),e||Fo("revert")},jo=function(t,e){ws.cache++,(e||!Tr)&&ws.forEach((function(t){return Gr(t)&&t.cacheID++&&(t.rec=0)})),Hr(t)&&($s.history.scrollRestoration=mr=t)},qo=0,$o=function(){Xs.appendChild(vr),yr=!hr&&vr.offsetHeight||$s.innerHeight,Xs.removeChild(vr)},Ho=function(t){return Ys(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},Go=function(t,e){if(!Dr||t||_r){$o(),Tr=la.isRefreshing=!0,ws.forEach((function(t){return Gr(t)&&++t.cacheID&&(t.rec=t())}));var i=Fo("refreshInit");ar&&la.sort(),e||Uo(),ws.forEach((function(t){Gr(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Do.slice(0).forEach((function(t){return t.refresh()})),_r=!1,Do.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",i=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-i),t.refresh()}})),wr=1,Ho(!0),Do.forEach((function(t){var e=qr(t.scroller,t._dir),i="max"===t.vars.end||t._endClamp&&t.end>e,n=t._startClamp&&t.start>=e;(i||n)&&t.setPositions(n?e-1:t.start,i?Math.max(n?e:t.start+1,e):t.end,!0)})),Ho(!1),wr=0,i.forEach((function(t){return t&&t.render&&t.render(-1)})),ws.forEach((function(t){Gr(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),jo(mr,1),Ws.pause(),qo++,Tr=2,Wo(2),Do.forEach((function(t){return Gr(t.vars.onRefresh)&&t.vars.onRefresh(t)})),Tr=la.isRefreshing=!1,Fo("refresh")}else wo(la,"scrollEnd",zo)},Xo=0,Ko=1,Wo=function(t){if(2===t||!Tr&&!_r){la.isUpdating=!0,Cr&&Cr.update(0);var e=Do.length,i=kr(),n=i-Ir>=50,s=e&&Do[0].scroll();if(Ko=Xo>s?-1:1,Tr||(Xo=s),n&&(Dr&&!er&&i-Dr>200&&(Dr=0,Fo("scrollEnd")),Js=Ir,Ir=i),Ko<0){for(nr=e;nr-- >0;)Do[nr]&&Do[nr].update(0,n);Ko=1}else for(nr=0;nr<e;nr++)Do[nr]&&Do[nr].update(0,n);la.isUpdating=!1}xr=0},Yo=[Jr,"top",to,Zr,co+oo,co+no,co+ro,co+so,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qo=Yo.concat([eo,io,"boxSizing","max"+lo,"max"+ho,"position",co,ao,ao+ro,ao+no,ao+oo,ao+so]),Jo=function(t,e,i,n){if(!t._gsap.swappedIn){for(var s,r=Yo.length,o=e.style,a=t.style;r--;)o[s=Yo[r]]=i[s];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[to]=a[Zr]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[eo]=mo(t,Os)+uo,o[io]=mo(t,Ps)+uo,o[ao]=a[co]=a.top=a[Jr]="0",ta(n),a[eo]=a["max"+lo]=i[eo],a[io]=a["max"+ho]=i[io],a[ao]=i[ao],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Zo=/([A-Z])/g,ta=function(t){if(t){var e,i,n=t.t.style,s=t.length,r=0;for((t.t._gsap||js.core.getCache(t.t)).uncache=1;r<s;r+=2)i=t[r+1],e=t[r],i?n[e]=i:n[e]&&n.removeProperty(e.replace(Zo,"-$1").toLowerCase())}},ea=function(t){for(var e=Qo.length,i=t.style,n=[],s=0;s<e;s++)n.push(Qo[s],i[Qo[s]]);return n.t=t,n},ia={left:0,top:0},na=function(t,e,i,n,s,r,o,a,c,l,h,u,d,f){Gr(t)&&(t=t(a)),Hr(t)&&"max"===t.substr(0,3)&&(t=u+("="===t.charAt(4)?So("0"+t.substr(3),i):0));var p,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(t)||(t=+t),Xr(t))d&&(t=js.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,u,t)),o&&Io(o,i,n,!0);else{Gr(e)&&(e=e(a));var y,_,w,b,x=(t||"0").split(" ");m=Rs(e,a)||Xs,(y=go(m)||{})&&(y.left||y.top)||"none"!==fo(m).display||(b=m.style.display,m.style.display="block",y=go(m),b?m.style.display=b:m.style.removeProperty("display")),_=So(x[0],y[n.d]),w=So(x[1]||"0",i),t=y[n.p]-c[n.p]-l+_+s-w,o&&Io(o,w,n,i-w<20||o._isStart&&w>20),i-=i-w}if(f&&(a[f]=t||-.001,t<0&&(t=0)),r){var T=t+i,E=r._isStart;p="scroll"+n.d2,Io(r,T,n,E&&T>20||!E&&(h?Math.max(Xs[p],Gs[p]):r.parentNode[p])<=T+1),h&&(c=go(o),h&&(r.style[n.op.p]=c[n.op.p]-n.op.m-r._offset+uo))}return d&&m&&(p=go(m),d.seek(u),g=go(m),d._caScrollDist=p[n.p]-g[n.p],t=t/d._caScrollDist*u),d&&d.seek(v),d?t:Math.round(t)},sa=/(webkit|moz|length|cssText|inset)/i,ra=function(t,e,i,n){if(t.parentNode!==e){var s,r,o=t.style;if(e===Xs){for(s in t._stOrig=o.cssText,r=fo(t))+s||sa.test(s)||!r[s]||"string"!=typeof o[s]||"0"===s||(o[s]=r[s]);o.top=i,o.left=n}else o.cssText=t._stOrig;js.core.getCache(t).uncache=1,e.appendChild(t)}},oa=function(t,e,i){var n=e,s=n;return function(e){var r=Math.round(t());return r!==n&&r!==s&&Math.abs(r-n)>3&&Math.abs(r-s)>3&&(e=r,i&&i()),s=n,n=e,e}},aa=function(t,e,i){var n={};n[e.p]="+="+i,js.set(t,n)},ca=function(t,e){var i=Ls(t,e),n="_scroll"+e.p2,s=function e(s,r,o,a,c){var l=e.tween,h=r.onComplete,u={};o=o||i();var d=oa(i,o,(function(){l.kill(),e.tween=0}));return c=a&&c||0,a=a||s-o,l&&l.kill(),r[n]=s,r.inherit=!1,r.modifiers=u,u[n]=function(){return d(o+a*l.ratio+c*l.ratio*l.ratio)},r.onUpdate=function(){ws.cache++,e.tween&&Wo()},r.onComplete=function(){e.tween=0,h&&h.call(l)},l=e.tween=js.to(t,r)};return t[n]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},wo(t,"wheel",i.wheelHandler),la.isTouch&&wo(t,"touchmove",i.wheelHandler),s},la=function(){function t(e,i){qs||t.register(js)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),gr(this),this.init(e,i)}return t.prototype.init=function(e,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Ar){var n,s,r,o,a,c,l,h,u,d,f,p,g,m,v,y,_,w,b,x,T,E,C,S,k,I,D,A,M,O,P,R,L,N,z,F,B,V,U,j,q,$,H=e=po(Hr(e)||Xr(e)||e.nodeType?{trigger:e}:e,Eo),G=H.onUpdate,X=H.toggleClass,K=H.id,W=H.onToggle,Y=H.onRefresh,Q=H.scrub,J=H.trigger,Z=H.pin,tt=H.pinSpacing,et=H.invalidateOnRefresh,it=H.anticipatePin,nt=H.onScrubComplete,st=H.onSnapComplete,rt=H.once,ot=H.snap,at=H.pinReparent,ct=H.pinSpacer,lt=H.containerAnimation,ht=H.fastScrollEnd,ut=H.preventOverlaps,dt=e.horizontal||e.containerAnimation&&!1!==e.horizontal?Os:Ps,ft=!Q&&0!==Q,pt=Rs(e.scroller||$s),gt=js.core.getCache(pt),mt=Vr(pt),vt="fixed"===("pinType"in e?e.pinType:Es(pt,"pinType")||mt&&"fixed"),yt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],_t=ft&&e.toggleActions.split(" "),wt="markers"in e?e.markers:Eo.markers,bt=mt?0:parseFloat(fo(pt)["border"+dt.p2+lo])||0,xt=this,Tt=e.onRefreshInit&&function(){return e.onRefreshInit(xt)},Et=function(t,e,i){var n=i.d,s=i.d2,r=i.a;return(r=Es(t,"getBoundingClientRect"))?function(){return r()[n]}:function(){return(e?Ur(s):t["client"+s])||0}}(pt,mt,dt),Ct=function(t,e){return!e||~bs.indexOf(t)?jr(t):function(){return ia}}(pt,mt),St=0,kt=0,It=0,Dt=Ls(pt,dt);if(xt._startClamp=xt._endClamp=!1,xt._dir=dt,it*=45,xt.scroller=pt,xt.scroll=lt?lt.time.bind(lt):Dt,o=Dt(),xt.vars=e,i=i||e.animation,"refreshPriority"in e&&(ar=1,-9999===e.refreshPriority&&(Cr=xt)),gt.tweenScroll=gt.tweenScroll||{top:ca(pt,Ps),left:ca(pt,Os)},xt.tweenTo=n=gt.tweenScroll[dt.p],xt.scrubDuration=function(t){(L=Xr(t)&&t)?R?R.duration(t):R=js.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:L,paused:!0,onComplete:function(){return nt&&nt(xt)}}):(R&&R.progress(1).kill(),R=0)},i&&(i.vars.lazy=!1,i._initted&&!xt.isReverted||!1!==i.vars.immediateRender&&!1!==e.immediateRender&&i.duration()&&i.render(0,!0,!0),xt.animation=i.pause(),i.scrollTrigger=xt,xt.scrubDuration(Q),O=0,K||(K=i.vars.id)),ot&&(Kr(ot)&&!ot.push||(ot={snapTo:ot}),"scrollBehavior"in Xs.style&&js.set(mt?[Xs,Gs]:pt,{scrollBehavior:"auto"}),ws.forEach((function(t){return Gr(t)&&t.target===(mt?Hs.scrollingElement||Gs:pt)&&(t.smooth=!1)})),r=Gr(ot.snapTo)?ot.snapTo:"labels"===ot.snapTo?function(t){return function(e){return js.utils.snap(vo(t),e)}}(i):"labelsDirectional"===ot.snapTo?(j=i,function(t,e){return yo(vo(j))(t,e.direction)}):!1!==ot.directional?function(t,e){return yo(ot.snapTo)(t,kr()-kt<500?0:e.direction)}:js.utils.snap(ot.snapTo),N=ot.duration||{min:.1,max:2},N=Kr(N)?Qs(N.min,N.max):Qs(N,N),z=js.delayedCall(ot.delay||L/2||.1,(function(){var t=Dt(),e=kr()-kt<500,s=n.tween;if(!(e||Math.abs(xt.getVelocity())<10)||s||er||St===t)xt.isActive&&St!==t&&z.restart(!0);else{var o,a,h=(t-c)/m,u=i&&!ft?i.totalProgress():h,d=e?0:(u-P)/(kr()-Js)*1e3||0,f=js.utils.clamp(-h,1-h,Qr(d/2)*d/.185),p=h+(!1===ot.inertia?0:f),g=ot,v=g.onStart,y=g.onInterrupt,_=g.onComplete;if(o=r(p,xt),Xr(o)||(o=p),a=Math.round(c+o*m),t<=l&&t>=c&&a!==t){if(s&&!s._initted&&s.data<=Qr(a-t))return;!1===ot.inertia&&(f=o-h),n(a,{duration:N(Qr(.185*Math.max(Qr(p-u),Qr(o-u))/d/.05||0)),ease:ot.ease||"power3",data:Qr(a-t),onInterrupt:function(){return z.restart(!0)&&y&&y(xt)},onComplete:function(){xt.update(),St=Dt(),i&&(R?R.resetTo("totalProgress",o,i._tTime/i._tDur):i.progress(o)),O=P=i&&!ft?i.totalProgress():xt.progress,st&&st(xt),_&&_(xt)}},t,f*m,a-t-f*m),v&&v(xt,n.tween)}}})).pause()),K&&(Ao[K]=xt),(U=(J=xt.trigger=Rs(J||!0!==Z&&Z))&&J._gsap&&J._gsap.stRevert)&&(U=U(xt)),Z=!0===Z?J:Rs(Z),Hr(X)&&(X={targets:J,className:X}),Z&&(!1===tt||tt===co||(tt=!(!tt&&Z.parentNode&&Z.parentNode.style&&"flex"===fo(Z.parentNode).display)&&ao),xt.pin=Z,(s=js.core.getCache(Z)).spacer?v=s.pinState:(ct&&((ct=Rs(ct))&&!ct.nodeType&&(ct=ct.current||ct.nativeElement),s.spacerIsNative=!!ct,ct&&(s.spacerState=ea(ct))),s.spacer=w=ct||Hs.createElement("div"),w.classList.add("pin-spacer"),K&&w.classList.add("pin-spacer-"+K),s.pinState=v=ea(Z)),!1!==e.force3D&&js.set(Z,{force3D:!0}),xt.spacer=w=s.spacer,M=fo(Z),S=M[tt+dt.os2],x=js.getProperty(Z),T=js.quickSetter(Z,dt.a,uo),Jo(Z,w,M),_=ea(Z)),wt){p=Kr(wt)?po(wt,To):To,d=ko("scroller-start",K,pt,dt,p,0),f=ko("scroller-end",K,pt,dt,p,0,d),b=d["offset"+dt.op.d2];var At=Rs(Es(pt,"content")||pt);h=this.markerStart=ko("start",K,At,dt,p,b,0,lt),u=this.markerEnd=ko("end",K,At,dt,p,b,0,lt),lt&&(V=js.quickSetter([h,u],dt.a,uo)),vt||bs.length&&!0===Es(pt,"fixedMarkers")||($=fo(q=mt?Xs:pt).position,q.style.position="absolute"===$||"fixed"===$?$:"relative",js.set([d,f],{force3D:!0}),I=js.quickSetter(d,dt.a,uo),A=js.quickSetter(f,dt.a,uo))}if(lt){var Mt=lt.vars.onUpdate,Ot=lt.vars.onUpdateParams;lt.eventCallback("onUpdate",(function(){xt.update(0,0,1),Mt&&Mt.apply(lt,Ot||[])}))}if(xt.previous=function(){return Do[Do.indexOf(xt)-1]},xt.next=function(){return Do[Do.indexOf(xt)+1]},xt.revert=function(t,e){if(!e)return xt.kill(!0);var n=!1!==t||!xt.enabled,s=tr;n!==xt.isReverted&&(n&&(F=Math.max(Dt(),xt.scroll.rec||0),It=xt.progress,B=i&&i.progress()),h&&[h,u,d,f].forEach((function(t){return t.style.display=n?"none":"block"})),n&&(tr=xt,xt.update(n)),!Z||at&&xt.isActive||(n?function(t,e,i){ta(i);var n=t._gsap;if(n.spacerIsNative)ta(n.spacerState);else if(t._gsap.swappedIn){var s=e.parentNode;s&&(s.insertBefore(t,e),s.removeChild(e))}t._gsap.swappedIn=!1}(Z,w,v):Jo(Z,w,fo(Z),k)),n||xt.update(n),tr=s,xt.isReverted=n)},xt.refresh=function(s,r,p,b){if(!tr&&xt.enabled||r)if(Z&&s&&Dr)wo(t,"scrollEnd",zo);else{!Tr&&Tt&&Tt(xt),tr=xt,n.tween&&!p&&(n.tween.kill(),n.tween=0),R&&R.pause(),et&&i&&i.revert({kill:!1}).invalidate(),xt.isReverted||xt.revert(!0,!0),xt._subPinOffset=!1;var T,S,I,A,M,O,P,L,N,V,U,j,q,$=Et(),H=Ct(),G=lt?lt.duration():qr(pt,dt),X=m<=.01,K=0,W=b||0,Q=Kr(p)?p.end:e.end,it=e.endTrigger||J,nt=Kr(p)?p.start:e.start||(0!==e.start&&J?Z?"0 0":"0 100%":0),st=xt.pinnedContainer=e.pinnedContainer&&Rs(e.pinnedContainer,xt),rt=J&&Math.max(0,Do.indexOf(xt))||0,ot=rt;for(wt&&Kr(p)&&(j=js.getProperty(d,dt.p),q=js.getProperty(f,dt.p));ot--;)(O=Do[ot]).end||O.refresh(0,1)||(tr=xt),!(P=O.pin)||P!==J&&P!==Z&&P!==st||O.isReverted||(V||(V=[]),V.unshift(O),O.revert(!0,!0)),O!==Do[ot]&&(rt--,ot--);for(Gr(nt)&&(nt=nt(xt)),nt=Mr(nt,"start",xt),c=na(nt,J,$,dt,Dt(),h,d,xt,H,bt,vt,G,lt,xt._startClamp&&"_startClamp")||(Z?-.001:0),Gr(Q)&&(Q=Q(xt)),Hr(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(Hr(nt)?nt.split(" ")[0]:"")+Q:(K=So(Q.substr(2),$),Q=Hr(nt)?nt:(lt?js.utils.mapRange(0,lt.duration(),lt.scrollTrigger.start,lt.scrollTrigger.end,c):c)+K,it=J)),Q=Mr(Q,"end",xt),l=Math.max(c,na(Q||(it?"100% 0":G),it,$,dt,Dt()+K,u,f,xt,H,bt,vt,G,lt,xt._endClamp&&"_endClamp"))||-.001,K=0,ot=rt;ot--;)(P=(O=Do[ot]).pin)&&O.start-O._pinPush<=c&&!lt&&O.end>0&&(T=O.end-(xt._startClamp?Math.max(0,O.start):O.start),(P===J&&O.start-O._pinPush<c||P===st)&&isNaN(nt)&&(K+=T*(1-O.progress)),P===Z&&(W+=T));if(c+=K,l+=K,xt._startClamp&&(xt._startClamp+=K),xt._endClamp&&!Tr&&(xt._endClamp=l||-.001,l=Math.min(l,qr(pt,dt))),m=l-c||(c-=.01)&&.001,X&&(It=js.utils.clamp(0,1,js.utils.normalize(c,l,F))),xt._pinPush=W,h&&K&&((T={})[dt.a]="+="+K,st&&(T[dt.p]="-="+Dt()),js.set([h,u],T)),!Z||wr&&xt.end>=qr(pt,dt)){if(J&&Dt()&&!lt)for(S=J.parentNode;S&&S!==Xs;)S._pinOffset&&(c-=S._pinOffset,l-=S._pinOffset),S=S.parentNode}else T=fo(Z),A=dt===Ps,I=Dt(),E=parseFloat(x(dt.a))+W,!G&&l>1&&(U={style:U=(mt?Hs.scrollingElement||Gs:pt).style,value:U["overflow"+dt.a.toUpperCase()]},mt&&"scroll"!==fo(Xs)["overflow"+dt.a.toUpperCase()]&&(U.style["overflow"+dt.a.toUpperCase()]="scroll")),Jo(Z,w,T),_=ea(Z),S=go(Z,!0),L=vt&&Ls(pt,A?Os:Ps)(),tt?((k=[tt+dt.os2,m+W+uo]).t=w,(ot=tt===ao?mo(Z,dt)+m+W:0)&&(k.push(dt.d,ot+uo),"auto"!==w.style.flexBasis&&(w.style.flexBasis=ot+uo)),ta(k),st&&Do.forEach((function(t){t.pin===st&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),vt&&Dt(F)):(ot=mo(Z,dt))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=ot+uo),vt&&((M={top:S.top+(A?I-c:L)+uo,left:S.left+(A?L:I-c)+uo,boxSizing:"border-box",position:"fixed"})[eo]=M["max"+lo]=Math.ceil(S.width)+uo,M[io]=M["max"+ho]=Math.ceil(S.height)+uo,M[co]=M[co+ro]=M[co+no]=M[co+oo]=M[co+so]="0",M[ao]=T[ao],M[ao+ro]=T[ao+ro],M[ao+no]=T[ao+no],M[ao+oo]=T[ao+oo],M[ao+so]=T[ao+so],y=function(t,e,i){for(var n,s=[],r=t.length,o=i?8:0;o<r;o+=2)n=t[o],s.push(n,n in e?e[n]:t[o+1]);return s.t=t.t,s}(v,M,at),Tr&&Dt(0)),i?(N=i._initted,cr(1),i.render(i.duration(),!0,!0),C=x(dt.a)-E+m+W,D=Math.abs(m-C)>1,vt&&D&&y.splice(y.length-2,2),i.render(0,!0,!0),N||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),cr(0)):C=m,U&&(U.value?U.style["overflow"+dt.a.toUpperCase()]=U.value:U.style.removeProperty("overflow-"+dt.a));V&&V.forEach((function(t){return t.revert(!1,!0)})),xt.start=c,xt.end=l,o=a=Tr?F:Dt(),lt||Tr||(o<F&&Dt(F),xt.scroll.rec=0),xt.revert(!1,!0),kt=kr(),z&&(St=-1,z.restart(!0)),tr=0,i&&ft&&(i._initted||B)&&i.progress()!==B&&i.progress(B||0,!0).render(i.time(),!0,!0),(X||It!==xt.progress||lt||et)&&(i&&!ft&&i.totalProgress(lt&&c<-.001&&!It?js.utils.normalize(c,l,0):It,!0),xt.progress=X||(o-c)/m===It?0:It),Z&&tt&&(w._pinOffset=Math.round(xt.progress*C)),R&&R.invalidate(),isNaN(j)||(j-=js.getProperty(d,dt.p),q-=js.getProperty(f,dt.p),aa(d,dt,j),aa(h,dt,j-(b||0)),aa(f,dt,q),aa(u,dt,q-(b||0))),X&&!Tr&&xt.update(),!Y||Tr||g||(g=!0,Y(xt),g=!1)}},xt.getVelocity=function(){return(Dt()-a)/(kr()-Js)*1e3||0},xt.endAnimation=function(){Wr(xt.callbackAnimation),i&&(R?R.progress(1):i.paused()?ft||Wr(i,xt.direction<0,1):Wr(i,i.reversed()))},xt.labelToScroll=function(t){return i&&i.labels&&(c||xt.refresh()||c)+i.labels[t]/i.duration()*m||0},xt.getTrailing=function(t){var e=Do.indexOf(xt),i=xt.direction>0?Do.slice(0,e).reverse():Do.slice(e+1);return(Hr(t)?i.filter((function(e){return e.vars.preventOverlaps===t})):i).filter((function(t){return xt.direction>0?t.end<=c:t.start>=l}))},xt.update=function(t,e,s){if(!lt||s||t){var r,h,u,f,p,g,v,b=!0===Tr?F:xt.scroll(),x=t?0:(b-c)/m,k=x<0?0:x>1?1:x||0,M=xt.progress;if(e&&(a=o,o=lt?Dt():b,ot&&(P=O,O=i&&!ft?i.totalProgress():k)),it&&Z&&!tr&&!Sr&&Dr&&(!k&&c<b+(b-a)/(kr()-Js)*it?k=1e-4:1===k&&l>b+(b-a)/(kr()-Js)*it&&(k=.9999)),k!==M&&xt.enabled){if(f=(p=(r=xt.isActive=!!k&&k<1)!=(!!M&&M<1))||!!k!=!!M,xt.direction=k>M?1:-1,xt.progress=k,f&&!tr&&(h=k&&!M?0:1===k?1:1===M?2:3,ft&&(u=!p&&"none"!==_t[h+1]&&_t[h+1]||_t[h],v=i&&("complete"===u||"reset"===u||u in i))),ut&&(p||v)&&(v||Q||!i)&&(Gr(ut)?ut(xt):xt.getTrailing(ut).forEach((function(t){return t.endAnimation()}))),ft||(!R||tr||Sr?i&&i.totalProgress(k,!(!tr||!kt&&!t)):(R._dp._time-R._start!==R._time&&R.render(R._dp._time-R._start),R.resetTo?R.resetTo("totalProgress",k,i._tTime/i._tDur):(R.vars.totalProgress=k,R.invalidate().restart()))),Z)if(t&&tt&&(w.style[tt+dt.os2]=S),vt){if(f){if(g=!t&&k>M&&l+1>b&&b+1>=qr(pt,dt),at)if(t||!r&&!g)ra(Z,w);else{var L=go(Z,!0),N=b-c;ra(Z,Xs,L.top+(dt===Ps?N:0)+uo,L.left+(dt===Ps?0:N)+uo)}ta(r||g?y:_),D&&k<1&&r||T(E+(1!==k||g?0:C))}}else T(zr(E+C*k));ot&&!n.tween&&!tr&&!Sr&&z.restart(!0),X&&(p||rt&&k&&(k<1||!br))&&Ys(X.targets).forEach((function(t){return t.classList[r||rt?"add":"remove"](X.className)})),G&&!ft&&!t&&G(xt),f&&!tr?(ft&&(v&&("complete"===u?i.pause().totalProgress(1):"reset"===u?i.restart(!0).pause():"restart"===u?i.restart(!0):i[u]()),G&&G(xt)),!p&&br||(W&&p&&Yr(xt,W),yt[h]&&Yr(xt,yt[h]),rt&&(1===k?xt.kill(!1,1):yt[h]=0),p||yt[h=1===k?1:3]&&Yr(xt,yt[h])),ht&&!r&&Math.abs(xt.getVelocity())>(Xr(ht)?ht:2500)&&(Wr(xt.callbackAnimation),R?R.progress(1):Wr(i,"reverse"===u?1:!k,1))):ft&&G&&!tr&&G(xt)}if(A){var B=lt?b/lt.duration()*(lt._caScrollDist||0):b;I(B+(d._isFlipped?1:0)),A(B)}V&&V(-b/lt.duration()*(lt._caScrollDist||0))}},xt.enable=function(e,i){xt.enabled||(xt.enabled=!0,wo(pt,"resize",Ro),mt||wo(pt,"scroll",Oo),Tt&&wo(t,"refreshInit",Tt),!1!==e&&(xt.progress=It=0,o=a=St=Dt()),!1!==i&&xt.refresh())},xt.getTween=function(t){return t&&n?n.tween:R},xt.setPositions=function(t,e,i,n){if(lt){var s=lt.scrollTrigger,r=lt.duration(),o=s.end-s.start;t=s.start+o*t/r,e=s.start+o*e/r}xt.refresh(!1,!1,{start:Or(t,i&&!!xt._startClamp),end:Or(e,i&&!!xt._endClamp)},n),xt.update()},xt.adjustPinSpacing=function(t){if(k&&t){var e=k.indexOf(dt.d)+1;k[e]=parseFloat(k[e])+t+uo,k[1]=parseFloat(k[1])+t+uo,ta(k)}},xt.disable=function(e,i){if(xt.enabled&&(!1!==e&&xt.revert(!0,!0),xt.enabled=xt.isActive=!1,i||R&&R.pause(),F=0,s&&(s.uncache=1),Tt&&bo(t,"refreshInit",Tt),z&&(z.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!mt)){for(var r=Do.length;r--;)if(Do[r].scroller===pt&&Do[r]!==xt)return;bo(pt,"resize",Ro),mt||bo(pt,"scroll",Oo)}},xt.kill=function(t,n){xt.disable(t,n),R&&!n&&R.kill(),K&&delete Ao[K];var r=Do.indexOf(xt);r>=0&&Do.splice(r,1),r===nr&&Ko>0&&nr--,r=0,Do.forEach((function(t){return t.scroller===xt.scroller&&(r=1)})),r||Tr||(xt.scroll.rec=0),i&&(i.scrollTrigger=null,t&&i.revert({kill:!1}),n||i.kill()),h&&[h,u,d,f].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),Cr===xt&&(Cr=0),Z&&(s&&(s.uncache=1),r=0,Do.forEach((function(t){return t.pin===Z&&r++})),r||(s.spacer=0)),e.onKill&&e.onKill(xt)},Do.push(xt),xt.enable(!1,!1),U&&U(xt),i&&i.add&&!m){var Pt=xt.update;xt.update=function(){xt.update=Pt,c||l||xt.refresh()},js.delayedCall(.01,xt.update),m=.01,c=l=0}else xt.refresh();Z&&function(){if(Er!==qo){var t=Er=qo;requestAnimationFrame((function(){return t===qo&&Go(!0)}))}}()}else this.update=this.refresh=this.kill=Nr},t.register=function(e){return qs||(js=e||Br(),Fr()&&window.document&&t.enable(),qs=Ar),qs},t.defaults=function(t){if(t)for(var e in t)Eo[e]=t[e];return Eo},t.disable=function(t,e){Ar=0,Do.forEach((function(i){return i[e?"kill":"disable"](t)})),bo($s,"wheel",Oo),bo(Hs,"scroll",Oo),clearInterval(Zs),bo(Hs,"touchcancel",Nr),bo(Xs,"touchstart",Nr),_o(bo,Hs,"pointerdown,touchstart,mousedown",Rr),_o(bo,Hs,"pointerup,touchend,mouseup",Lr),Ws.kill(),$r(bo);for(var i=0;i<ws.length;i+=3)xo(bo,ws[i],ws[i+1]),xo(bo,ws[i],ws[i+2])},t.enable=function(){if($s=window,Hs=document,Gs=Hs.documentElement,Xs=Hs.body,js&&(Ys=js.utils.toArray,Qs=js.utils.clamp,gr=js.core.context||Nr,cr=js.core.suppressOverwrites||Nr,mr=$s.history.scrollRestoration||"auto",Xo=$s.pageYOffset,js.core.globals("ScrollTrigger",t),Xs)){Ar=1,(vr=document.createElement("div")).style.height="100vh",vr.style.position="absolute",$o(),Pr(),Us.register(js),t.isTouch=Us.isTouch,pr=Us.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ur=1===Us.isTouch,wo($s,"wheel",Oo),Ks=[$s,Hs,Gs,Xs],js.matchMedia?(t.matchMedia=function(t){var e,i=js.matchMedia();for(e in t)i.add(e,t[e]);return i},js.addEventListener("matchMediaInit",(function(){return Uo()})),js.addEventListener("matchMediaRevert",(function(){return Vo()})),js.addEventListener("matchMedia",(function(){Go(0,1),Fo("matchMedia")})),js.matchMedia("(orientation: portrait)",(function(){return Po(),Po}))):console.warn("Requires GSAP 3.11.0 or later"),Po(),wo(Hs,"scroll",Oo);var e,i,n=Xs.style,s=n.borderTopStyle,r=js.core.Animation.prototype;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",e=go(Xs),Ps.m=Math.round(e.top+Ps.sc())||0,Os.m=Math.round(e.left+Os.sc())||0,s?n.borderTopStyle=s:n.removeProperty("border-top-style"),Zs=setInterval(Mo,250),js.delayedCall(.5,(function(){return Sr=0})),wo(Hs,"touchcancel",Nr),wo(Xs,"touchstart",Nr),_o(wo,Hs,"pointerdown,touchstart,mousedown",Rr),_o(wo,Hs,"pointerup,touchend,mouseup",Lr),ir=js.utils.checkPrefix("transform"),Qo.push(ir),qs=kr(),Ws=js.delayedCall(.2,Go).pause(),or=[Hs,"visibilitychange",function(){var t=$s.innerWidth,e=$s.innerHeight;Hs.hidden?(sr=t,rr=e):sr===t&&rr===e||Ro()},Hs,"DOMContentLoaded",Go,$s,"load",Go,$s,"resize",Ro],$r(wo),Do.forEach((function(t){return t.enable(0,1)})),i=0;i<ws.length;i+=3)xo(bo,ws[i],ws[i+1]),xo(bo,ws[i],ws[i+2])}},t.config=function(e){"limitCallbacks"in e&&(br=!!e.limitCallbacks);var i=e.syncInterval;i&&clearInterval(Zs)||(Zs=i)&&setInterval(Mo,i),"ignoreMobileResize"in e&&(ur=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&($r(bo)||$r(wo,e.autoRefreshEvents||"none"),lr=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var i=Rs(t),n=ws.indexOf(i),s=Vr(i);~n&&ws.splice(n,s?6:2),e&&(s?bs.unshift($s,e,Xs,e,Gs,e):bs.unshift(i,e))},t.clearMatchMedia=function(t){Do.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,i){var n=(Hr(t)?Rs(t):t).getBoundingClientRect(),s=n[i?eo:io]*e||0;return i?n.right-s>0&&n.left+s<$s.innerWidth:n.bottom-s>0&&n.top+s<$s.innerHeight},t.positionInViewport=function(t,e,i){Hr(t)&&(t=Rs(t));var n=t.getBoundingClientRect(),s=n[i?eo:io],r=null==e?s/2:e in Co?Co[e]*s:~e.indexOf("%")?parseFloat(e)*s/100:parseFloat(e)||0;return i?(n.left+r)/$s.innerWidth:(n.top+r)/$s.innerHeight},t.killAll=function(t){if(Do.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=Lo.killAll||[];Lo={},e.forEach((function(t){return t()}))}},t}();la.version="3.12.5",la.saveStyles=function(t){return t?Ys(t).forEach((function(t){if(t&&t.style){var e=Bo.indexOf(t);e>=0&&Bo.splice(e,5),Bo.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),js.core.getCache(t),gr())}})):Bo},la.revert=function(t,e){return Uo(!t,e)},la.create=function(t,e){return new la(t,e)},la.refresh=function(t){return t?Ro():(qs||la.register())&&Go(!0)},la.update=function(t){return++ws.cache&&Wo(!0===t?2:0)},la.clearScrollMemory=jo,la.maxScroll=function(t,e){return qr(t,e?Os:Ps)},la.getScrollFunc=function(t,e){return Ls(Rs(t),e?Os:Ps)},la.getById=function(t){return Ao[t]},la.getAll=function(){return Do.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},la.isScrolling=function(){return!!Dr},la.snapDirectional=yo,la.addEventListener=function(t,e){var i=Lo[t]||(Lo[t]=[]);~i.indexOf(e)||i.push(e)},la.removeEventListener=function(t,e){var i=Lo[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},la.batch=function(t,e){var i,n=[],s={},r=e.interval||.016,o=e.batchMax||1e9,a=function(t,e){var i=[],n=[],s=js.delayedCall(r,(function(){e(i,n),i=[],n=[]})).pause();return function(t){i.length||s.restart(!0),i.push(t.trigger),n.push(t),o<=i.length&&s.progress(1)}};for(i in e)s[i]="on"===i.substr(0,2)&&Gr(e[i])&&"onRefreshInit"!==i?a(0,e[i]):e[i];return Gr(o)&&(o=o(),wo(la,"refresh",(function(){return o=e.batchMax()}))),Ys(t).forEach((function(t){var e={};for(i in s)e[i]=s[i];e.trigger=t,n.push(la.create(e))})),n};var ha,ua=function(t,e,i,n){return e>n?t(n):e<0&&t(0),i>n?(n-e)/(i-e):i<0?e/(e-i):1},da=function t(e,i){!0===i?e.style.removeProperty("touch-action"):e.style.touchAction=!0===i?"auto":i?"pan-"+i+(Us.isTouch?" pinch-zoom":""):"none",e===Gs&&t(Xs,i)},fa={auto:1,scroll:1},pa=function(t){var e,i=t.event,n=t.target,s=t.axis,r=(i.changedTouches?i.changedTouches[0]:i).target,o=r._gsap||js.core.getCache(r),a=kr();if(!o._isScrollT||a-o._isScrollT>2e3){for(;r&&r!==Xs&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!fa[(e=fo(r)).overflowY]&&!fa[e.overflowX]);)r=r.parentNode;o._isScroll=r&&r!==n&&!Vr(r)&&(fa[(e=fo(r)).overflowY]||fa[e.overflowX]),o._isScrollT=a}(o._isScroll||"x"===s)&&(i.stopPropagation(),i._gsapAllow=!0)},ga=function(t,e,i,n){return Us.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:n=n&&pa,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&wo(Hs,Us.eventTypes[0],va,!1,!0)},onDisable:function(){return bo(Hs,Us.eventTypes[0],va,!0)}})},ma=/(input|label|select|textarea)/i,va=function(t){var e=ma.test(t.target.tagName);(e||ha)&&(t._gsapAllow=!0,ha=e)};la.sort=function(t){return Do.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},la.observe=function(t){return new Us(t)},la.normalizeScroll=function(t){if(void 0===t)return hr;if(!0===t&&hr)return hr.enable();if(!1===t)return hr&&hr.kill(),void(hr=t);var e=t instanceof Us?t:function(t){Kr(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,i,n,s,r,o,a,c,l=t,h=l.normalizeScrollX,u=l.momentum,d=l.allowNestedScroll,f=l.onRelease,p=Rs(t.target)||Gs,g=js.core.globals().ScrollSmoother,m=g&&g.get(),v=pr&&(t.content&&Rs(t.content)||m&&!1!==t.content&&!m.smooth()&&m.content()),y=Ls(p,Ps),_=Ls(p,Os),w=1,b=(Us.isTouch&&$s.visualViewport?$s.visualViewport.scale*$s.visualViewport.width:$s.outerWidth)/$s.innerWidth,x=0,T=Gr(u)?function(){return u(e)}:function(){return u||2.8},E=ga(p,t.type,!0,d),C=function(){return s=!1},S=Nr,k=Nr,I=function(){i=qr(p,Ps),k=Qs(pr?1:0,i),h&&(S=Qs(0,qr(p,Os))),n=qo},D=function(){v._gsap.y=zr(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},A=function(){I(),r.isActive()&&r.vars.scrollY>i&&(y()>i?r.progress(1)&&y(i):r.resetTo("scrollY",i))};return v&&js.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return pr&&"touchmove"===t.type&&function(){if(s){requestAnimationFrame(C);var t=zr(e.deltaY/2),i=k(y.v-t);if(v&&i!==y.v+y.offset){y.offset=i-y.v;var n=zr((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",v._gsap.y=n+"px",y.cacheID=ws.cache,Wo()}return!0}y.offset&&D(),s=!0}()||w>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){s=!1;var t=w;w=zr(($s.visualViewport&&$s.visualViewport.scale||1)/b),r.pause(),t!==w&&da(p,w>1.01||!h&&"x"),o=_(),a=y(),I(),n=qo},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&D(),e){ws.cache++;var n,s,o=T();h&&(s=(n=_())+.05*o*-t.velocityX/.227,o*=ua(_,n,s,qr(p,Os)),r.vars.scrollX=S(s)),s=(n=y())+.05*o*-t.velocityY/.227,o*=ua(y,n,s,qr(p,Ps)),r.vars.scrollY=k(s),r.invalidate().duration(o).play(.01),(pr&&r.vars.scrollY>=i||n>=i-1)&&js.to({},{onUpdate:A,duration:o})}else c.restart(!0);f&&f(t)},t.onWheel=function(){r._ts&&r.pause(),kr()-x>1e3&&(n=0,x=kr())},t.onChange=function(t,e,i,s,r){if(qo!==n&&I(),e&&h&&_(S(s[2]===e?o+(t.startX-t.x):_()+e-s[1])),i){y.offset&&D();var c=r[2]===i,l=c?a+t.startY-t.y:y()+i-r[1],u=k(l);c&&l!==u&&(a+=u-l),y(u)}(i||e)&&Wo()},t.onEnable=function(){da(p,!h&&"x"),la.addEventListener("refresh",A),wo($s,"resize",A),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},t.onDisable=function(){da(p,!0),bo($s,"resize",A),la.removeEventListener("refresh",A),E.kill()},t.lockAxis=!1!==t.lockAxis,(e=new Us(t)).iOS=pr,pr&&!y()&&y(1),pr&&js.ticker.add(Nr),c=e._dc,r=js.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:oa(y,y(),(function(){return r.pause()}))},onUpdate:Wo,onComplete:c.vars.onComplete}),e}(t);return hr&&hr.target===e.target&&hr.kill(),Vr(e.target)&&(hr=e),e},la.core={_getVelocityProp:Ns,_inputObserver:ga,_scrollers:ws,_proxies:bs,bridge:{ss:function(){Dr||Fo("scrollStart"),Dr=kr()},ref:function(){return tr}}},Br()&&js.registerPlugin(la),is.registerPlugin(la);const ya=window.matchMedia("(min-width: 701px)");function _a(){ya.matches&&is.to(".navbar",{scrollTrigger:{trigger:".menu",start:"top top",end:"max",pin:!0,pinSpacing:!1}})}function wa(t,e,i,n){const s=t.textContent;return t.textContent="",s.split("").forEach((e=>{const i=document.createElement("span");i.textContent=e,t.appendChild(i)})),function(t,e=1,i=.03,n=0){return is.fromTo(t.childNodes,{opacity:0,y:50},{scrollTrigger:{trigger:t,start:"top center+=100px",end:"center center"},opacity:1,y:50,duration:e,stagger:i,delay:n,ease:"power4.out"})}(t,e,i,n)}function ba(t,e,i,n){e?is.fromTo(t,{opacity:0},{scrollTrigger:{trigger:e,start:"top center+=100px",end:"center center+=100px"},opacity:1,duration:n,delay:i}):is.fromTo(t,{opacity:0},{opacity:1,duration:n,delay:i})}_a(),ya.addEventListener("change",_a);const xa=document.getElementById("scroll-up");xa.style.display="none";const Ta=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[i++]=s:s<2048?(e[i++]=s>>6|192,e[i++]=63&s|128):55296==(64512&s)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++n)),e[i++]=s>>18|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128,e[i++]=63&s|128):(e[i++]=s>>12|224,e[i++]=s>>6&63|128,e[i++]=63&s|128)}return e},Ea={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const s=t[e],r=e+1<t.length,o=r?t[e+1]:0,a=e+2<t.length,c=a?t[e+2]:0,l=s>>2,h=(3&s)<<4|o>>4;let u=(15&o)<<2|c>>6,d=63&c;a||(d=64,r||(u=64)),n.push(i[l],i[h],i[u],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ta(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,n=0;for(;i<t.length;){const s=t[i++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[i++];e[n++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(r>>10)),e[n++]=String.fromCharCode(56320+(1023&r))}else{const r=t[i++],o=t[i++];e[n++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const s=i[t.charAt(e++)],r=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const a=e<t.length?i[t.charAt(e)]:64;if(++e,null==s||null==r||null==o||null==a)throw new Ca;const c=s<<2|r>>4;if(n.push(c),64!==o){const t=r<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ca extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sa=function(t){return function(t){const e=Ta(t);return Ea.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ka=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return Ea.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Ia=()=>{var t;return null===(t=ka())||void 0===t?void 0:t.config};class Da{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}class Aa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,s=this.errors[t],r=s?function(t,e){return t.replace(Oa,((t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`}))}(s,i):"Error",o=`${this.serviceName}: ${r} (${n}).`;return new Aa(n,o,i)}}const Oa=/\{\$([^}]+)}/g;function Pa(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const s of i){if(!n.includes(s))return!1;const i=t[s],r=e[s];if(Ra(i)&&Ra(r)){if(!Pa(i,r))return!1}else if(i!==r)return!1}for(const t of n)if(!i.includes(t))return!1;return!0}function Ra(t){return null!==t&&"object"==typeof t}function La(t){return t&&t._delegate?t._delegate:t}class Na{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const za="[DEFAULT]";class Fa{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Da;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(n)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(t)&&e.resolve(n);return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(n,s);const r=this.instances.get(n);return r&&t(r,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===za?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var n;return i||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ba{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Fa(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Va=[];var Ua;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ua||(Ua={}));const ja={debug:Ua.DEBUG,verbose:Ua.VERBOSE,info:Ua.INFO,warn:Ua.WARN,error:Ua.ERROR,silent:Ua.SILENT},qa=Ua.INFO,$a={[Ua.DEBUG]:"log",[Ua.VERBOSE]:"log",[Ua.INFO]:"info",[Ua.WARN]:"warn",[Ua.ERROR]:"error"},Ha=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),s=$a[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${n}]  ${t.name}:`,...i)};class Ga{constructor(t){this.name=t,this._logLevel=qa,this._logHandler=Ha,this._userLogHandler=null,Va.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ua))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ja[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ua.DEBUG,...t),this._logHandler(this,Ua.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ua.VERBOSE,...t),this._logHandler(this,Ua.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ua.INFO,...t),this._logHandler(this,Ua.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ua.WARN,...t),this._logHandler(this,Ua.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ua.ERROR,...t),this._logHandler(this,Ua.ERROR,...t)}}let Xa,Ka;const Wa=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,Za=new WeakMap;let tc={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return Ya.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qa.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ic(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ec(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ka||(Ka=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nc(this),t),ic(Wa.get(this))}:function(...t){return ic(e.apply(nc(this),t))}:function(t,...i){const n=e.call(nc(this),t,...i);return Qa.set(n,t.sort?t.sort():[t]),ic(n)}:(t instanceof IDBTransaction&&function(t){if(Ya.has(t))return;const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",r),t.removeEventListener("abort",r)},s=()=>{e(),n()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",s),t.addEventListener("error",r),t.addEventListener("abort",r)}));Ya.set(t,e)}(t),i=t,(Xa||(Xa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>i instanceof t))?new Proxy(t,tc):t);var e,i}function ic(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("success",s),t.removeEventListener("error",r)},s=()=>{e(ic(t.result)),n()},r=()=>{i(t.error),n()};t.addEventListener("success",s),t.addEventListener("error",r)}));return e.then((e=>{e instanceof IDBCursor&&Wa.set(e,t)})).catch((()=>{})),Za.set(e,t),e}(t);if(Ja.has(t))return Ja.get(t);const e=ec(t);return e!==t&&(Ja.set(t,e),Za.set(e,t)),e}const nc=t=>Za.get(t),sc=["get","getKey","getAll","getAllKeys","count"],rc=["put","add","delete","clear"],oc=new Map;function ac(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oc.get(e))return oc.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,s=rc.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!s&&!sc.includes(i))return;const r=async function(t,...e){const r=this.transaction(t,s?"readwrite":"readonly");let o=r.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),s&&r.done]))[0]};return oc.set(e,r),r}var cc;cc=tc,tc={...cc,get:(t,e,i)=>ac(t,e)||cc.get(t,e,i),has:(t,e)=>!!ac(t,e)||cc.has(t,e)};class lc{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const hc="@firebase/app",uc="0.10.16",dc=new Ga("@firebase/app"),fc="@firebase/app-compat",pc="@firebase/analytics-compat",gc="@firebase/analytics",mc="@firebase/app-check-compat",vc="@firebase/app-check",yc="@firebase/auth",_c="@firebase/auth-compat",wc="@firebase/database",bc="@firebase/data-connect",xc="@firebase/database-compat",Tc="@firebase/functions",Ec="@firebase/functions-compat",Cc="@firebase/installations",Sc="@firebase/installations-compat",kc="@firebase/messaging",Ic="@firebase/messaging-compat",Dc="@firebase/performance",Ac="@firebase/performance-compat",Mc="@firebase/remote-config",Oc="@firebase/remote-config-compat",Pc="@firebase/storage",Rc="@firebase/storage-compat",Lc="@firebase/firestore",Nc="@firebase/vertexai",zc="@firebase/firestore-compat",Fc="firebase",Bc="[DEFAULT]",Vc={[hc]:"fire-core",[fc]:"fire-core-compat",[gc]:"fire-analytics",[pc]:"fire-analytics-compat",[vc]:"fire-app-check",[mc]:"fire-app-check-compat",[yc]:"fire-auth",[_c]:"fire-auth-compat",[wc]:"fire-rtdb",[bc]:"fire-data-connect",[xc]:"fire-rtdb-compat",[Tc]:"fire-fn",[Ec]:"fire-fn-compat",[Cc]:"fire-iid",[Sc]:"fire-iid-compat",[kc]:"fire-fcm",[Ic]:"fire-fcm-compat",[Dc]:"fire-perf",[Ac]:"fire-perf-compat",[Mc]:"fire-rc",[Oc]:"fire-rc-compat",[Pc]:"fire-gcs",[Rc]:"fire-gcs-compat",[Lc]:"fire-fst",[zc]:"fire-fst-compat",[Nc]:"fire-vertex","fire-js":"fire-js",[Fc]:"fire-js-all"},Uc=new Map,jc=new Map,qc=new Map;function $c(t,e){try{t.container.addComponent(e)}catch(i){dc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Hc(t){const e=t.name;if(qc.has(e))return dc.debug(`There were multiple attempts to register component ${e}.`),!1;qc.set(e,t);for(const e of Uc.values())$c(e,t);for(const e of jc.values())$c(e,t);return!0}const Gc=new Ma("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xc{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Na("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gc.create("app-deleted",{appName:this._name})}}function Kc(t,e={}){let i=t;"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Bc,automaticDataCollectionEnabled:!1},e),s=n.name;if("string"!=typeof s||!s)throw Gc.create("bad-app-name",{appName:String(s)});if(i||(i=Ia()),!i)throw Gc.create("no-options");const r=Uc.get(s);if(r){if(Pa(i,r.options)&&Pa(n,r.config))return r;throw Gc.create("duplicate-app",{appName:s})}const o=new Ba(s);for(const t of qc.values())o.addComponent(t);const a=new Xc(i,n,o);return Uc.set(s,a),a}function Wc(t,e,i){var n;let s=null!==(n=Vc[t])&&void 0!==n?n:t;i&&(s+=`-${i}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const t=[`Unable to register library "${s}" with version "${e}":`];return r&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dc.warn(t.join(" "))}Hc(new Na(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const Yc="firebase-heartbeat-store";let Qc=null;function Jc(){return Qc||(Qc=function(t,e,{blocked:i,upgrade:n,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=ic(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(ic(o.result),t.oldVersion,t.newVersion,ic(o.transaction),t)})),i&&o.addEventListener("blocked",(t=>i(t.oldVersion,t.newVersion,t))),a.then((t=>{r&&t.addEventListener("close",(()=>r())),s&&t.addEventListener("versionchange",(t=>s(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Yc)}catch(t){console.warn(t)}}}).catch((t=>{throw Gc.create("idb-open",{originalErrorMessage:t.message})}))),Qc}async function Zc(t,e){try{const i=(await Jc()).transaction(Yc,"readwrite"),n=i.objectStore(Yc);await n.put(e,tl(t)),await i.done}catch(t){if(t instanceof Aa)dc.warn(t.message);else{const e=Gc.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});dc.warn(e.message)}}}function tl(t){return`${t.name}!${t.options.appId}`}class el{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new nl(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=il();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(t){dc.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=il(),{heartbeatsToSend:i,unsentEntries:n}=function(t,e=1024){const i=[];let n=t.slice();for(const s of t){const t=i.find((t=>t.agent===s.agent));if(t){if(t.dates.push(s.date),sl(i)>e){t.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),sl(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),s=Sa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return dc.warn(t),""}}}function il(){return(new Date).toISOString().substring(0,10)}class nl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise(((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Jc()).transaction(Yc),i=await e.objectStore(Yc).get(tl(t));return await e.done,i}catch(t){if(t instanceof Aa)dc.warn(t.message);else{const e=Gc.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});dc.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zc(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zc(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function sl(t){return Sa(JSON.stringify({version:2,heartbeats:t})).length}Hc(new Na("platform-logger",(t=>new lc(t)),"PRIVATE")),Hc(new Na("heartbeat",(t=>new el(t)),"PRIVATE")),Wc(hc,uc,""),Wc(hc,uc,"esm2017"),Wc("fire-js",""),Wc("firebase","11.0.2","app");var rl,ol="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},al={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(t,e,i){i||(i=0);var n=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)n[s]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(s=0;16>s;++s)n[s]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.g[0],i=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^i&(s^r))+n[0]+3614090360&4294967295;o=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=(i=(s=(r=(e=i+(o<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^i&(s^r))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=r+(s^e&(i^s))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(i^r&(e^i))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=i+(e^s&(r^e))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(s^r&(i^s))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=r+(i^s&(e^i))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(e^i&(r^e))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=i+(r^e&(s^r))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s^r)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^s^r)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=r+(e^i^s)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(r^e^i)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=i+(s^r^e)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(s^(i|~r))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(s^(i|~r))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(s^(i|~r))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(e^(r|~i))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=i+(r^(s|~e))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((r=(e=i+((o=e+(s^(i|~r))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=r+(i^(e|~s))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=r+((o=s+(e^(r|~i))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}function n(t,e){this.h=e;for(var i=[],n=!0,s=t.length-1;0<=s;s--){var r=0|t[s];n&&r==e||(i[s]=r,n=!1)}this.g=i}!function(t,e){function i(){}i.prototype=e.prototype,t.D=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.C=function(t,i,n){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[i].apply(t,s)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,s=this.B,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)i(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(s[r++]=t.charCodeAt(o++),r==this.blockSize){i(this,s),r=0;break}}else for(;o<e;)if(s[r++]=t[o++],r==this.blockSize){i(this,s),r=0;break}}this.h=r,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var i=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&i,i/=256;for(this.u(t),t=Array(16),e=i=0;4>e;++e)for(var n=0;32>n;n+=8)t[i++]=this.g[e]>>>n&255;return t};var s={};function r(t){return-128<=t&&128>t?function(t){var e=s;return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(t){return new n([0|t],0>t?-1:0)}(t)}(t):new n([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],i=1,s=0;t>=i;s++)e[s]=t/i|0,i*=4294967296;return new n(e,0)}var a=r(0),c=r(1),l=r(16777216);function h(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function u(t){return-1==t.h}function d(t){for(var e=t.g.length,i=[],s=0;s<e;s++)i[s]=~t.g[s];return new n(i,~t.h).add(c)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(h(e))throw Error("division by zero");if(h(t))return new g(a,a);if(u(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(u(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(u(t)||u(e))throw Error("slowDivide_ only works with positive integers.");for(var i=c,n=e;0>=n.l(t);)i=v(i),n=v(n);var s=y(i,1),r=y(n,1);for(n=y(n,2),i=y(i,2);!h(n);){var l=r.add(n);0>=l.l(t)&&(s=s.add(i),r=l),n=y(n,1),i=y(i,1)}return e=f(t,s.j(e)),new g(s,e)}for(s=a;0<=t.l(e);){for(i=Math.max(1,Math.floor(t.m()/e.m())),n=48>=(n=Math.ceil(Math.log(i)/Math.LN2))?1:Math.pow(2,n-48),l=(r=o(i)).j(e);u(l)||0<l.l(t);)l=(r=o(i-=n)).j(e);h(r)&&(r=c),s=s.add(r),t=f(t,l)}return new g(s,t)}function v(t){for(var e=t.g.length+1,i=[],s=0;s<e;s++)i[s]=t.i(s)<<1|t.i(s-1)>>>31;return new n(i,t.h)}function y(t,e){var i=e>>5;e%=32;for(var s=t.g.length-i,r=[],o=0;o<s;o++)r[o]=0<e?t.i(o+i)>>>e|t.i(o+i+1)<<32-e:t.i(o+i);return new n(r,t.h)}(t=n.prototype).m=function(){if(u(this))return-d(this).m();for(var t=0,e=1,i=0;i<this.g.length;i++){var n=this.i(i);t+=(0<=n?n:4294967296+n)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(h(this))return"0";if(u(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),i=this,n="";;){var s=m(i,e).g,r=((0<(i=f(i,s.j(e))).g.length?i.g[0]:i.h)>>>0).toString(t);if(h(i=s))return r+n;for(;6>r.length;)r="0"+r;n=r+n}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return u(t=f(this,t))?-1:h(t)?0:1},t.abs=function(){return u(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0,r=0;r<=e;r++){var o=s+(65535&this.i(r))+(65535&t.i(r)),a=(o>>>16)+(this.i(r)>>>16)+(t.i(r)>>>16);s=a>>>16,o&=65535,a&=65535,i[r]=a<<16|o}return new n(i,-2147483648&i[i.length-1]?-1:0)},t.j=function(t){if(h(this)||h(t))return a;if(u(this))return u(t)?d(this).j(d(t)):d(d(this).j(t));if(u(t))return d(this.j(d(t)));if(0>this.l(l)&&0>t.l(l))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,i=[],s=0;s<2*e;s++)i[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var c=this.i(s)>>>16,f=65535&this.i(s),g=t.i(r)>>>16,m=65535&t.i(r);i[2*s+2*r]+=f*m,p(i,2*s+2*r),i[2*s+2*r+1]+=c*m,p(i,2*s+2*r+1),i[2*s+2*r+1]+=f*g,p(i,2*s+2*r+1),i[2*s+2*r+2]+=c*g,p(i,2*s+2*r+2)}for(s=0;s<e;s++)i[s]=i[2*s+1]<<16|i[2*s];for(s=e;s<2*e;s++)i[s]=0;return new n(i,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)&t.i(s);return new n(i,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)|t.i(s);return new n(i,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),i=[],s=0;s<e;s++)i[s]=this.i(s)^t.i(s);return new n(i,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,al.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=o,n.fromString=function t(e,i){if(0==e.length)throw Error("number format error: empty string");if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if("-"==e.charAt(0))return d(t(e.substring(1),i));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=o(Math.pow(i,8)),s=a,r=0;r<e.length;r+=8){var c=Math.min(8,e.length-r),l=parseInt(e.substring(r,r+c),i);8>c?(c=o(Math.pow(i,c)),s=s.j(c).add(o(l))):s=(s=s.j(n)).add(o(l))}return s},rl=al.Integer=n}).apply(void 0!==ol?ol:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var cl,ll,hl,ul,dl,fl,pl,gl,ml="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t},i=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ml&&ml];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);!function(t,n){if(n)t:{var s=i;t=t.split(".");for(var r=0;r<t.length-1;r++){var o=t[r];if(!(o in s))break t;s=s[o]}(n=n(r=s[t=t[t.length-1]]))!=r&&null!=n&&e(s,t,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var i=0,n=!1,s={next:function(){if(!n&&i<t.length){var s=i++;return{value:e(0,t[s]),done:!1}}return n=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(t,e){return e}))}}));var n=n||{},s=this||self;function r(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,i){return t.call.apply(t.bind,arguments)}function c(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function l(t,e,i){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function h(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function i(){}i.prototype=e.prototype,t.aa=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Qb=function(t,i,n){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[i].apply(t,s)}}function d(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function f(t,e){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(r(i)){const e=t.length||0,n=i.length||0;t.length=e+n;for(let s=0;s<n;s++)t[e+s]=i[s]}else t.push(i)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=s.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var v=!(-1==g().indexOf("Gecko")||-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge")||-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE")||-1!=g().indexOf("Edge"));function y(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function _(t){const e={};for(const i in t)e[i]=t[i];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(t,e){let i,n;for(let e=1;e<arguments.length;e++){for(i in n=arguments[e],n)t[i]=n[i];for(let e=0;e<w.length;e++)i=w[e],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function x(t){var e=1;t=t.split(":");const i=[];for(;0<e&&t.length;)i.push(t.shift()),e--;return t.length&&i.push(t.join(":")),i}function T(t){s.setTimeout((()=>{throw t}),0)}function E(){var t=D;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new S),(t=>t.reset()));class S{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let k,I=!1,D=new class{constructor(){this.h=this.g=null}add(t,e){const i=C.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},A=()=>{const t=s.Promise.resolve(void 0);k=()=>{t.then(M)}};var M=()=>{for(var t;t=E();){try{t.h.call(t.g)}catch(t){T(t)}var e=C;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function O(){this.s=this.s,this.C=this.C}function P(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};s.addEventListener("test",t,e),s.removeEventListener("test",t,e)}catch(t){}return t}();function L(t,e){if(P.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v){t:{try{m(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:N[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&L.aa.h.call(this)}}u(L,P);var N={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(t,e,i,n,s){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function j(t,e){var i=e.type;if(i in t.g){var n,s=t.g[i],r=Array.prototype.indexOf.call(s,e,void 0);(n=0<=r)&&Array.prototype.splice.call(s,r,1),n&&(V(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function q(t,e,i,n){for(var s=0;s<t.length;++s){var r=t[s];if(!r.da&&r.listener==e&&r.capture==!!i&&r.ha==n)return s}return-1}U.prototype.add=function(t,e,i,n,s){var r=t.toString();(t=this.g[r])||(t=this.g[r]=[],this.h++);var o=q(t,e,n,s);return-1<o?(e=t[o],i||(e.fa=!1)):((e=new B(e,this.src,r,!!n,s)).fa=i,t.push(e)),e};var $="closure_lm_"+(1e6*Math.random()|0),H={};function G(t,e,i,n,s){if(n&&n.once)return K(t,e,i,n,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)G(t,e[r],i,n,s);return null}return i=et(i),t&&t[z]?t.K(e,i,o(n)?!!n.capture:!!n,s):X(t,e,i,!1,n,s)}function X(t,e,i,n,s,r){if(!e)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,c=Z(t);if(c||(t[$]=c=new U(t)),(i=c.add(e,i,n,a,r)).proxy)return i;if(n=function(){const t=J;return function e(i){return t.call(e.src,e.listener,i)}}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)R||(s=a),void 0===s&&(s=!1),t.addEventListener(e.toString(),n,s);else if(t.attachEvent)t.attachEvent(Q(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function K(t,e,i,n,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)K(t,e[r],i,n,s);return null}return i=et(i),t&&t[z]?t.L(e,i,o(n)?!!n.capture:!!n,s):X(t,e,i,!0,n,s)}function W(t,e,i,n,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)W(t,e[r],i,n,s);else n=o(n)?!!n.capture:!!n,i=et(i),t&&t[z]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=q(r=t.g[e],i,n,s))&&(V(r[i]),Array.prototype.splice.call(r,i,1),0==r.length&&(delete t.g[e],t.h--))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q(e,i,n,s)),(i=-1<t?e[t]:null)&&Y(i))}function Y(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[z])j(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(Q(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=Z(e))?(j(i,t),0==i.h&&(i.src=null,e[$]=null)):V(t)}}}function Q(t){return t in H?H[t]:H[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new L(e,this);var i=t.listener,n=t.ha||t.src;t.fa&&Y(t),t=i.call(n,e)}return t}function Z(t){return(t=t[$])instanceof U?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"==typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function it(){O.call(this),this.i=new U(this),this.M=this,this.F=null}function nt(t,e){var i,n=t.F;if(n)for(i=[];n;n=n.F)i.push(n);if(t=t.M,n=e.type||e,"string"==typeof e)e=new P(e,t);else if(e instanceof P)e.target=e.target||t;else{var s=e;b(e=new P(n,t),s)}if(s=!0,i)for(var r=i.length-1;0<=r;r--){var o=e.g=i[r];s=st(o,n,!0,e)&&s}if(s=st(o=e.g=t,n,!0,e)&&s,s=st(o,n,!1,e)&&s,i)for(r=0;r<i.length;r++)s=st(o=e.g=i[r],n,!1,e)&&s}function st(t,e,i,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.da&&o.capture==i){var a=o.listener,c=o.ha||o.src;o.fa&&j(t.i,o),s=!1!==a.call(c,n)&&s}}return s&&!n.defaultPrevented}function rt(t,e,i){if("function"==typeof t)i&&(t=l(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function ot(t){t.g=rt((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}u(it,O),it.prototype[z]=!0,it.prototype.removeEventListener=function(t,e,i,n){W(this,t,e,i,n)},it.prototype.N=function(){if(it.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)V(i[n]);delete e.g[t],e.h--}}this.F=null},it.prototype.K=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)},it.prototype.L=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};class at extends O{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ct(t){O.call(this),this.h=t,this.g={}}u(ct,O);var lt=[];function ht(t){y(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Y(t)}),t),t.g={}}ct.prototype.N=function(){ct.aa.N.call(this),ht(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=s.JSON.stringify,dt=s.JSON.parse,ft=class{stringify(t){return s.JSON.stringify(t,void 0)}parse(t){return s.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){P.call(this,"d")}function _t(){P.call(this,"c")}u(yt,P),u(_t,P);var wt={},bt=null;function xt(){return bt=bt||new it}function Tt(t){P.call(this,wt.La,t)}function Et(t){const e=xt();nt(e,new Tt(e))}function Ct(t,e){P.call(this,wt.STAT_EVENT,t),this.stat=e}function St(t){const e=xt();nt(e,new Ct(e,t))}function kt(t,e){P.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}function Dt(){this.g=!0}function At(t,e,i,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var s=n[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return ut(i)}catch(t){return e}}(t,i)+(n?" "+n:"")}))}wt.La="serverreachability",u(Tt,P),wt.STAT_EVENT="statevent",u(Ct,P),wt.Ma="timingevent",u(kt,P),Dt.prototype.xa=function(){this.g=!1},Dt.prototype.info=function(){};var Mt,Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rt(){}function Lt(t,e,i,n){this.j=t,this.i=e,this.l=i,this.R=n||1,this.U=new ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}u(Rt,pt),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},Mt=new Rt;var zt={},Ft={};function Bt(t,e,i){t.L=1,t.v=ue(oe(e)),t.m=i,t.P=!0,Vt(t,null)}function Vt(t,e){t.F=Date.now(),qt(t),t.A=oe(t.v);var i=t.A,n=t.R;Array.isArray(n)||(n=[String(n)]),Ce(i.i,"t",n),t.C=0,i=t.j.J,t.h=new Nt,t.g=di(t.j,i?e:null,!t.m),0<t.O&&(t.M=new at(l(t.Y,t,t.g),t.O)),e=t.U,i=t.g,n=t.ca;var s="readystatechange";Array.isArray(s)||(s&&(lt[0]=s.toString()),s=lt);for(var r=0;r<s.length;r++){var o=G(i,s[r],n||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?_(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,i,n,s,r){t.info((function(){if(t.g)if(r)for(var o="",a=r.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var u=h.split("_");o=2<=u.length&&"type"==u[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+n+") [attempt "+s+"]: "+e+"\n"+i+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Ut(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.j.Ca}function jt(t,e){var i=t.C,n=e.indexOf("\n",i);return-1==n?Ft:(i=Number(e.substring(i,n)),isNaN(i)?zt:(n+=1)+i>e.length?Ft:(e=e.slice(n,n+i),t.C=n+i,e))}function qt(t){t.S=Date.now()+t.I,$t(t,t.I)}function $t(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(l(t.ba,t),e)}function Ht(t){t.B&&(s.clearTimeout(t.B),t.B=null)}function Gt(t){0==t.j.G||t.J||ai(t.j,t)}function Xt(t){Ht(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ht(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Kt(t,e){try{var i=t.j;if(0!=i.G&&(i.g==t||Zt(i.h,t)))if(!t.K&&Zt(i.h,t)&&3==i.G){try{var n=i.Da.g.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var s=n;if(0==s[0]){t:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break t;oi(i),Ye(i)}ni(i),St(18)}}else i.za=s[1],0<i.za-i.T&&37500>s[2]&&i.F&&0==i.v&&!i.C&&(i.C=It(l(i.Za,i),6e3));if(1>=Jt(i.h)&&i.ca){try{i.ca()}catch(t){}i.ca=void 0}}else li(i,11)}else if((t.K||i.g==t)&&oi(i),!p(e))for(s=i.Da.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(i.T=l[0],l=l[1],2==i.G)if("c"==l[0]){i.K=l[1],i.ia=l[2];const e=l[3];null!=e&&(i.la=e,i.j.info("VER="+i.la));const s=l[4];null!=s&&(i.Aa=s,i.j.info("SVER="+i.Aa));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n=1.5*h,i.L=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=n.h;r.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(te(r,r.h),r.h=null))}if(n.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.ya=t,he(n.I,n.D,t))}}i.G=3,i.l&&i.l.ua(),i.ba&&(i.R=Date.now()-t.F,i.j.info("Handshake RTT: "+i.R+"ms"));var o=t;if((n=i).qa=ui(n,n.J?n.ia:null,n.W),o.K){ee(n.h,o);var a=o,c=n.L;c&&(a.I=c),a.B&&(Ht(a),qt(a)),n.g=o}else ii(n);0<i.i.length&&Je(i)}else"stop"!=l[0]&&"close"!=l[0]||li(i,7);else 3==i.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?li(i,7):We(i):"noop"!=l[0]&&i.l&&i.l.ta(l),i.v=0)}Et()}catch(t){}}Lt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==He(t)?e.j():this.Y(t)},Lt.prototype.Y=function(t){try{if(t==this.g)t:{const d=He(this.g);var e=this.g.Ba();if(this.g.Z(),!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ge(this.g)))){this.J||4!=d||7==e||Et(),Ht(this);var i=this.g.Z();this.X=i;e:if(Ut(this)){var n=Ge(this.g);t="";var r=n.length,o=4==He(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xt(this),Gt(this);var a="";break e}this.h.i=new s.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:!(o&&e==r-1)});n.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==i,function(t,e,i,n,s,r,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+s+"]: "+e+"\n"+i+"\n"+r+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,i),this.o){if(this.T&&!this.K){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(c)){var h=c;break e}}h=null}if(!(i=h)){this.o=!1,this.s=3,St(12),Xt(this),Gt(this);break t}At(this.i,this.l,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kt(this,i)}if(this.P){let t;for(i=!0;!this.J&&this.C<a.length;){if(t=jt(this,a),t==Ft){4==d&&(this.s=4,St(14),i=!1),At(this.i,this.l,null,"[Incomplete Response]");break}if(t==zt){this.s=4,St(15),At(this.i,this.l,a,"[Invalid Chunk]"),i=!1;break}At(this.i,this.l,t,null),Kt(this,t)}if(Ut(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,St(16),i=!1),this.o=this.o&&i,i){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),si(u),u.M=!0,St(11))}}else At(this.i,this.l,a,"[Invalid Chunked Response]"),Xt(this),Gt(this)}else At(this.i,this.l,a,null),Kt(this,a);4==d&&Xt(this),this.o&&!this.J&&(4==d?ai(this.j,this):(this.o=!1,qt(this)))}else(function(t){const e={};t=(t.g&&2<=He(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<t.length;n++){if(p(t[n]))continue;var i=x(t[n]);const s=i[0];if("string"!=typeof(i=i[1]))continue;i=i.trim();const r=e[s]||[];e[s]=r,r.push(i)}!function(t,e){for(const i in t)e.call(void 0,t[i],i,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==i&&0<a.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Xt(this),Gt(this)}}}catch(t){}},Lt.prototype.cancel=function(){this.J=!0,Xt(this)},Lt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),St(17)),Xt(this),this.s=2,Gt(this)):$t(this,this.S-t)};var Wt=class{constructor(t,e){this.g=t,this.map=e}};function Yt(t){this.l=t||10,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ie(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return d(t.i)}function ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(r(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var i=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(r(t)||"string"==typeof t){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const n in t)e[i++]=n;return e}}}(t),n=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(r(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}(t),s=n.length,o=0;o<s;o++)e.call(void 0,n[o],i&&i[o],t)}Yt.prototype.cancel=function(){if(this.i=ie(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var se=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof re){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,ce(this,t.s),this.l=t.l;var e=t.i,i=new be;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),le(this,i),this.m=t.m}else t&&(e=String(t).match(se))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),ce(this,e[4]),this.l=de(e[5]||"",!0),le(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new be(null,this.h))}function oe(t){return new re(t)}function ae(t,e,i){t.j=i?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ce(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function le(t,e,i){e instanceof be?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach((function(t,e){var i=e.toLowerCase();e!=i&&(Te(this,e),Ce(this,i,t))}),t)),t.j=e}(t.i,t.h)):(i||(e=fe(e,_e)),t.i=new be(e,t.h))}function he(t,e,i){t.i.set(e,i)}function ue(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,pe),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var i=this.g;return(i||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.s)&&t.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&t.push("/"),t.push(fe(i,"/"==i.charAt(0)?ye:ve,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.m)&&t.push("#",fe(i,we)),t.join("")};var ge,me=/[#\/\?@]/g,ve=/[#\?:]/g,ye=/[#\?]/g,_e=/[#\?@]/g,we=/#/g;function be(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),s=null;if(0<=n){var r=t[i].substring(0,n);s=t[i].substring(n+1)}else r=t[i];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,(function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)})))}function Te(t,e){xe(t),e=Se(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return xe(t),e=Se(t,e),t.g.has(e)}function Ce(t,e,i){Te(t,e),0<i.length&&(t.i=null,t.g.set(Se(t,e),d(i)),t.h+=i.length)}function Se(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ke(t,e,i,n,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),n(i)}catch(t){}}function Ie(){this.g=new ft}function De(t,e,i){const n=i||"";try{ne(t,(function(t,i){let s=t;o(t)&&(s=ut(t)),e.push(n+i+"="+encodeURIComponent(s))}))}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function Ae(t){this.l=t.Ub||null,this.j=t.eb||!1}function Me(t,e){it.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Oe(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Pe(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Re(t)}function Re(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Le(t){let e="";return y(t,(function(t,i){e+=i,e+=":",e+=t,e+="\r\n"})),e}function Ne(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=Le(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):he(t,e,i))}function ze(t){it.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=be.prototype).add=function(t,e){xe(this),this.i=null,t=Se(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach((function(i,n){i.forEach((function(i){t.call(e,i,n,this)}),this)}),this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){const s=t[n];for(let t=0;t<s.length;t++)i.push(e[n])}return i},t.V=function(t){xe(this);let e=[];if("string"==typeof t)Ee(this,t)&&(e=e.concat(this.g.get(Se(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e},t.set=function(t,e){return xe(this),this.i=null,Ee(this,t=Se(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];const r=encodeURIComponent(String(n)),o=this.V(n);for(n=0;n<o.length;n++){var s=r;""!==o[n]&&(s+="="+encodeURIComponent(String(o[n]))),t.push(s)}}return this.i=t.join("&")},u(Ae,pt),Ae.prototype.g=function(){return new Me(this.l,this.j)},Ae.prototype.i=(ge={},function(){return ge}),u(Me,it),(t=Me.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Re(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||s).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pe(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Re(this)),this.g&&(this.readyState=3,Re(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oe(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pe(this):Re(this),3==this.readyState&&Oe(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Pe(this))},t.Qa=function(t){this.g&&(this.response=t,Pe(this))},t.ga=function(){this.g&&Pe(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Me.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),u(ze,it);var Fe=/^https?$/i,Be=["POST","PUT"];function Ve(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Ue(t),qe(t)}function Ue(t){t.A||(t.A=!0,nt(t,"complete"),nt(t,"error"))}function je(t){if(t.h&&void 0!==n&&(!t.v[1]||4!=He(t)||2!=t.Z()))if(t.u&&4==He(t))rt(t.Ea,0,t);else if(nt(t,"readystatechange"),4==He(t)){t.h=!1;try{const n=t.Z();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var r;if(r=0===n){var o=String(t.D).match(se)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),r=!Fe.test(o?o.toLowerCase():"")}i=r}if(i)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var a=2<He(t)?t.g.statusText:""}catch(t){a=""}t.l=a+" ["+t.Z()+"]",Ue(t)}}finally{qe(t)}}}function qe(t,e){if(t.g){$e(t);const i=t.g,n=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||nt(t,"ready");try{i.onreadystatechange=n}catch(t){}}}function $e(t){t.I&&(s.clearTimeout(t.I),t.I=null)}function He(t){return t.g?t.g.readyState:0}function Ge(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xe(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Ke(t){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xe("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xe("baseRetryDelayMs",5e3,t),this.cb=Xe("retryDelaySeedMs",1e4,t),this.Wa=Xe("forwardChannelMaxRetries",2,t),this.wa=Xe("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Yt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function We(t){if(Qe(t),3==t.G){var e=t.U++,i=oe(t.I);if(he(i,"SID",t.K),he(i,"RID",e),he(i,"TYPE","terminate"),ti(t,i),(e=new Lt(t,t.j,e)).L=2,e.v=ue(oe(i)),i=!1,s.navigator&&s.navigator.sendBeacon)try{i=s.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!i&&s.Image&&((new Image).src=e.v,i=!0),i||(e.g=di(e.j,null),e.g.ea(e.v)),e.F=Date.now(),qt(e)}hi(t)}function Ye(t){t.g&&(si(t),t.g.cancel(),t.g=null)}function Qe(t){Ye(t),t.u&&(s.clearTimeout(t.u),t.u=null),oi(t),t.h.cancel(),t.s&&("number"==typeof t.s&&s.clearTimeout(t.s),t.s=null)}function Je(t){if(!Qt(t.h)&&!t.s){t.s=!0;var e=t.Ga;k||A(),I||(k(),I=!0),D.add(e,t),t.B=0}}function Ze(t,e){var i;i=e?e.l:t.U++;const n=oe(t.I);he(n,"SID",t.K),he(n,"RID",i),he(n,"AID",t.T),ti(t,n),t.m&&t.o&&Ne(n,t.m,t.o),i=new Lt(t,t.j,i,t.B+1),null===t.m&&(i.H=t.o),e&&(t.i=e.D.concat(t.i)),e=ei(t,i,1e3),i.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,i),Bt(i,n,e)}function ti(t,e){t.H&&y(t.H,(function(t,i){he(e,i,t)})),t.l&&ne({},(function(t,i){he(e,i,t)}))}function ei(t,e,i){i=Math.min(t.i.length,i);var n=t.l?l(t.l.Na,t.l,t):null;t:{var s=t.i;let e=-1;for(;;){const t=["count="+i];-1==e?0<i?(e=s[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let r=!0;for(let o=0;o<i;o++){let i=s[o].g;const a=s[o].map;if(i-=e,0>i)e=Math.max(0,s[o].g-100),r=!1;else try{De(a,t,"req"+i+"_")}catch(t){n&&n(a)}}if(r){n=t.join("&");break t}}}return t=t.i.splice(0,i),e.D=t,n}function ii(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;k||A(),I||(k(),I=!0),D.add(e,t),t.v=0}}function ni(t){return!(t.g||t.u||3<=t.v||(t.Y++,t.u=It(l(t.Fa,t),ci(t,t.v)),t.v++,0))}function si(t){null!=t.A&&(s.clearTimeout(t.A),t.A=null)}function ri(t){t.g=new Lt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.T),he(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&he(e,"TO",t.ja),he(e,"TYPE","xmlhttp"),ti(t,e),t.m&&t.o&&Ne(e,t.m,t.o),t.L&&(t.g.I=t.L);var i=t.g;t=t.ia,i.L=1,i.v=ue(oe(e)),i.m=null,i.P=!0,Vt(i,t)}function oi(t){null!=t.C&&(s.clearTimeout(t.C),t.C=null)}function ai(t,e){var i=null;if(t.g==e){oi(t),si(t),t.g=null;var n=2}else{if(!Zt(t.h,e))return;i=e.D,ee(t.h,e),n=1}if(0!=t.G)if(e.o)if(1==n){i=e.m?e.m.length:0,e=Date.now()-e.F;var s=t.B;nt(n=xt(),new kt(n,i)),Je(t)}else ii(t);else if(3==(s=e.s)||0==s&&0<e.X||!(1==n&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=It(l(t.Ga,t,e),ci(t,t.B)),t.B++,0)))}(t,e)||2==n&&ni(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),s){case 1:li(t,5);break;case 4:li(t,10);break;case 3:li(t,6);break;default:li(t,2)}}function ci(t,e){let i=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(i*=2),i*e}function li(t,e){if(t.j.info("Error code "+e),2==e){var i=l(t.fb,t),n=t.Xa;const e=!n;n=new re(n||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ae(n,"https"),ue(n),e?function(t,e){const i=new Dt;if(s.Image){const n=new Image;n.onload=h(ke,i,"TestLoadImage: loaded",!0,e,n),n.onerror=h(ke,i,"TestLoadImage: error",!1,e,n),n.onabort=h(ke,i,"TestLoadImage: abort",!1,e,n),n.ontimeout=h(ke,i,"TestLoadImage: timeout",!1,e,n),s.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(n.toString(),i):function(t,e){new Dt;const i=new AbortController,n=setTimeout((()=>{i.abort(),ke(0,0,!1,e)}),1e4);fetch(t,{signal:i.signal}).then((t=>{clearTimeout(n),t.ok?ke(0,0,!0,e):ke(0,0,!1,e)})).catch((()=>{clearTimeout(n),ke(0,0,!1,e)}))}(n.toString(),i)}else St(2);t.G=0,t.l&&t.l.sa(e),hi(t),Qe(t)}function hi(t){if(t.G=0,t.ka=[],t.l){const e=ie(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function ui(t,e,i){var n=i instanceof re?oe(i):new re(i);if(""!=n.g)e&&(n.g=e+"."+n.g),ce(n,n.s);else{var r=s.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new re(null);n&&ae(o,n),e&&(o.g=e),r&&ce(o,r),i&&(o.l=i),n=o}return i=t.D,e=t.ya,i&&e&&he(n,i,e),he(n,"VER",t.la),ti(t,n),n}function di(t,e,i){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new ze(new Ae({eb:i})):new ze(t.pa)).Ha(t.J),e}function fi(){}function pi(){}function gi(t,e){it.call(this),this.g=new Ke(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new yi(this)}function mi(t){yt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vi(){_t.call(this),this.status=1}function yi(t){this.g=t}(t=ze.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?gt(this.o):gt(Mt),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(t){return void Ve(this,t)}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const t of n.keys())i.set(t,n.get(t))}n=Array.from(i.keys()).find((t=>"content-type"==t.toLowerCase())),r=s.FormData&&t instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Be,e,void 0))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of i)this.g.setRequestHeader(t,e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$e(this),this.u=!0,this.g.send(t),this.u=!1}catch(t){Ve(this,t)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?je(this):this.bb())},t.bb=function(){je(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<He(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Ke.prototype).la=8,t.G=1,t.connect=function(t,e,i,n){St(0),this.W=t,this.H=e||{},i&&void 0!==n&&(this.H.OSID=i,this.H.OAID=n),this.F=this.X,this.I=ui(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new Lt(this,this.j,t);let r=this.o;if(this.S&&(r?(r=_(r),b(r,this.S)):r=this.S),null!==this.m||this.O||(s.H=r,r=null),this.P)t:{for(var e=0,i=0;i<this.i.length;i++){var n=this.i[i];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=i;break t}if(4096===e||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ei(this,s,e),he(i=oe(this.I),"RID",t),he(i,"CVER",22),this.D&&he(i,"X-HTTP-Session-Id",this.D),ti(this,i),r&&(this.O?e="headers="+encodeURIComponent(String(Le(r)))+"&"+e:this.m&&Ne(i,this.m,r)),te(this.h,s),this.Ua&&he(i,"TYPE","init"),this.P?(he(i,"$req",e),he(i,"SID","null"),s.T=!0,Bt(s,i,null)):Bt(s,i,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Qt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,ri(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(l(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Ye(this),ri(this))},t.Za=function(){null!=this.C&&(this.C=null,Ye(this),ni(this),St(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=fi.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},pi.prototype.g=function(t,e){return new gi(t,e)},u(gi,it),gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){We(this.g)},gi.prototype.o=function(t){var e=this.g;if("string"==typeof t){var i={};i.__data__=t,t=i}else this.u&&((i={}).__data__=ut(t),t=i);e.i.push(new Wt(e.Ya++,t)),3==e.G&&Je(e)},gi.prototype.N=function(){this.g.l=null,delete this.j,We(this.g),delete this.g,gi.aa.N.call(this)},u(mi,yt),u(vi,_t),u(yi,fi),yi.prototype.ua=function(){nt(this.g,"a")},yi.prototype.ta=function(t){nt(this.g,new mi(t))},yi.prototype.sa=function(t){nt(this.g,new vi)},yi.prototype.ra=function(){nt(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,gl=vl.createWebChannelTransport=function(){return new pi},pl=vl.getStatEventTarget=function(){return xt()},fl=vl.Event=wt,dl=vl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,ul=vl.ErrorCode=Ot,Pt.COMPLETE="complete",hl=vl.EventType=Pt,mt.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",it.prototype.listen=it.prototype.K,ll=vl.WebChannel=mt,vl.FetchXmlHttpFactory=Ae,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,cl=vl.XhrIo=ze}).apply(void 0!==ml?ml:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const yl="@firebase/firestore";class _l{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_l.UNAUTHENTICATED=new _l(null),_l.GOOGLE_CREDENTIALS=new _l("google-credentials-uid"),_l.FIRST_PARTY=new _l("first-party-uid"),_l.MOCK_USER=new _l("mock-user");let wl="11.0.2";const bl=new Ga("@firebase/firestore");function xl(){return bl.logLevel}function Tl(t,...e){if(bl.logLevel<=Ua.DEBUG){const i=e.map(Sl);bl.debug(`Firestore (${wl}): ${t}`,...i)}}function El(t,...e){if(bl.logLevel<=Ua.ERROR){const i=e.map(Sl);bl.error(`Firestore (${wl}): ${t}`,...i)}}function Cl(t,...e){if(bl.logLevel<=Ua.WARN){const i=e.map(Sl);bl.warn(`Firestore (${wl}): ${t}`,...i)}}function Sl(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function kl(t="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+t;throw El(e),new Error(e)}function Il(t,e){t||kl()}function Dl(t,e){return t}const Al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ml extends Aa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ol{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Pl{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Rl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_l.UNAUTHENTICATED)))}shutdown(){}}class Ll{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Nl{constructor(t){this.t=t,this.currentUser=_l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Il(void 0===this.o);let i=this.i;const n=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let s=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ol,t.enqueueRetryable((()=>n(this.currentUser)))};const r=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{Tl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Tl("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ol)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Tl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Il("string"==typeof e.accessToken),new Pl(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Il(null===t||"string"==typeof t),new _l(t)}}class zl{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=_l.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fl{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new zl(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(_l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bl{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vl{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Il(void 0===this.o);const i=t=>{null!=t.error&&Tl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.R;return this.R=t.token,Tl("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>i(e)))};const n=t=>{Tl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?n(t):Tl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Il("string"==typeof t.token),this.R=t.token,new Bl(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ul(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let e=0;e<t;e++)i[e]=Math.floor(256*Math.random());return i}class jl{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const i=Ul(40);for(let n=0;n<i.length;++n)e.length<20&&i[n]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[n]%62))}return e}}function ql(t,e){return t<e?-1:t>e?1:0}function $l(t,e,i){return t.length===e.length&&t.every(((t,n)=>i(t,e[n])))}class Hl{static now(){return Hl.fromMillis(Date.now())}static fromDate(t){return Hl.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Hl(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ml(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ml(Al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ml(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ml(Al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ql(this.nanoseconds,t.nanoseconds):ql(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gl{static fromTimestamp(t){return new Gl(t)}static min(){return new Gl(new Hl(0,0))}static max(){return new Gl(new Hl(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xl{constructor(t,e,i){void 0===e?e=0:e>t.length&&kl(),void 0===i?i=t.length-e:i>t.length-e&&kl(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Xl.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xl?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const i=t.get(n),s=e.get(n);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Kl extends Xl{construct(t,e,i){return new Kl(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ml(Al.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((t=>t.length>0)))}return new Kl(e)}static emptyPath(){return new Kl([])}}const Wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yl extends Xl{construct(t,e,i){return new Yl(t,e,i)}static isValidIdentifier(t){return Wl.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yl.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yl(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const s=()=>{if(0===i.length)throw new Ml(Al.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let r=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new Ml(Al.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Ml(Al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,n+=2}else"`"===e?(r=!r,n++):"."!==e||r?(i+=e,n++):(s(),n++)}if(s(),r)throw new Ml(Al.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yl(e)}static emptyPath(){return new Yl([])}}class Ql{constructor(t){this.path=t}static fromPath(t){return new Ql(Kl.fromString(t))}static fromName(t){return new Ql(Kl.fromString(t).popFirst(5))}static empty(){return new Ql(Kl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Kl.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Kl.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ql(new Kl(t.slice()))}}function Jl(t){return new Zl(t.readTime,t.key,-1)}class Zl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Zl(Gl.min(),Ql.empty(),-1)}static max(){return new Zl(Gl.max(),Ql.empty(),-1)}}function th(t,e){let i=t.readTime.compareTo(e.readTime);return 0!==i?i:(i=Ql.comparator(t.documentKey,e.documentKey),0!==i?i:ql(t.largestBatchId,e.largestBatchId))}class eh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ih(t){if(t.code!==Al.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;Tl("LocalStore","Unexpectedly lost primary lease")}class nh{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&kl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nh(((i,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nh?e:nh.resolve(e)}catch(t){return nh.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nh.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nh.reject(e)}static resolve(t){return new nh(((e,i)=>{e(t)}))}static reject(t){return new nh(((e,i)=>{i(t)}))}static waitFor(t){return new nh(((e,i)=>{let n=0,s=0,r=!1;t.forEach((t=>{++n,t.next((()=>{++s,r&&s===n&&e()}),(t=>i(t)))})),r=!0,s===n&&e()}))}static or(t){let e=nh.resolve(!1);for(const i of t)e=e.next((t=>t?nh.resolve(t):i()));return e}static forEach(t,e){const i=[];return t.forEach(((t,n)=>{i.push(e.call(this,t,n))})),this.waitFor(i)}static mapArray(t,e){return new nh(((i,n)=>{const s=t.length,r=new Array(s);let o=0;for(let a=0;a<s;a++){const c=a;e(t[c]).next((t=>{r[c]=t,++o,o===s&&i(r)}),(t=>n(t)))}}))}static doWhile(t,e){return new nh(((i,n)=>{const s=()=>{!0===t()?e().next((()=>{s()}),n):i()};s()}))}}function sh(t){return"IndexedDbTransactionError"===t.name}class rh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function oh(t){return null==t}function ah(t){return 0===t&&1/t==-1/0}function ch(t,e){let i=e;const n=t.length;for(let e=0;e<n;e++){const n=t.charAt(e);switch(n){case"\0":i+="";break;case"":i+="";break;default:i+=n}}return i}function lh(t){return t+""}rh.oe=-1;function hh(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function uh(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function dh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class fh{constructor(t,e){this.comparator=t,this.root=e||gh.EMPTY}insert(t,e){return new fh(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gh.BLACK,null,null))}remove(t){return new fh(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gh.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ph(this.root,t,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ph(this.root,t,this.comparator,!0)}}class ph{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&n&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gh{constructor(t,e,i,n,s){this.key=t,this.value=e,this.color=null!=i?i:gh.RED,this.left=null!=n?n:gh.EMPTY,this.right=null!=s?s:gh.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,s){return new gh(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const s=i(t,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(t,e,i),null):0===s?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return gh.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return gh.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gh.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kl();if(this.right.isRed())throw kl();const t=this.left.check();if(t!==this.right.check())throw kl();return t+(this.isRed()?0:1)}}gh.EMPTY=null,gh.RED=!0,gh.BLACK=!1,gh.EMPTY=new class{constructor(){this.size=0}get key(){throw kl()}get value(){throw kl()}get color(){throw kl()}get left(){throw kl()}get right(){throw kl()}copy(t,e,i,n,s){return this}insert(t,e,i){return new gh(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mh{constructor(t){this.comparator=t,this.data=new fh(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vh(this.data.getIterator())}getIteratorFrom(t){return new vh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof mh))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new mh(this.comparator);return e.data=t,e}}class vh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yh{constructor(t){this.fields=t,t.sort(Yl.comparator)}static empty(){return new yh([])}unionWith(t){let e=new mh(Yl.comparator);for(const t of this.fields)e=e.add(t);for(const i of t)e=e.add(i);return new yh(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $l(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class _h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wh{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new _h("Invalid base64 string: "+t):t}}(t);return new wh(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new wh(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ql(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wh.EMPTY_BYTE_STRING=new wh("");const bh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(t){if(Il(!!t),"string"==typeof t){let e=0;const i=bh.exec(t);if(Il(!!i),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Th(t.seconds),nanos:Th(t.nanos)}}function Th(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Eh(t){return"string"==typeof t?wh.fromBase64String(t):wh.fromUint8Array(t)}function Ch(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Sh(t){const e=t.mapValue.fields.__previous_value__;return Ch(e)?Sh(e):e}function kh(t){const e=xh(t.mapValue.fields.__local_write_time__.timestampValue);return new Hl(e.seconds,e.nanos)}class Ih{constructor(t,e,i,n,s,r,o,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class Dh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Dh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Dh&&t.projectId===this.projectId&&t.database===this.database}}const Ah={fields:{__type__:{stringValue:"__max__"}}};function Mh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ch(t)?4:Hh(t)?9007199254740991:qh(t)?10:11:kl()}function Oh(t,e){if(t===e)return!0;const i=Mh(t);if(i!==Mh(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=xh(t.timestampValue),n=xh(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Eh(t.bytesValue).isEqual(Eh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Th(t.geoPointValue.latitude)===Th(e.geoPointValue.latitude)&&Th(t.geoPointValue.longitude)===Th(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Th(t.integerValue)===Th(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=Th(t.doubleValue),n=Th(e.doubleValue);return i===n?ah(i)===ah(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Oh);case 10:case 11:return function(t,e){const i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(hh(i)!==hh(n))return!1;for(const t in i)if(i.hasOwnProperty(t)&&(void 0===n[t]||!Oh(i[t],n[t])))return!1;return!0}(t,e);default:return kl()}}function Ph(t,e){return void 0!==(t.values||[]).find((t=>Oh(t,e)))}function Rh(t,e){if(t===e)return 0;const i=Mh(t),n=Mh(e);if(i!==n)return ql(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return ql(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=Th(t.integerValue||t.doubleValue),n=Th(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return Lh(t.timestampValue,e.timestampValue);case 4:return Lh(kh(t),kh(e));case 5:return ql(t.stringValue,e.stringValue);case 6:return function(t,e){const i=Eh(t),n=Eh(e);return i.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),n=e.split("/");for(let t=0;t<i.length&&t<n.length;t++){const e=ql(i[t],n[t]);if(0!==e)return e}return ql(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=ql(Th(t.latitude),Th(e.latitude));return 0!==i?i:ql(Th(t.longitude),Th(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Nh(t.arrayValue,e.arrayValue);case 10:return function(t,e){var i,n,s,r;const o=t.fields||{},a=e.fields||{},c=null===(i=o.value)||void 0===i?void 0:i.arrayValue,l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,h=ql((null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0,(null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0);return 0!==h?h:Nh(c,l)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Ah&&e===Ah)return 0;if(t===Ah)return 1;if(e===Ah)return-1;const i=t.fields||{},n=Object.keys(i),s=e.fields||{},r=Object.keys(s);n.sort(),r.sort();for(let t=0;t<n.length&&t<r.length;++t){const e=ql(n[t],r[t]);if(0!==e)return e;const o=Rh(i[n[t]],s[r[t]]);if(0!==o)return o}return ql(n.length,r.length)}(t.mapValue,e.mapValue);default:throw kl()}}function Lh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ql(t,e);const i=xh(t),n=xh(e),s=ql(i.seconds,n.seconds);return 0!==s?s:ql(i.nanos,n.nanos)}function Nh(t,e){const i=t.values||[],n=e.values||[];for(let t=0;t<i.length&&t<n.length;++t){const e=Rh(i[t],n[t]);if(e)return e}return ql(i.length,n.length)}function zh(t){return Fh(t)}function Fh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=xh(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Eh(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return Ql.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",i=!0;for(const n of t.values||[])i?i=!1:e+=",",e+=Fh(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",n=!0;for(const s of e)n?n=!1:i+=",",i+=`${s}:${Fh(t.fields[s])}`;return i+"}"}(t.mapValue):kl()}function Bh(t){switch(Mh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(t);return e?16+Bh(e):16;case 5:return 2*t.stringValue.length;case 6:return Eh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Bh(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return uh(t.fields,((t,i)=>{e+=t.length+Bh(i)})),e}(t.mapValue);default:throw kl()}}function Vh(t){return!!t&&"integerValue"in t}function Uh(t){return!!t&&"arrayValue"in t}function jh(t){return!!t&&"mapValue"in t}function qh(t){var e,i;return"__vector__"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uh(t.mapValue.fields,((t,i)=>e.mapValue.fields[t]=$h(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$h(t.arrayValue.values[i]);return e}return Object.assign({},t)}function Hh(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gh{constructor(t){this.value=t}static empty(){return new Gh({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!jh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$h(e)}setAll(t){let e=Yl.emptyPath(),i={},n=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,i,n),i={},n=[],e=s.popLast()}t?i[s.lastSegment()]=$h(t):n.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,i,n)}delete(t){const e=this.field(t.popLast());jh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Oh(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];jh(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){uh(e,((e,i)=>t[e]=i));for(const e of i)delete t[e]}clone(){return new Gh($h(this.value))}}function Xh(t){const e=[];return uh(t.fields,((t,i)=>{const n=new Yl([t]);if(jh(i)){const t=Xh(i.mapValue).fields;if(0===t.length)e.push(n);else for(const i of t)e.push(n.child(i))}else e.push(n)})),new yh(e)}class Kh{constructor(t,e,i,n,s,r,o){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.createTime=s,this.data=r,this.documentState=o}static newInvalidDocument(t){return new Kh(t,0,Gl.min(),Gl.min(),Gl.min(),Gh.empty(),0)}static newFoundDocument(t,e,i,n){return new Kh(t,1,e,Gl.min(),i,n,0)}static newNoDocument(t,e){return new Kh(t,2,e,Gl.min(),Gl.min(),Gh.empty(),0)}static newUnknownDocument(t,e){return new Kh(t,3,e,Gl.min(),Gl.min(),Gh.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Gl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gh.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gl.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Kh&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(t,e){this.position=t,this.inclusive=e}}function Yh(t,e,i){let n=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(n=r.field.isKeyField()?Ql.comparator(Ql.fromName(o.referenceValue),i.key):Rh(o,i.data.field(r.field)),"desc"===r.dir&&(n*=-1),0!==n)break}return n}function Qh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!Oh(t.position[i],e.position[i]))return!1;return!0}class Jh{constructor(t,e="asc"){this.field=t,this.dir=e}}function Zh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class tu{}class eu extends tu{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new cu(t,e,i):"array-contains"===e?new du(t,i):"in"===e?new fu(t,i):"not-in"===e?new pu(t,i):"array-contains-any"===e?new gu(t,i):new eu(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new lu(t,i):new hu(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Rh(e,this.value)):null!==e&&Mh(this.value)===Mh(e)&&this.matchesComparison(Rh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return kl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class iu extends tu{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new iu(t,e)}matches(t){return nu(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nu(t){return"and"===t.op}function su(t){return function(t){for(const e of t.filters)if(e instanceof iu)return!1;return!0}(t)&&nu(t)}function ru(t){if(t instanceof eu)return t.field.canonicalString()+t.op.toString()+zh(t.value);if(su(t))return t.filters.map((t=>ru(t))).join(",");{const e=t.filters.map((t=>ru(t))).join(",");return`${t.op}(${e})`}}function ou(t,e){return t instanceof eu?function(t,e){return e instanceof eu&&t.op===e.op&&t.field.isEqual(e.field)&&Oh(t.value,e.value)}(t,e):t instanceof iu?function(t,e){return e instanceof iu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,i,n)=>t&&ou(i,e.filters[n])),!0)}(t,e):void kl()}function au(t){return t instanceof eu?function(t){return`${t.field.canonicalString()} ${t.op} ${zh(t.value)}`}(t):t instanceof iu?function(t){return t.op.toString()+" {"+t.getFilters().map(au).join(" ,")+"}"}(t):"Filter"}class cu extends eu{constructor(t,e,i){super(t,e,i),this.key=Ql.fromName(i.referenceValue)}matches(t){const e=Ql.comparator(t.key,this.key);return this.matchesComparison(e)}}class lu extends eu{constructor(t,e){super(t,"in",e),this.keys=uu(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class hu extends eu{constructor(t,e){super(t,"not-in",e),this.keys=uu(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function uu(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map((t=>Ql.fromName(t.referenceValue)))}class du extends eu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Uh(e)&&Ph(e.arrayValue,this.value)}}class fu extends eu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ph(this.value.arrayValue,e)}}class pu extends eu{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ph(this.value.arrayValue,e)}}class gu extends eu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Uh(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Ph(this.value.arrayValue,t)))}}class mu{constructor(t,e=null,i=[],n=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=s,this.startAt=r,this.endAt=o,this.ue=null}}function vu(t,e=null,i=[],n=[],s=null,r=null,o=null){return new mu(t,e,i,n,s,r,o)}function yu(t){const e=Dl(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ru(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>zh(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>zh(t))).join(",")),e.ue=t}return e.ue}function _u(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Zh(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!ou(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qh(t.startAt,e.startAt)&&Qh(t.endAt,e.endAt)}class wu{constructor(t,e=null,i=[],n=[],s=null,r="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bu(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xu(t){const e=Dl(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",n=function(t){let e=new mh(Yl.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);n.forEach((n=>{t.has(n.canonicalString())||n.isKeyField()||e.ce.push(new Jh(n,i))})),t.has(Yl.keyField().canonicalString())||e.ce.push(new Jh(Yl.keyField(),i))}return e.ce}function Tu(t){const e=Dl(t);return e.le||(e.le=function(t,e){if("F"===t.limitType)return vu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Jh(t.field,e)}));const i=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return vu(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}(e,xu(t))),e.le}function Eu(t,e,i){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Cu(t,e){return _u(Tu(t),Tu(e))&&t.limitType===e.limitType}function Su(t){return`${yu(Tu(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>au(t))).join(", ")}]`),oh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>zh(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>zh(t))).join(",")),`Target(${e})`}(Tu(t))}; limitType=${t.limitType})`}function Iu(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ql.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of xu(t))if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,i){const n=Yh(t,e,i);return t.inclusive?n<=0:n<0}(t.startAt,xu(t),e)||t.endAt&&!function(t,e,i){const n=Yh(t,e,i);return t.inclusive?n>=0:n>0}(t.endAt,xu(t),e))}(t,e)}function Du(t,e,i){const n=t.field.isKeyField()?Ql.comparator(e.key,i.key):function(t,e,i){const n=e.data.field(t),s=i.data.field(t);return null!==n&&null!==s?Rh(n,s):kl()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return kl()}}class Au{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[e,n]of i)if(this.equalsFn(e,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0===n)return this.inner[i]=[[t,e]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return 1===i.length?delete this.inner[e]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(t){uh(this.inner,((e,i)=>{for(const[e,n]of i)t(e,n)}))}isEmpty(){return dh(this.inner)}size(){return this.innerSize}}const Mu=new fh(Ql.comparator);function Ou(){return Mu}const Pu=new fh(Ql.comparator);function Ru(...t){let e=Pu;for(const i of t)e=e.insert(i.key,i);return e}function Lu(t){let e=Pu;return t.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Nu(){return Fu()}function zu(){return Fu()}function Fu(){return new Au((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Bu=new fh(Ql.comparator),Vu=new mh(Ql.comparator);function Uu(...t){let e=Vu;for(const i of t)e=e.add(i);return e}const ju=new mh(ql);function qu(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function $u(t){return{integerValue:""+t}}function Hu(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?$u(e):qu(t,e)}class Gu{constructor(){this._=void 0}}function Xu(t,e,i){return t instanceof Yu?function(t,e){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Ch(e)&&(e=Sh(e)),e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof Qu?Ju(t,e):t instanceof Zu?td(t,e):function(t,e){const i=Wu(t,e),n=id(i)+id(t.Pe);return Vh(i)&&Vh(t.Pe)?$u(n):qu(t.serializer,n)}(t,e)}function Ku(t,e,i){return t instanceof Qu?Ju(t,e):t instanceof Zu?td(t,e):i}function Wu(t,e){return t instanceof ed?function(t){return Vh(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Yu extends Gu{}class Qu extends Gu{constructor(t){super(),this.elements=t}}function Ju(t,e){const i=nd(e);for(const e of t.elements)i.some((t=>Oh(t,e)))||i.push(e);return{arrayValue:{values:i}}}class Zu extends Gu{constructor(t){super(),this.elements=t}}function td(t,e){let i=nd(e);for(const e of t.elements)i=i.filter((t=>!Oh(t,e)));return{arrayValue:{values:i}}}class ed extends Gu{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function id(t){return Th(t.integerValue||t.doubleValue)}function nd(t){return Uh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class sd{constructor(t,e){this.version=t,this.transformResults=e}}class rd{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rd}static exists(t){return new rd(void 0,t)}static updateTime(t){return new rd(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function od(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ad{}function cd(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yd(t.key,rd.none()):new fd(t.key,t.data,rd.none());{const i=t.data,n=Gh.empty();let s=new mh(Yl.comparator);for(let t of e.fields)if(!s.has(t)){let e=i.field(t);null===e&&t.length>1&&(t=t.popLast(),e=i.field(t)),null===e?n.delete(t):n.set(t,e),s=s.add(t)}return new pd(t.key,n,new yh(s.toArray()),rd.none())}}function ld(t,e,i){t instanceof fd?function(t,e,i){const n=t.value.clone(),s=md(t.fieldTransforms,e,i.transformResults);n.setAll(s),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):t instanceof pd?function(t,e,i){if(!od(t.precondition,e))return void e.convertToUnknownDocument(i.version);const n=md(t.fieldTransforms,e,i.transformResults),s=e.data;s.setAll(gd(t)),s.setAll(n),e.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,i):function(t,e,i){e.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,i)}function hd(t,e,i,n){return t instanceof fd?function(t,e,i,n){if(!od(t.precondition,e))return i;const s=t.value.clone(),r=vd(t.fieldTransforms,n,e);return s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null}(t,e,i,n):t instanceof pd?function(t,e,i,n){if(!od(t.precondition,e))return i;const s=vd(t.fieldTransforms,n,e),r=e.data;return r.setAll(gd(t)),r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null===i?null:i.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,i,n):function(t,e,i){return od(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):i}(t,e,i)}function ud(t,e){let i=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),s=Wu(n.transform,t||null);null!=s&&(null===i&&(i=Gh.empty()),i.set(n.field,s))}return i||null}function dd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$l(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qu&&e instanceof Qu||t instanceof Zu&&e instanceof Zu?$l(t.elements,e.elements,Oh):t instanceof ed&&e instanceof ed?Oh(t.Pe,e.Pe):t instanceof Yu&&e instanceof Yu}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fd extends ad{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class pd extends ad{constructor(t,e,i,n,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gd(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}})),e}function md(t,e,i){const n=new Map;Il(t.length===i.length);for(let s=0;s<i.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);n.set(r.field,Ku(o,a,i[s]))}return n}function vd(t,e,i){const n=new Map;for(const s of t){const t=s.transform,r=i.data.field(s.field);n.set(s.field,Xu(t,r,e))}return n}class yd extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _d extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wd{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const n=this.mutations[e];n.key.isEqual(t.key)&&ld(n,t,i[e])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=hd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=hd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=zu();return this.mutations.forEach((n=>{const s=t.get(n.key),r=s.overlayedDocument;let o=this.applyToLocalView(r,s.mutatedFields);o=e.has(n.key)?null:o;const a=cd(r,o);null!==a&&i.set(n.key,a),r.isValidDocument()||r.convertToNoDocument(Gl.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Uu())}isEqual(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,((t,e)=>dd(t,e)))&&$l(this.baseMutations,t.baseMutations,((t,e)=>dd(t,e)))}}class bd{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){Il(t.mutations.length===i.length);let n=Bu;const s=t.mutations;for(let t=0;t<s.length;t++)n=n.insert(s[t].key,i[t].version);return new bd(t,e,i,n)}}class xd{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var Td,Ed;(Ed=Td||(Td={}))[Ed.OK=0]="OK",Ed[Ed.CANCELLED=1]="CANCELLED",Ed[Ed.UNKNOWN=2]="UNKNOWN",Ed[Ed.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ed[Ed.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ed[Ed.NOT_FOUND=5]="NOT_FOUND",Ed[Ed.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ed[Ed.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ed[Ed.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ed[Ed.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ed[Ed.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ed[Ed.ABORTED=10]="ABORTED",Ed[Ed.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ed[Ed.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ed[Ed.INTERNAL=13]="INTERNAL",Ed[Ed.UNAVAILABLE=14]="UNAVAILABLE",Ed[Ed.DATA_LOSS=15]="DATA_LOSS",new rl([4294967295,4294967295],0),Error;class Cd{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kd(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Id(t,e){return Sd(t,e.toTimestamp())}function Dd(t){return Il(!!t),Gl.fromTimestamp(function(t){const e=xh(t);return new Hl(e.seconds,e.nanos)}(t))}function Ad(t,e){return Md(t,e).canonicalString()}function Md(t,e){const i=function(t){return new Kl(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?i:i.child(e)}function Od(t,e){return Ad(t.databaseId,e.path)}function Pd(t){const e=function(t){const e=Kl.fromString(t);return Il(function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}(e)),e}(t);return 4===e.length?Kl.emptyPath():function(t){return Il(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}(e)}function Rd(t,e,i){return{name:Od(t,e),fields:i.value.mapValue.fields}}function Ld(t){let e=Pd(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let s=null;if(n>0){Il(1===n);const t=i.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let r=[];i.where&&(r=function(t){const e=Nd(t);return e instanceof iu&&su(e)?e.getFilters():[e]}(i.where));let o=[];i.orderBy&&(o=function(t){return t.map((t=>function(t){return new Jh(zd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(i.orderBy));let a=null;i.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,oh(e)?null:e}(i.limit));let c=null;i.startAt&&(c=function(t){const e=!!t.before,i=t.values||[];return new Wh(i,e)}(i.startAt));let l=null;return i.endAt&&(l=function(t){const e=!t.before,i=t.values||[];return new Wh(i,e)}(i.endAt)),function(t,e,i,n,s,r,o,a){return new wu(t,e,i,n,s,r,o,a)}(e,s,o,r,a,"F",c,l)}function Nd(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=zd(t.unaryFilter.field);return eu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=zd(t.unaryFilter.field);return eu.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=zd(t.unaryFilter.field);return eu.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zd(t.unaryFilter.field);return eu.create(s,"!=",{nullValue:"NULL_VALUE"});default:return kl()}}(t):void 0!==t.fieldFilter?function(t){return eu.create(zd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kl()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return iu.create(t.compositeFilter.filters.map((t=>Nd(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return kl()}}(t.compositeFilter.op))}(t):kl()}function zd(t){return Yl.fromServerFormat(t.fieldPath)}function Fd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}class Bd{constructor(t){this.ht=t}}function Vd(t){const e=Ld({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Eu(e,e.limit,"L"):e}class Ud{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(Th(t.integerValue));else if("doubleValue"in t){const i=Th(t.doubleValue);isNaN(i)?this.Rt(e,13):(this.Rt(e,15),ah(i)?e.Vt(0):e.Vt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Rt(e,20),"string"==typeof i&&(i=xh(i)),e.ft(`${i.seconds||""}`),e.Vt(i.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(Eh(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Rt(e,45),e.Vt(i.latitude||0),e.Vt(i.longitude||0)}else"mapValue"in t?Hh(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):qh(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):kl()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const i=t.fields||{};this.Rt(e,55);for(const t of Object.keys(i))this.gt(t,e),this.dt(i[t],e)}bt(t,e){var i,n;const s=t.fields||{};this.Rt(e,53);const r="value",o=(null===(n=null===(i=s[r].arrayValue)||void 0===i?void 0:i.values)||void 0===n?void 0:n.length)||0;this.Rt(e,15),e.Vt(Th(o)),this.gt(r,e),this.dt(s[r],e)}vt(t,e){const i=t.values||[];this.Rt(e,50);for(const t of i)this.dt(t,e)}St(t,e){this.Rt(e,37),Ql.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}Ud.Ft=new Ud;class jd{constructor(){this.ln=new qd}addToCollectionParentIndex(t,e){return this.ln.add(e),nh.resolve()}getCollectionParents(t,e){return nh.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return nh.resolve()}deleteFieldIndex(t,e){return nh.resolve()}deleteAllFieldIndexes(t){return nh.resolve()}createTargetIndexes(t,e){return nh.resolve()}getDocumentsMatchingTarget(t,e){return nh.resolve(null)}getIndexType(t,e){return nh.resolve(0)}getFieldIndexes(t,e){return nh.resolve([])}getNextCollectionGroupToUpdate(t){return nh.resolve(null)}getMinOffset(t,e){return nh.resolve(Zl.min())}getMinOffsetFromCollectionGroup(t,e){return nh.resolve(Zl.min())}updateCollectionGroup(t,e,i){return nh.resolve()}updateIndexEntries(t,e){return nh.resolve()}}class qd{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new mh(Kl.comparator),s=!n.has(i);return this.index[e]=n.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new mh(Kl.comparator)).toArray()}}new Uint8Array(0);const $d={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hd{static withCacheSize(t){return new Hd(t,Hd.DEFAULT_COLLECTION_PERCENTILE,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Hd.DEFAULT_COLLECTION_PERCENTILE=10,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hd.DEFAULT=new Hd(41943040,Hd.DEFAULT_COLLECTION_PERCENTILE,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hd.DISABLED=new Hd(-1,0,0);class Gd{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Gd(0)}static Qn(){return new Gd(-1)}}function Xd([t,e],[i,n]){const s=ql(t,i);return 0===s?ql(e,n):s}class Kd{constructor(t){this.Gn=t,this.buffer=new mh(Xd),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Xd(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Wd{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){Tl("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sh(t)?Tl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ih(t)}await this.Yn(3e5)}))}}class Yd{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return nh.resolve(rh.oe);const i=new Kd(e);return this.Zn.forEachTarget(t,(t=>i.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>i.Hn(t))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Tl("LruGarbageCollector","Garbage collection skipped; disabled"),nh.resolve($d)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Tl("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$d):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let i,n,s,r,o,a,c;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Tl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),n=this.params.maximumSequenceNumbersToCollect):n=e,r=Date.now(),this.nthSequenceNumber(t,n)))).next((n=>(i=n,o=Date.now(),this.removeTargets(t,i,e)))).next((e=>(s=e,a=Date.now(),this.removeOrphanedDocuments(t,i)))).next((t=>(c=Date.now(),xl()<=Ua.DEBUG&&Tl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-l}ms\n\tDetermined least recently used ${n} in `+(o-r)+"ms\n"+`\tRemoved ${s} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),nh.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:t}))))}}class Qd{constructor(){this.changes=new Au((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Kh.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?nh.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jd{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Zd{constructor(t,e,i,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=n}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(i=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==i&&hd(i.mutation,t,yh.empty(),Hl.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Uu()).next((()=>e))))}getLocalViewOfDocuments(t,e,i=Uu()){const n=Nu();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,i).next((t=>{let e=Ru();return t.forEach(((t,i)=>{e=e.insert(t,i.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const i=Nu();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Uu())))}populateOverlays(t,e,i){const n=[];return i.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,i)=>{e.set(t,i)}))}))}computeViews(t,e,i,n){let s=Ou();const r=Fu(),o=Fu();return e.forEach(((t,e)=>{const o=i.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof pd)?s=s.insert(e.key,e):void 0!==o?(r.set(e.key,o.mutation.getFieldMask()),hd(o.mutation,e,o.mutation.getFieldMask(),Hl.now())):r.set(e.key,yh.empty())})),this.recalculateAndSaveOverlays(t,s).next((t=>(t.forEach(((t,e)=>r.set(t,e))),e.forEach(((t,e)=>{var i;return o.set(t,new Jd(e,null!==(i=r.get(t))&&void 0!==i?i:null))})),o)))}recalculateAndSaveOverlays(t,e){const i=Fu();let n=new fh(((t,e)=>t-e)),s=Uu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const s of t)s.keys().forEach((t=>{const r=e.get(t);if(null===r)return;let o=i.get(t)||yh.empty();o=s.applyToLocalView(r,o),i.set(t,o);const a=(n.get(s.batchId)||Uu()).add(t);n=n.insert(s.batchId,a)}))})).next((()=>{const r=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,c=n.value,l=zu();c.forEach((t=>{if(!s.has(t)){const n=cd(e.get(t),i.get(t));null!==n&&l.set(t,n),s=s.add(t)}})),r.push(this.documentOverlayCache.saveOverlays(t,a,l))}return nh.waitFor(r)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,i,n){return function(t){return Ql.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):function(t){return null!==t.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,n):this.getDocumentsMatchingCollectionQuery(t,e,i,n)}getNextDocuments(t,e,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,n).next((s=>{const r=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,n-s.size):nh.resolve(Nu());let o=-1,a=s;return r.next((e=>nh.forEach(e,((e,i)=>(o<i.largestBatchId&&(o=i.largestBatchId),s.get(e)?nh.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,s))).next((()=>this.computeViews(t,a,e,Uu()))).next((t=>({batchId:o,changes:Lu(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ql(e)).next((t=>{let e=Ru();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,n){const s=e.collectionGroup;let r=Ru();return this.indexManager.getCollectionParents(t,s).next((o=>nh.forEach(o,(o=>{const a=function(t,e){return new wu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(s));return this.getDocumentsMatchingCollectionQuery(t,a,i,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,i,n){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,n)))).next((t=>{s.forEach(((e,i)=>{const n=i.getKey();null===t.get(n)&&(t=t.insert(n,Kh.newInvalidDocument(n)))}));let i=Ru();return t.forEach(((t,n)=>{const r=s.get(t);void 0!==r&&hd(r.mutation,n,yh.empty(),Hl.now()),Iu(e,n)&&(i=i.insert(t,n))})),i}))}}class tf{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return nh.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Dd(t.createTime)}}(e)),nh.resolve()}getNamedQuery(t,e){return nh.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Vd(t.bundledQuery),readTime:Dd(t.readTime)}}(e)),nh.resolve()}}class ef{constructor(){this.overlays=new fh(Ql.comparator),this.Er=new Map}getOverlay(t,e){return nh.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Nu();return nh.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&i.set(e,t)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((i,n)=>{this.Tt(t,e,n)})),nh.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.Er.get(i);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(i)),nh.resolve()}getOverlaysForCollection(t,e,i){const n=Nu(),s=e.length+1,r=new Ql(e.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const t=o.getNext().value,r=t.getKey();if(!e.isPrefixOf(r.path))break;r.path.length===s&&t.largestBatchId>i&&n.set(t.getKey(),t)}return nh.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let s=new fh(((t,e)=>t-e));const r=this.overlays.getIterator();for(;r.hasNext();){const t=r.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=s.get(t.largestBatchId);null===e&&(e=Nu(),s=s.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Nu(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return nh.resolve(o)}Tt(t,e,i){const n=this.overlays.get(i.key);if(null!==n){const t=this.Er.get(n.largestBatchId).delete(i.key);this.Er.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(i.key,new xd(e,i));let s=this.Er.get(e);void 0===s&&(s=Uu(),this.Er.set(e,s)),this.Er.set(e,s.add(i.key))}}class nf{constructor(){this.sessionToken=wh.EMPTY_BYTE_STRING}getSessionToken(t){return nh.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nh.resolve()}}class sf{constructor(){this.dr=new mh(rf.Ar),this.Rr=new mh(rf.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const i=new rf(t,e);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new rf(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new Ql(new Kl([])),i=new rf(e,t),n=new rf(e,t+1),s=[];return this.Rr.forEachInRange([i,n],(t=>{this.gr(t),s.push(t.key)})),s}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new Ql(new Kl([])),i=new rf(e,t),n=new rf(e,t+1);let s=Uu();return this.Rr.forEachInRange([i,n],(t=>{s=s.add(t.key)})),s}containsKey(t){const e=new rf(t,0),i=this.dr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class rf{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return Ql.comparator(t.key,e.key)||ql(t.br,e.br)}static Vr(t,e){return ql(t.br,e.br)||Ql.comparator(t.key,e.key)}}class of{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new mh(rf.Ar)}checkEmpty(t){return nh.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,n){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new wd(s,e,i,n);this.mutationQueue.push(r);for(const e of n)this.vr=this.vr.add(new rf(e.key,s)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return nh.resolve(r)}lookupMutationBatch(t,e){return nh.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.Fr(i),s=n<0?0:n;return nh.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nh.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return nh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rf(e,0),n=new rf(e,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([i,n],(t=>{const e=this.Cr(t.br);s.push(e)})),nh.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new mh(ql);return e.forEach((t=>{const e=new rf(t,0),n=new rf(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,n],(t=>{i=i.add(t.br)}))})),nh.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let s=i;Ql.isDocumentKey(s)||(s=s.child(""));const r=new rf(new Ql(s),0);let o=new mh(ql);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===n&&(o=o.add(t.br)),!0)}),r),nh.resolve(this.Mr(o))}Mr(t){const e=[];return t.forEach((t=>{const i=this.Cr(t);null!==i&&e.push(i)})),e}removeMutationBatch(t,e){Il(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let i=this.vr;return nh.forEach(e.mutations,(n=>{const s=new rf(n.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.vr=i}))}Ln(t){}containsKey(t,e){const i=new rf(e,0),n=this.vr.firstAfterOrEqual(i);return nh.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,nh.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class af{constructor(t){this.Nr=t,this.docs=new fh(Ql.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),s=n?n.size:0,r=this.Nr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return nh.resolve(i?i.document.mutableCopy():Kh.newInvalidDocument(e))}getEntries(t,e){let i=Ou();return e.forEach((t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():Kh.newInvalidDocument(t))})),nh.resolve(i)}getDocumentsMatchingQuery(t,e,i,n){let s=Ou();const r=e.path,o=new Ql(r.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!r.isPrefixOf(t.path))break;t.path.length>r.length+1||th(Jl(o),i)<=0||(n.has(o.key)||Iu(e,o))&&(s=s.insert(o.key,o.mutableCopy()))}return nh.resolve(s)}getAllFromCollectionGroup(t,e,i,n){kl()}Lr(t,e){return nh.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new cf(this)}getSize(t){return nh.resolve(this.size)}}class cf extends Qd{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.hr.addEntry(t,n)):this.hr.removeEntry(i)})),nh.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class lf{constructor(t){this.persistence=t,this.Br=new Au((t=>yu(t)),_u),this.lastRemoteSnapshotVersion=Gl.min(),this.highestTargetId=0,this.kr=0,this.qr=new sf,this.targetCount=0,this.Qr=Gd.qn()}forEachTarget(t,e){return this.Br.forEach(((t,i)=>e(i))),nh.resolve()}getLastRemoteSnapshotVersion(t){return nh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nh.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),nh.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.kr&&(this.kr=e),nh.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new Gd(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,nh.resolve()}updateTargetData(t,e){return this.Un(e),nh.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,nh.resolve()}removeTargets(t,e,i){let n=0;const s=[];return this.Br.forEach(((r,o)=>{o.sequenceNumber<=e&&null===i.get(o.targetId)&&(this.Br.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),nh.waitFor(s).next((()=>n))}getTargetCount(t){return nh.resolve(this.targetCount)}getTargetData(t,e){const i=this.Br.get(e)||null;return nh.resolve(i)}addMatchingKeys(t,e,i){return this.qr.mr(e,i),nh.resolve()}removeMatchingKeys(t,e,i){this.qr.pr(e,i);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach((e=>{s.push(n.markPotentiallyOrphaned(t,e))})),nh.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),nh.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qr.Sr(e);return nh.resolve(i)}containsKey(t,e){return nh.resolve(this.qr.containsKey(e))}}class hf{constructor(t,e){this.Kr={},this.overlays={},this.$r=new rh(0),this.Ur=!1,this.Ur=!0,this.Wr=new nf,this.referenceDelegate=t(this),this.Gr=new lf(this),this.indexManager=new jd,this.remoteDocumentCache=function(t){return new af(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new Bd(e),this.jr=new tf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ef,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Kr[t.toKey()];return i||(i=new of(e,this.referenceDelegate),this.Kr[t.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,i){Tl("MemoryPersistence","Starting transaction:",t);const n=new uf(this.$r.next());return this.referenceDelegate.Hr(),i(n).next((t=>this.referenceDelegate.Jr(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Yr(t,e){return nh.or(Object.values(this.Kr).map((i=>()=>i.containsKey(t,e))))}}class uf extends eh{constructor(t){super(),this.currentSequenceNumber=t}}class df{constructor(t){this.persistence=t,this.Zr=new sf,this.Xr=null}static ei(t){return new df(t)}get ti(){if(this.Xr)return this.Xr;throw kl()}addReference(t,e,i){return this.Zr.addReference(i,e),this.ti.delete(i.toString()),nh.resolve()}removeReference(t,e,i){return this.Zr.removeReference(i,e),this.ti.add(i.toString()),nh.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),nh.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>i.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nh.forEach(this.ti,(i=>{const n=Ql.fromPath(i);return this.ni(t,n).next((t=>{t||e.removeEntry(n,Gl.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return nh.or([()=>nh.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class ff{constructor(t,e){this.persistence=t,this.ri=new Au((t=>function(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=lh(e)),e=ch(t.get(i),e);return lh(e)}(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=function(t,e){return new Yd(t,e)}(this,e)}static ei(t,e){return new ff(t,e)}Hr(){}Jr(t){return nh.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return nh.forEach(this.ri,((i,n)=>this.ir(t,i,n).next((t=>t?nh.resolve():e(n)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.Lr(t,(n=>this.ir(t,n,e).next((t=>{t||(i++,s.removeEntry(n,Gl.min()))})))).next((()=>s.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),nh.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),nh.resolve()}removeReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),nh.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),nh.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Bh(t.data.value)),e}ir(t,e,i){return nh.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return nh.resolve(void 0!==t&&t>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class pf{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.Wi=i,this.Gi=n}static zi(t,e){let i=Uu(),n=Uu();for(const t of e.docChanges)switch(t.type){case 0:i=i.add(t.doc.key);break;case 1:n=n.add(t.doc.key)}return new pf(t,e.fromCache,i,n)}}class gf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mf{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=!function(){var t;const e=null===(t=ka())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(t){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,i,n){const s={result:null};return this.Xi(t,e).next((t=>{s.result=t})).next((()=>{if(!s.result)return this.es(t,e,n,i).next((t=>{s.result=t}))})).next((()=>{if(s.result)return;const i=new gf;return this.ts(t,e,i).next((n=>{if(s.result=n,this.Hi)return this.ns(t,e,i,n.size)}))})).next((()=>s.result))}ns(t,e,i,n){return i.documentReadCount<this.Ji?(xl()<=Ua.DEBUG&&Tl("QueryEngine","SDK will not create cache indexes for query:",ku(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),nh.resolve()):(xl()<=Ua.DEBUG&&Tl("QueryEngine","Query:",ku(e),"scans",i.documentReadCount,"local documents and returns",n,"documents as results."),i.documentReadCount>this.Yi*n?(xl()<=Ua.DEBUG&&Tl("QueryEngine","The SDK decides to create cache indexes for query:",ku(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Tu(e))):nh.resolve())}Xi(t,e){if(bu(e))return nh.resolve(null);let i=Tu(e);return this.indexManager.getIndexType(t,i).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=Eu(e,null,"F"),i=Tu(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((n=>{const s=Uu(...n);return this.Zi.getDocuments(t,s).next((n=>this.indexManager.getMinOffset(t,i).next((i=>{const r=this.rs(e,n);return this.ss(e,r,s,i.readTime)?this.Xi(t,Eu(e,null,"F")):this.os(t,r,e,i)}))))})))))}es(t,e,i,n){return bu(e)||n.isEqual(Gl.min())?nh.resolve(null):this.Zi.getDocuments(t,i).next((s=>{const r=this.rs(e,s);return this.ss(e,r,i,n)?nh.resolve(null):(xl()<=Ua.DEBUG&&Tl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ku(e)),this.os(t,r,e,function(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Gl.fromTimestamp(1e9===n?new Hl(i+1,0):new Hl(i,n));return new Zl(s,Ql.empty(),e)}(n,-1)).next((t=>t)))}))}rs(t,e){let i=new mh(function(t){return(e,i)=>{let n=!1;for(const s of xu(t)){const t=Du(s,e,i);if(0!==t)return t;n=n||s.field.isKeyField()}return 0}}(t));return e.forEach(((e,n)=>{Iu(t,n)&&(i=i.add(n))})),i}ss(t,e,i,n){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}ts(t,e,i){return xl()<=Ua.DEBUG&&Tl("QueryEngine","Using full collection scan to execute query:",ku(e)),this.Zi.getDocumentsMatchingQuery(t,e,Zl.min(),i)}os(t,e,i,n){return this.Zi.getDocumentsMatchingQuery(t,i,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class vf{constructor(t,e,i,n){this.persistence=t,this._s=e,this.serializer=n,this.us=new fh(ql),this.cs=new Au((t=>yu(t)),_u),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(i)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zd(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}async function yf(t,e){const i=Dl(t);return await i.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return i.mutationQueue.getAllMutationBatches(t).next((s=>(n=s,i.Ps(e),i.mutationQueue.getAllMutationBatches(t)))).next((e=>{const s=[],r=[];let o=Uu();for(const t of n){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.localDocuments.getDocuments(t,o).next((t=>({Ts:t,removedBatchIds:s,addedBatchIds:r})))}))}))}function _f(t,e){const i=Dl(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}class wf{constructor(){this.activeTargetIds=ju}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bf{constructor(){this._o=new wf,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,i){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new wf,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xf{uo(t){}shutdown(){}}class Tf{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Tl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Tl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ef=null;function Cf(){return null===Ef?Ef=268435456+Math.round(2147483648*Math.random()):Ef++,"0x"+Ef.toString(16)}const Sf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kf{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const If="WebChannelConnection";class Df extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${i}/databases/${n}`,this.xo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${n}`}Oo(t,e,i,n,s){const r=Cf(),o=this.No(t,e.toUriEncodedString());Tl("RestConnection",`Sending RPC '${t}' ${r}:`,o,i);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,n,s),this.Bo(t,o,a,i).then((e=>(Tl("RestConnection",`Received RPC '${t}' ${r}: `,e),e)),(e=>{throw Cl("RestConnection",`RPC '${t}' ${r} failed with error: `,e,"url: ",o,"request:",i),e}))}ko(t,e,i,n,s,r){return this.Oo(t,e,i,n,s)}Lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+wl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,i)=>t[i]=e)),i&&i.headers.forEach(((e,i)=>t[i]=e))}No(t,e){const i=Sf[t];return`${this.Fo}/v1/${e}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,i,n){const s=Cf();return new Promise(((r,o)=>{const a=new cl;a.setWithCredentials(!0),a.listenOnce(hl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ul.NO_ERROR:const e=a.getResponseJson();Tl(If,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(e)),r(e);break;case ul.TIMEOUT:Tl(If,`RPC '${t}' ${s} timed out`),o(new Ml(Al.DEADLINE_EXCEEDED,"Request time out"));break;case ul.HTTP_ERROR:const i=a.getStatus();if(Tl(If,`RPC '${t}' ${s} failed with status:`,i,"response text:",a.getResponseText()),i>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Al).indexOf(e)>=0?e:Al.UNKNOWN}(e.status);o(new Ml(t,e.message))}else o(new Ml(Al.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ml(Al.UNAVAILABLE,"Connection failed."));break;default:kl()}}finally{Tl(If,`RPC '${t}' ${s} completed.`)}}));const c=JSON.stringify(n);Tl(If,`RPC '${t}' ${s} sending request:`,n),a.send(e,"POST",c,i,15)}))}qo(t,e,i){const n=Cf(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=gl(),o=pl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,e,i),a.encodeInitMessageHeaders=!0;const l=s.join("");Tl(If,`Creating RPC '${t}' stream ${n}: ${l}`,a);const h=r.createWebChannel(l,a);let u=!1,d=!1;const f=new kf({Eo:e=>{d?Tl(If,`Not sending because RPC '${t}' stream ${n} is closed:`,e):(u||(Tl(If,`Opening RPC '${t}' stream ${n} transport.`),h.open(),u=!0),Tl(If,`RPC '${t}' stream ${n} sending:`,e),h.send(e))},Ao:()=>h.close()}),p=(t,e,i)=>{t.listen(e,(t=>{try{i(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(h,ll.EventType.OPEN,(()=>{d||(Tl(If,`RPC '${t}' stream ${n} transport opened.`),f.So())})),p(h,ll.EventType.CLOSE,(()=>{d||(d=!0,Tl(If,`RPC '${t}' stream ${n} transport closed`),f.Do())})),p(h,ll.EventType.ERROR,(e=>{d||(d=!0,Cl(If,`RPC '${t}' stream ${n} transport errored:`,e),f.Do(new Ml(Al.UNAVAILABLE,"The operation could not be completed")))})),p(h,ll.EventType.MESSAGE,(e=>{var i;if(!d){const s=e.data[0];Il(!!s);const r=s,o=(null==r?void 0:r.error)||(null===(i=r[0])||void 0===i?void 0:i.error);if(o){Tl(If,`RPC '${t}' stream ${n} received error:`,o);const e=o.status;let i=function(t){const e=Td[t];if(void 0!==e)return function(t){if(void 0===t)return El("GRPC error has no .code"),Al.UNKNOWN;switch(t){case Td.OK:return Al.OK;case Td.CANCELLED:return Al.CANCELLED;case Td.UNKNOWN:return Al.UNKNOWN;case Td.DEADLINE_EXCEEDED:return Al.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return Al.RESOURCE_EXHAUSTED;case Td.INTERNAL:return Al.INTERNAL;case Td.UNAVAILABLE:return Al.UNAVAILABLE;case Td.UNAUTHENTICATED:return Al.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return Al.INVALID_ARGUMENT;case Td.NOT_FOUND:return Al.NOT_FOUND;case Td.ALREADY_EXISTS:return Al.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return Al.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return Al.FAILED_PRECONDITION;case Td.ABORTED:return Al.ABORTED;case Td.OUT_OF_RANGE:return Al.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return Al.UNIMPLEMENTED;case Td.DATA_LOSS:return Al.DATA_LOSS;default:return kl()}}(e)}(e),s=o.message;void 0===i&&(i=Al.INTERNAL,s="Unknown error status: "+e+" with message "+o.message),d=!0,f.Do(new Ml(i,s)),h.close()}else Tl(If,`RPC '${t}' stream ${n} received:`,s),f.vo(s)}})),p(o,fl.STAT_EVENT,(e=>{e.stat===dl.PROXY?Tl(If,`RPC '${t}' stream ${n} detected buffering proxy`):e.stat===dl.NOPROXY&&Tl(If,`RPC '${t}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function Af(){return"undefined"!=typeof document?document:null}function Mf(t){return new Cd(t,!0)}class Of{constructor(t,e,i=1e3,n=1.5,s=6e4){this.li=t,this.timerId=e,this.Qo=i,this.Ko=n,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),n=Math.max(0,e-i);n>0&&Tl("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,n,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Pf{constructor(t,e,i,n,s,r,o,a){this.li=t,this.Yo=i,this.Zo=n,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Of(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===Al.RESOURCE_EXHAUSTED?(El(e.toString()),El("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===Al.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,i])=>{this.Xo===e&&this.I_(t,i)}),(e=>{t((()=>{const t=new Ml(Al.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const i=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{i((()=>this.listener.Ro()))})),this.stream.mo((()=>{i((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{i((()=>this.E_(t)))})),this.stream.onMessage((t=>{i((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return Tl("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(Tl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rf extends Pf{constructor(t,e,i,n,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,r),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return Il(!!t.streamToken),this.lastStreamToken=t.streamToken,Il(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){Il(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(Il(void 0!==e),t.map((t=>function(t,e){let i=t.updateTime?Dd(t.updateTime):Dd(e);return i.isEqual(Gl.min())&&(i=Dd(e)),new sd(i,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),i=Dd(t.commitTime);return this.listener.y_(i,e)}w_(){const t={};t.database=function(t){return new Kl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>function(t,e){let i;if(e instanceof fd)i={update:Rd(t,e.key,e.value)};else if(e instanceof yd)i={delete:Od(t,e.key)};else if(e instanceof pd)i={update:Rd(t,e.key,e.data),updateMask:Fd(e.fieldMask)};else{if(!(e instanceof _d))return kl();i={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const i=e.transform;if(i instanceof Yu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Qu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Zu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof ed)return{fieldPath:e.field.canonicalString(),increment:i.Pe};throw kl()}(0,t)))),e.precondition.isNone||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Id(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:kl()}(t,e.precondition)),i}(this.serializer,t)))};this.c_(e)}}class Lf extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=n,this.S_=!1}b_(){if(this.S_)throw new Ml(Al.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,i,n){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,r])=>this.connection.Oo(t,Md(e,i),n,s,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ml(Al.UNKNOWN,t.toString())}))}ko(t,e,i,n,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.ko(t,Md(e,i),n,r,o,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Al.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ml(Al.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Nf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(El(e),this.C_=!1):Tl("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class zf{constructor(t,e,i,n,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo((t=>{i.enqueueAndForget((async()=>{Vf(this)&&(Tl("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Dl(t);e.k_.add(4),await Bf(e),e.K_.set("Unknown"),e.k_.delete(4),await Ff(e)}(this))}))})),this.K_=new Nf(i,n)}}async function Ff(t){if(Vf(t))for(const e of t.q_)await e(!0)}async function Bf(t){for(const e of t.q_)await e(!1)}function Vf(t){return 0===Dl(t).k_.size}async function Uf(t,e,i){if(!sh(e))throw e;t.k_.add(1),await Bf(t),t.K_.set("Offline"),i||(i=()=>function(t){const e=Dl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Tl("RemoteStore","Retrying IndexedDB access"),await i(),t.k_.delete(1),await Ff(t)}))}function jf(t,e){return e().catch((i=>Uf(t,i,e)))}async function qf(t){const e=Dl(t),i=Zf(e);let n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;$f(e);)try{const t=await _f(e.localStore,n);if(null===t){0===e.L_.length&&i.a_();break}n=t.batchId,Hf(e,t)}catch(t){await Uf(e,t)}Gf(e)&&Xf(e)}function $f(t){return Vf(t)&&t.L_.length<10}function Hf(t,e){t.L_.push(e);const i=Zf(t);i.s_()&&i.f_&&i.g_(e.mutations)}function Gf(t){return Vf(t)&&!Zf(t).i_()&&t.L_.length>0}function Xf(t){Zf(t).start()}async function Kf(t){Zf(t).w_()}async function Wf(t){const e=Zf(t);for(const i of t.L_)e.g_(i.mutations)}async function Yf(t,e,i){const n=t.L_.shift(),s=bd.from(n,e,i);await jf(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qf(t)}async function Qf(t,e){e&&Zf(t).f_&&await async function(t,e){if(function(t){return function(t){switch(t){default:return kl();case Al.CANCELLED:case Al.UNKNOWN:case Al.DEADLINE_EXCEEDED:case Al.RESOURCE_EXHAUSTED:case Al.INTERNAL:case Al.UNAVAILABLE:case Al.UNAUTHENTICATED:return!1;case Al.INVALID_ARGUMENT:case Al.NOT_FOUND:case Al.ALREADY_EXISTS:case Al.PERMISSION_DENIED:case Al.FAILED_PRECONDITION:case Al.ABORTED:case Al.OUT_OF_RANGE:case Al.UNIMPLEMENTED:case Al.DATA_LOSS:return!0}}(t)&&t!==Al.ABORTED}(e.code)){const i=t.L_.shift();Zf(t).__(),await jf(t,(()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e))),await qf(t)}}(t,e),Gf(t)&&Xf(t)}async function Jf(t,e){const i=Dl(t);i.asyncQueue.verifyOperationInProgress(),Tl("RemoteStore","RemoteStore received new credentials");const n=Vf(i);i.k_.add(3),await Bf(i),n&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await Ff(i)}function Zf(t){return t.G_||(t.G_=function(t,e,i){const n=Dl(t);return n.b_(),new Rf(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Kf.bind(null,t),po:Qf.bind(null,t),p_:Wf.bind(null,t),y_:Yf.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await qf(t)):(await t.G_.stop(),t.L_.length>0&&(Tl("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}class tp{constructor(t,e,i,n,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=s,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,n,s){const r=Date.now()+i,o=new tp(t,e,r,n,s);return o.start(i),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ml(Al.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(t,e){if(El("AsyncQueue",`${e}: ${t}`),sh(t))return new Ml(Al.UNAVAILABLE,`${e}: ${t}`);throw t}class ip{constructor(){this.queries=np(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const i=Dl(t),n=i.queries;i.queries=np(),n.forEach(((t,i)=>{for(const t of i.J_)t.onError(e)}))}(this,new Ml(Al.ABORTED,"Firestore shutting down"))}}function np(){return new Au((t=>Su(t)),Cu)}var sp,rp;(rp=sp||(sp={})).na="default",rp.Cache="cache";class op{constructor(t,e,i,n,s,r){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Ma={},this.xa=new Au((t=>Su(t)),Cu),this.Oa=new Map,this.Na=new Set,this.La=new fh(Ql.comparator),this.Ba=new Map,this.ka=new sf,this.qa={},this.Qa=new Map,this.Ka=Gd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}function ap(t,e,i){const n=Dl(t);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const t=[];n.xa.forEach(((i,n)=>{const s=n.view.ea(e);s.snapshot&&t.push(s.snapshot)})),function(t,e){const i=Dl(t);i.onlineState=e;let n=!1;i.queries.forEach(((t,i)=>{for(const t of i.J_)t.ea(e)&&(n=!0)})),n&&function(t){t.X_.forEach((t=>{t.next()}))}(i)}(n.eventManager,e),t.length&&n.Ma.R_(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cp(t,e){const i=Dl(t),n=e.batch.batchId;try{const t=await function(t,e){const i=Dl(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),s=i.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,i,n){const s=i.batch,r=s.keys();let o=nh.resolve();return r.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const r=i.docVersions.get(t);Il(null!==r),e.version.compareTo(r)<0&&(s.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,s)))}(i,t,e,s).next((()=>s.apply(t))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Uu();for(let i=0;i<t.mutationResults.length;++i)t.mutationResults[i].transformResults.length>0&&(e=e.add(t.batch.mutations[i].key));return e}(e)))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(i.localStore,e);up(i,n,null),hp(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await dp(i,t)}catch(t){await ih(t)}}async function lp(t,e,i){const n=Dl(t);try{const t=await function(t,e){const i=Dl(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return i.mutationQueue.lookupMutationBatch(t,e).next((e=>(Il(null!==e),n=e.keys(),i.mutationQueue.removeMutationBatch(t,e)))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);up(n,e,i),hp(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),await dp(n,t)}catch(i){await ih(i)}}function hp(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function up(t,e,i){const n=Dl(t);let s=n.qa[n.currentUser.toKey()];if(s){const t=s.get(e);t&&(i?t.reject(i):t.resolve(),s=s.remove(e)),n.qa[n.currentUser.toKey()]=s}}async function dp(t,e,i){const n=Dl(t),s=[],r=[],o=[];n.xa.isEmpty()||(n.xa.forEach(((t,a)=>{o.push(n.Ua(a,e,i).then((t=>{var e;if((t||i)&&n.isPrimaryClient){const s=t?!t.fromCache:null===(e=null==i?void 0:i.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;n.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(t){s.push(t);const e=pf.zi(a.targetId,t);r.push(e)}})))})),await Promise.all(o),n.Ma.R_(s),await async function(t,e){const i=Dl(t);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>nh.forEach(e,(e=>nh.forEach(e.Wi,(n=>i.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>nh.forEach(e.Gi,(n=>i.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!sh(t))throw t;Tl("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=i.us.get(e),n=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(n);i.us=i.us.insert(e,s)}}}(n.localStore,r))}async function fp(t,e){const i=Dl(t);if(!i.currentUser.isEqual(e)){Tl("SyncEngine","User change. New user:",e.toKey());const t=await yf(i.localStore,e);i.currentUser=e,function(t){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new Ml(Al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Qa.clear()}(i),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await dp(i,t.Ts)}}function pp(t){const e=Dl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lp.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mf(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return function(t,e,i,n){return new vf(t,e,i,n)}(this.persistence,new mf,t.initialUser,this.serializer)}ja(t){return new hf(df.ei,this.serializer)}za(t){return new bf}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class mp extends gp{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){Il(this.persistence.referenceDelegate instanceof ff);const i=this.persistence.referenceDelegate.garbageCollector;return new Wd(i,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?Hd.withCacheSize(this.cacheSizeBytes):Hd.DEFAULT;return new hf((t=>ff.ei(t,e)),this.serializer)}}class vp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ap(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=fp.bind(null,this.syncEngine),await async function(t,e){const i=Dl(t);e?(i.k_.delete(2),await Ff(i)):e||(i.k_.add(2),await Bf(i),i.K_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new ip}createDatastore(t){const e=Mf(t.databaseInfo.databaseId),i=function(t){return new Df(t)}(t.databaseInfo);return function(t,e,i,n){return new Lf(t,e,i,n)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(t,e,i,n,s){return new zf(t,e,i,n,s)}(this.localStore,this.datastore,t.asyncQueue,(t=>ap(this.syncEngine,t,0)),Tf.p()?new Tf:new xf)}createSyncEngine(t,e){return function(t,e,i,n,s,r,o){const a=new op(t,e,i,n,s,r);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=Dl(t);Tl("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await Bf(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}vp.provider={build:()=>new vp};class yp{constructor(t,e,i,n,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=_l.UNAUTHENTICATED,this.clientId=jl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async t=>{Tl("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,(t=>(Tl("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=ep(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function _p(t,e){t.asyncQueue.verifyOperationInProgress(),Tl("FirestoreClient","Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await yf(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function wp(t,e){t.asyncQueue.verifyOperationInProgress();const i=await async function(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Tl("FirestoreClient","Using user provided OfflineComponentProvider");try{await _p(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(t){return"FirebaseError"===t.name?t.code===Al.FAILED_PRECONDITION||t.code===Al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i))throw i;Cl("Error using user provided cache. Falling back to memory cache: "+i),await _p(t,new gp)}}else Tl("FirestoreClient","Using default OfflineComponentProvider"),await _p(t,new mp(void 0));return t._offlineComponents}(t);Tl("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener((t=>Jf(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,i)=>Jf(e.remoteStore,i))),t._onlineComponents=e}function bp(t){return async function(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Tl("FirestoreClient","Using user provided OnlineComponentProvider"),await wp(t,t._uninitializedComponentsProvider._online)):(Tl("FirestoreClient","Using default OnlineComponentProvider"),await wp(t,new vp))),t._onlineComponents}(t).then((t=>t.syncEngine))}function xp(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Tp=new Map;function Ep(t,e,i){if(!i)throw new Ml(Al.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cp(t){if(!Ql.isDocumentKey(t))throw new Ml(Al.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sp(t){if(Ql.isDocumentKey(t))throw new Ml(Al.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":kl()}function Ip(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ml(Al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kp(t);throw new Ml(Al.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}class Dp{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ml(Al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ml(Al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,i,n){if(!0===e&&!0===n)throw new Ml(Al.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xp(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Ml(Al.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Ml(Al.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Ml(Al.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ap{constructor(t,e,i,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ml(Al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ml(Al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dp(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Rl;switch(t.type){case"firstParty":return new Fl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ml(Al.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Tp.get(t);e&&(Tl("ComponentProvider","Removing Datastore"),Tp.delete(t),e.terminate())}(this),Promise.resolve()}}class Mp{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Mp(this.firestore,t,this._query)}}class Op{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Op(this.firestore,t,this._key)}}class Pp extends Mp{constructor(t,e,i){super(t,e,function(t){return new wu(t)}(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Op(this.firestore,null,new Ql(t))}withConverter(t){return new Pp(this.firestore,t,this._path)}}class Rp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Of(this,"async_queue_retry"),this.fu=()=>{const t=Af();t&&Tl("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=Af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=Af();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new Ol;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!sh(t))throw t;Tl("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw El("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,i){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const n=tp.createAndSchedule(this,t,e,i,(t=>this.Su(t)));return this.du.push(n),n}pu(){this.Au&&kl()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}class Lp extends Ap{constructor(t,e,i,n){super(t,e,i,n),this.type="firestore",this._queue=new Rp,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rp(t),this._firestoreClient=void 0,await t}}}function Np(t){if(t._terminated)throw new Ml(Al.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function(t){var e,i,n;const s=t._freezeSettings(),r=function(t,e,i,n){return new Ih(t,e,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,xp(n.experimentalLongPollingOptions),n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(null===(i=s.localCache)||void 0===i?void 0:i._offlineComponentProvider)&&(null===(n=s.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new yp(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}(t),t._firestoreClient}class zp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zp(wh.fromBase64String(t))}catch(t){throw new Ml(Al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new zp(wh.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Fp{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ml(Al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yl(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Bp{constructor(t){this._methodName=t}}class Vp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ml(Al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ml(Al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ql(this._lat,t._lat)||ql(this._long,t._long)}}class Up{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}(this._values,t._values)}}const jp=/^__.*__$/;class qp{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new pd(t,this.data,this.fieldMask,e,this.fieldTransforms):new fd(t,this.data,e,this.fieldTransforms)}}function $p(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kl()}}class Hp{constructor(t,e,i,n,s,r){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=n,void 0===s&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:i,Nu:!1});return n.Lu(t),n}Bu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:i,Nu:!1});return n.Fu(),n}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return eg(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if($p(this.Mu)&&jp.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class Gp{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Mf(t)}$u(t,e,i,n=!1){return new Hp({Mu:t,methodName:e,Ku:i,path:Yl.emptyPath(),Nu:!1,Qu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(t){const e=t._freezeSettings(),i=Mf(t._databaseId);return new Gp(t._databaseId,!!e.ignoreUndefinedProperties,i)}function Kp(t,e,i,n,s,r={}){const o=t.$u(r.merge||r.mergeFields?2:0,e,i,s);Jp("Data must be an object, but it was:",o,n);const a=Yp(n,o);let c,l;if(r.merge)c=new yh(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const t=[];for(const n of r.mergeFields){const s=Zp(e,n,i);if(!o.contains(s))throw new Ml(Al.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);ig(t,s)||t.push(s)}c=new yh(t),l=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=o.fieldTransforms;return new qp(new Gh(a),c,l)}function Wp(t,e){if(Qp(t=La(t)))return Jp("Unsupported field value:",e,t),Yp(t,e);if(t instanceof Bp)return function(t,e){if(!$p(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const i=[];let n=0;for(const s of t){let t=Wp(s,e.ku(n));null==t&&(t={nullValue:"NULL_VALUE"}),i.push(t),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=La(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hu(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Hl.fromDate(t);return{timestampValue:Sd(e.serializer,i)}}if(t instanceof Hl){const i=new Hl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sd(e.serializer,i)}}if(t instanceof Vp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zp)return{bytesValue:kd(e.serializer,t._byteString)};if(t instanceof Op){const i=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(i))throw e.qu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ad(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Up)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return qu(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${kp(t)}`)}(t,e)}function Yp(t,e){const i={};return dh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uh(t,((t,n)=>{const s=Wp(n,e.Ou(t));null!=s&&(i[t]=s)})),{mapValue:{fields:i}}}function Qp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hl||t instanceof Vp||t instanceof zp||t instanceof Op||t instanceof Bp||t instanceof Up)}function Jp(t,e,i){if(!Qp(i)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(i)){const n=kp(i);throw"an object"===n?e.qu(t+" a custom object"):e.qu(t+" "+n)}}function Zp(t,e,i){if((e=La(e))instanceof Fp)return e._internalPath;if("string"==typeof e)return function(t,e,i){if(e.search(tg)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Fp(...e.split("."))._internalPath}catch(n){throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,i)}const tg=new RegExp("[~\\*/\\[\\]]");function eg(t,e,i,n,s){const r=n&&!n.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new Ml(Al.INVALID_ARGUMENT,a+t+c)}function ig(t,e){return t.some((t=>t.isEqual(e)))}function ng(t,e){const i=Ip(t.firestore,Lp),n=function(t,e,...i){if(t=La(t),1===arguments.length&&(e=jl.newId()),Ep("doc","path",e),t instanceof Ap){const n=Kl.fromString(e,...i);return Cp(n),new Op(t,null,new Ql(n))}{if(!(t instanceof Op||t instanceof Pp))throw new Ml(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Kl.fromString(e,...i));return Cp(n),new Op(t.firestore,t instanceof Pp?t.converter:null,new Ql(n))}}(t),s=function(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}(t.converter,e);return function(t,e){return function(t,e){const i=new Ol;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,i){const n=pp(t);try{const t=await function(t,e){const i=Dl(t),n=Hl.now(),s=e.reduce(((t,e)=>t.add(e.key)),Uu());let r,o;return i.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ou(),c=Uu();return i.hs.getEntries(t,s).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>i.localDocuments.getOverlayedDocuments(t,a))).next((s=>{r=s;const o=[];for(const t of e){const e=ud(t,r.get(t.key).overlayedDocument);null!=e&&o.push(new pd(t.key,e,Xh(e.value.mapValue),rd.exists(!0)))}return i.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(r,c);return i.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:Lu(r)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,i){let n=t.qa[t.currentUser.toKey()];n||(n=new fh(ql)),n=n.insert(e,i),t.qa[t.currentUser.toKey()]=n}(n,t.batchId,i),await dp(n,t.changes),await qf(n.remoteStore)}catch(t){const e=ep(t,"Failed to persist write");i.reject(e)}}(await bp(t),e,i))),i.promise}(Np(t),e)}(i,[Kp(Xp(t.firestore),"addDoc",n._key,s,null!==t.converter,{}).toMutation(n._key,rd.exists(!1))]).then((()=>n))}new WeakMap,function(t,e=!0){wl="11.0.2",Hc(new Na("firestore",((t,{instanceIdentifier:i,options:n})=>{const s=t.getProvider("app").getImmediate(),r=new Lp(new Nl(t.getProvider("auth-internal")),new Vl(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ml(Al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(t.options.projectId,e)}(s,i),s);return n=Object.assign({useFetchStreams:e},n),r._setSettings(n),r}),"PUBLIC").setMultipleInstances(!0)),Wc(yl,"4.7.5",t),Wc(yl,"4.7.5","esm2017")}();const sg="generated",rg="pointerleave",og="pointermove",ag="touchend",cg="tsParticles - Error",lg=100,hg=.5,ug=1e3;var dg;function fg(t){return"boolean"==typeof t}function pg(t){return"string"==typeof t}function gg(t){return"number"==typeof t}function mg(t){return"object"==typeof t&&null!==t}function vg(t){return Array.isArray(t)}function yg(t){return null==t}!function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"}(dg||(dg={}));class _g{constructor(t,e,i){if(this._updateFromAngle=(t,e)=>{this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},!gg(t)&&t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}else{if(void 0===t||void 0===e)throw new Error(`${cg} Vector3d not initialized correctly`);this.x=t,this.y=e,this.z=i??0}}static get origin(){return _g.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){this._updateFromAngle(t,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(t){this._updateFromAngle(this.angle,t)}static clone(t){return _g.create(t.x,t.y,t.z)}static create(t,e,i){return new _g(t,e,i)}add(t){return _g.create(this.x+t.x,this.y+t.y,this.z+t.z)}addTo(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}copy(){return _g.clone(this)}distanceTo(t){return this.sub(t).length}distanceToSq(t){return this.sub(t).getLengthSq()}div(t){return _g.create(this.x/t,this.y/t,this.z/t)}divTo(t){this.x/=t,this.y/=t,this.z/=t}getLengthSq(){return this.x**2+this.y**2}mult(t){return _g.create(this.x*t,this.y*t,this.z*t)}multTo(t){this.x*=t,this.y*=t,this.z*=t}normalize(){const t=this.length;0!=t&&this.multTo(1/t)}rotate(t){return _g.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}setTo(t){this.x=t.x,this.y=t.y;const e=t;this.z=e.z?e.z:0}sub(t){return _g.create(this.x-t.x,this.y-t.y,this.z-t.z)}subFrom(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}}class wg extends _g{constructor(t,e){super(t,e,0)}static get origin(){return wg.create(0,0)}static clone(t){return wg.create(t.x,t.y)}static create(t,e){return new wg(t,e)}}let bg=Math.random;const xg=t=>requestAnimationFrame(t),Tg=t=>cancelAnimationFrame(t),Eg=(new Map,2*Math.PI);function Cg(){return Sg(bg(),0,1-Number.EPSILON)}function Sg(t,e,i){return Math.min(Math.max(t,e),i)}function kg(t){const e=Ag(t);let i=Dg(t);return e===i&&(i=0),Cg()*(e-i)+i}function Ig(t){return gg(t)?t:kg(t)}function Dg(t){return gg(t)?t:t.min}function Ag(t){return gg(t)?t:t.max}function Mg(t,e){if(t===e||void 0===e&&gg(t))return t;const i=Dg(t),n=Ag(t);return void 0!==e?{min:Math.min(i,e),max:Math.max(n,e)}:Mg(i,n)}function Og(t,e){const i=t.x-e.x,n=t.y-e.y;return{dx:i,dy:n,distance:Math.sqrt(i**2+n**2)}}function Pg(t,e){return Og(t,e).distance}function Rg(t){return t*Math.PI/180}function Lg(t){return t?t.endsWith("%")?parseFloat(t)/lg:parseFloat(t):1}var Ng,zg,Fg,Bg,Vg,Ug;!function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"}(Ng||(Ng={})),function(t){t.increasing="increasing",t.decreasing="decreasing"}(zg||(zg={})),function(t){t.none="none",t.max="max",t.min="min"}(Fg||(Fg={})),function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"}(Bg||(Bg={})),function(t){t.precise="precise",t.percent="percent"}(Vg||(Vg={})),function(t){t.max="max",t.min="min",t.random="random"}(Ug||(Ug={}));const jg={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function qg(){return jg}function $g(){return"undefined"==typeof window||!window||void 0===window.document||!window.document}function Hg(t){if(!$g()&&"undefined"!=typeof matchMedia)return matchMedia(t)}function Gg(t,e){return t===e||vg(e)&&e.indexOf(t)>-1}async function Xg(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function Kg(t){return Math.floor(Cg()*t.length)}function Wg(t,e,i=!0){return t[void 0!==e&&i?e%t.length:Kg(t)]}function Yg(t,e,i,n,s){return function(t,e,i,n){let s=!0;return n&&n!==Bg.bottom||(s=t.top<e.height+i.x),!s||n&&n!==Bg.left||(s=t.right>i.x),!s||n&&n!==Bg.right||(s=t.left<e.width+i.y),!s||n&&n!==Bg.top||(s=t.bottom>i.y),s}(Qg(t,n??0),e,i,s)}function Qg(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Jg(t,...e){for(const i of e){if(null==i)continue;if(!mg(i)){t=i;continue}const e=Array.isArray(i);!e||!mg(t)&&t&&Array.isArray(t)?e||!mg(t)&&t&&!Array.isArray(t)||(t={}):t=[];for(const e in i){if("__proto__"===e)continue;const n=i[e],s=t;s[e]=mg(n)&&Array.isArray(n)?n.map((t=>Jg(s[e],t))):Jg(s[e],n)}}return t}function Zg(t,e){return vg(t)?t.map(((t,i)=>e(t,i))):e(t,0)}function tm(t,e,i){return vg(t)?Wg(t,e,i):t}function em(t,e){const i=t.value,n=t.animation,s={delayTime:Ig(n.delay)*ug,enable:n.enable,value:Ig(t.value)*e,max:Ag(i)*e,min:Dg(i)*e,loops:0,maxLoops:Ig(n.count),time:0};if(n.enable){switch(s.decay=1-Ig(n.decay),n.mode){case Ng.increase:s.status=zg.increasing;break;case Ng.decrease:s.status=zg.decreasing;break;case Ng.random:s.status=Cg()>=hg?zg.increasing:zg.decreasing}const t=n.mode===Ng.auto;switch(n.startValue){case Ug.min:s.value=s.min,t&&(s.status=zg.increasing);break;case Ug.max:s.value=s.max,t&&(s.status=zg.decreasing);break;case Ug.random:default:s.value=kg(s),t&&(s.status=Cg()>=hg?zg.increasing:zg.decreasing)}}return s.initialValue=s.value,s}function im(t,e){if(t.mode!==Vg.percent){const{mode:e,...i}=t;return i}return"x"in t?{x:t.x/lg*e.width,y:t.y/lg*e.height}:{width:t.width/lg*e.width,height:t.height/lg*e.height}}function nm(t,e){return im(t,e)}function sm(t,e){return im(t,e)}function rm(t,e,i,n,s){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const r=(e.velocity??0)*s.factor,o=e.min,a=e.max,c=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=s.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case zg.increasing:e.value>=a?(i?e.status=zg.decreasing:e.value-=a,e.loops||(e.loops=0),e.loops++):e.value+=r;break;case zg.decreasing:e.value<=o?(i?e.status=zg.increasing:e.value+=a,e.loops||(e.loops=0),e.loops++):e.value-=r}e.velocity&&1!==c&&(e.velocity*=c),function(t,e,i,n,s){switch(e){case Fg.max:i>=s&&t.destroy();break;case Fg.min:i<=n&&t.destroy()}}(t,n,e.value,o,a),t.destroyed||(e.value=Sg(e.value,o,a))}}var om,am;!function(t){t.darken="darken",t.enlighten="enlighten"}(om||(om={})),function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"}(am||(am={}));const cm=new Map;function lm(t){cm.set(t.key,t)}function hm(t,e,i=!0){if(!t)return;const n=pg(t)?{value:t}:t;if(pg(n.value))return um(n.value,e,i);if(vg(n.value))return hm({value:Wg(n.value,e,i)});for(const t of cm.values()){const e=t.handleRangeColor(n);if(e)return e}}function um(t,e,i=!0){if(!t)return;const n=pg(t)?{value:t}:t;if(pg(n.value))return"random"===n.value?function(t){const e=t??0;return{b:Math.floor(kg(Mg(e,256))),g:Math.floor(kg(Mg(e,256))),r:Math.floor(kg(Mg(e,256)))}}():function(t){return function(t){for(const e of cm.values())if(t.startsWith(e.stringPrefix))return e.parseString(t);const e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((t,e,i,n,s)=>e+e+i+i+n+n+(void 0!==s?s+s:""))),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return i?{a:void 0!==i[am.a]?parseInt(i[am.a],16)/255:1,b:parseInt(i[am.b],16),g:parseInt(i[am.g],16),r:parseInt(i[am.r],16)}:void 0}(t)}(n.value);if(vg(n.value))return um({value:Wg(n.value,e,i)});for(const t of cm.values()){const e=t.handleColor(n);if(e)return e}}function dm(t,e,i=!0){const n=hm(t,e,i);return n?function(t){const e=t.r/255,i=t.g/255,n=t.b/255,s=Math.max(e,i,n),r=Math.min(e,i,n),o={h:0,l:.5*(s+r),s:0};return s!==r&&(o.s=o.l<.5?(s-r)/(s+r):(s-r)/(2-s-r),o.h=e===s?(i-n)/(s-r):o.h=i===s?2+(n-e)/(s-r):4+(e-i)/(s-r)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}(n):void 0}function fm(t){const e=360,i=(t.h%e+e)%e,n=Math.max(0,Math.min(100,t.s)),s=i/e,r=n/100,o=Math.max(0,Math.min(100,t.l))/100,a=255;if(0===n){const t=Math.round(o*a);return{r:t,g:t,b:t}}const c=(t,e,i)=>(i<0&&i++,i>1&&i--,6*i<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t),l=o<.5?o*(1+r):o+r-o*r,h=2*o-l,u=1/3,d=Math.min(a,a*c(h,l,s+u)),f=Math.min(a,a*c(h,l,s)),p=Math.min(a,a*c(h,l,s-u));return{r:Math.round(d),g:Math.round(f),b:Math.round(p)}}function pm(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function gm(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function mm(t){return void 0!==t?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function vm(t,e,i){t.enable=e.enable,t.enable?(t.velocity=Ig(e.speed)/lg*i,t.decay=1-Ig(e.decay),t.status=zg.increasing,t.loops=0,t.maxLoops=Ig(e.count),t.time=0,t.delayTime=Ig(e.delay)*ug,e.sync||(t.velocity*=Cg(),t.value*=Cg()),t.initialValue=t.value,t.offset=Mg(e.offset)):t.velocity=0}function ym(t,e,i,n){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0))return;const s=t.offset?kg(t.offset):0,r=(t.velocity??0)*n.factor+3.6*s,o=t.decay??1,a=Ag(e),c=Dg(e);if(i&&t.status!==zg.increasing){t.value-=r;const e=0;t.value<e&&(t.loops||(t.loops=0),t.loops++,t.status=zg.increasing)}else t.value+=r,t.value>a&&(t.loops||(t.loops=0),t.loops++,i?t.status=zg.decreasing:t.value-=a);t.velocity&&1!==o&&(t.velocity*=o),t.value=Sg(t.value,c,a)}function _m(t,e){t.clearRect(0,0,e.width,e.height)}function wm(t,e,i){const n=e[i];void 0!==n&&(t[i]=(t[i]??1)*n)}function bm(t,e,i=!1){if(!e)return;if(!t)return;const n=t.style;if(n)for(const t in e){const s=e[t];n.setProperty(t,s,i?"important":"")}}class xm{constructor(t){this.container=t,this._applyPostDrawUpdaters=t=>{for(const e of this._postDrawUpdaters)e.afterDraw?.(t)},this._applyPreDrawUpdaters=(t,e,i,n,s,r)=>{for(const o of this._preDrawUpdaters){if(o.getColorStyles){const{fill:r,stroke:a}=o.getColorStyles(e,t,i,n);r&&(s.fill=r),a&&(s.stroke=a)}if(o.getTransformValues){const t=o.getTransformValues(e);for(const e in t)wm(r,t,e)}o.beforeDraw?.(e)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize?.()},this._getPluginParticleColors=t=>{let e,i;for(const n of this._colorPlugins)if(!e&&n.particleFillColor&&(e=dm(n.particleFillColor(t))),!i&&n.particleStrokeColor&&(i=dm(n.particleStrokeColor(t))),e&&i)break;return[e,i]},this._initCover=async()=>{const t=this.container.actualOptions.backgroundMask.cover,e=t.color;if(e){const i=hm(e);if(i){const e={...i,a:t.opacity};this._coverColorStyle=pm(e,e.a)}}else await new Promise(((e,i)=>{if(!t.image)return;const n=document.createElement("img");n.addEventListener("load",(()=>{this._coverImage={image:n,opacity:t.opacity},e()})),n.addEventListener("error",(t=>{i(t.error)})),n.src=t.image}))},this._initStyle=()=>{const t=this.element,e=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=Jg({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const i in e.style){if(!i||!e.style)continue;const n=e.style[i];n&&t.style.setProperty(i,n,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions.particles.move.trail,e=t.fill;if(!t.enable)return;const i=1/t.length;if(e.color){const t=hm(e.color);if(!t)return;this._trailFill={color:{...t},opacity:i}}else await new Promise(((t,n)=>{if(!e.image)return;const s=document.createElement("img");s.addEventListener("load",(()=>{this._trailFill={image:s,opacity:i},t()})),s.addEventListener("error",(t=>{n(t.error)})),s.src=e.image}))},this._paintBase=t=>{this.draw((e=>function(t,e,i){t.fillStyle=i??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}(e,this.size,t)))},this._paintImage=(t,e)=>{this.draw((i=>function(t,e,i,n){i&&(t.globalAlpha=n,t.drawImage(i,0,0,e.width,e.height),t.globalAlpha=1)}(i,this.size,t,e)))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver((t=>t.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((e=>{t&&t instanceof Node&&e.observe(t,{attributes:!0})})))},this._resetOriginalStyle=()=>{const t=this.element,e=this._originalStyle;t&&e&&bm(t,e)},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const e=this.container.actualOptions.fullScreen.zIndex.toString(10);bm(t,{position:"fixed","z-index":e,zIndex:e,top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const t=this.container.actualOptions,e=t.particles.move.trail,i=this._trailFill;t.backgroundMask.enable?this.paint():e.enable&&e.length>0&&i?i.color?this._paintBase(pm(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):t.clear&&this.draw((t=>{_m(t,this.size)}))}destroy(){if(this.stop(),this._generated){const t=this.element;t?.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(t){const e=this._context;if(e)return t(e)}drawAsync(t){const e=this._context;if(e)return t(e)}drawParticle(t,e){if(t.spawning||t.destroyed)return;const i=t.getRadius();if(i<=0)return;const n=t.getFillColor(),s=t.getStrokeColor()??n;let[r,o]=this._getPluginParticleColors(t);r||(r=n),o||(o=s),(r||o)&&this.draw((n=>{const s=this.container,a=s.actualOptions,c=t.options.zIndex,l=1-t.zIndexFactor,h=l**c.opacityRate,u=t.bubble.opacity??t.opacity?.value??1,d=u*h,f=(t.strokeOpacity??u)*h,p={},g={fill:r?gm(r,d):void 0};g.stroke=o?gm(o,f):g.fill,this._applyPreDrawUpdaters(n,t,i,d,g,p),function(t){const{container:e,context:i,particle:n,delta:s,colorStyles:r,backgroundMask:o,composite:a,radius:c,opacity:l,shadow:h,transform:u}=t,d=n.getPosition(),f=n.rotation+(n.pathRotation?n.velocity.angle:0),p=Math.sin(f),g=Math.cos(f),m=!!f,v={a:g*(u.a??1),b:m?p*(u.b??1):u.b??0,c:m?-p*(u.c??1):u.c??0,d:g*(u.d??1)};i.setTransform(v.a,v.b,v.c,v.d,d.x,d.y),o&&(i.globalCompositeOperation=a);const y=n.shadowColor;h.enable&&y&&(i.shadowBlur=h.blur,i.shadowColor=pm(y),i.shadowOffsetX=h.offset.x,i.shadowOffsetY=h.offset.y),r.fill&&(i.fillStyle=r.fill);const _=n.strokeWidth??0;i.lineWidth=_,r.stroke&&(i.strokeStyle=r.stroke);const w={container:e,context:i,particle:n,radius:c,opacity:l,delta:s,transformData:v,strokeWidth:_};!function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,strokeWidth:a,transformData:c}=t;if(!n.shape)return;const l=e.shapeDrawers.get(n.shape);l&&(i.beginPath(),l.draw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...c}}),n.shapeClose&&i.closePath(),a>0&&i.stroke(),n.shapeFill&&i.fill())}(w),function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,transformData:a}=t;if(!n.shape)return;const c=e.shapeDrawers.get(n.shape);c?.afterDraw&&c.afterDraw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}(w),function(t){const{container:e,context:i,particle:n,radius:s,opacity:r,delta:o,transformData:a}=t;if(!n.effect)return;const c=e.effectDrawers.get(n.effect);c&&c.draw({context:i,particle:n,radius:s,opacity:r,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}(w),i.globalCompositeOperation="source-over",i.resetTransform()}({container:s,context:n,particle:t,delta:e,colorStyles:g,backgroundMask:a.backgroundMask.enable,composite:a.backgroundMask.composite,radius:i*l**c.sizeRate,opacity:d,shadow:t.options.shadow,transform:p}),this._applyPostDrawUpdaters(t)}))}drawParticlePlugin(t,e,i){this.draw((n=>function(t,e,i,n){e.drawParticle&&e.drawParticle(t,i,n)}(n,t,e,i)))}drawPlugin(t,e){this.draw((i=>function(t,e,i){e.draw&&e.draw(t,i)}(i,t,e)))}async init(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=function(t){if(!$g()&&"undefined"!=typeof MutationObserver)return new MutationObserver(t)}((t=>{for(const e of t)"attributes"===e.type&&"style"===e.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(t){qg().error(t)}this.initBackground(),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const t=this.container.actualOptions.background,e=this.element;if(!e)return;const i=e.style;if(i){if(t.color){const e=hm(t.color);i.backgroundColor=e?pm(e,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const t of this.container.plugins.values())t.resize&&this._resizePlugins.push(t),(t.particleFillColor??t.particleStrokeColor)&&this._colorPlugins.push(t)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const t of this.container.particles.updaters)t.afterDraw&&this._postDrawUpdaters.push(t),(t.getColorStyles??t.getTransformValues??t.beforeDraw)&&this._preDrawUpdaters.push(t)}loadCanvas(t){this._generated&&this.element&&this.element.remove(),this._generated=t.dataset&&sg in t.dataset?"true"===t.dataset[sg]:this._generated,this.element=t,this.element.ariaHidden="true",this._originalStyle=Jg({},this.element.style),this.size.height=t.offsetHeight,this.size.width=t.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((t=>{this.element&&this.element instanceof Node&&t.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const t=this.container.actualOptions;this.draw((e=>{t.backgroundMask.enable&&t.backgroundMask.cover?(_m(e,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()}))}resize(){if(!this.element)return!1;const t=this.container,e=t.retina.pixelRatio,i=t.canvas.size,n=this.element.offsetWidth*e,s=this.element.offsetHeight*e;if(s===i.height&&n===i.width&&s===this.element.height&&n===this.element.width)return!1;const r={...i};return this.element.width=i.width=this.element.offsetWidth*e,this.element.height=i.height=this.element.offsetHeight*e,this.container.started&&t.particles.setResizeFactor({width:i.width/r.width,height:i.height/r.height}),!0}stop(){this._safeMutationObserver((t=>t.disconnect())),this._mutationObserver=void 0,this.draw((t=>_m(t,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const t=this.container,e=t.updateActualOptions();t.particles.setDensity(),this._applyResizePlugins(),e&&await t.refresh()}}var Tm,Em,Cm,Sm,km,Im,Dm,Am,Mm,Om,Pm;function Rm(t,e,i,n,s){if(n){let n={passive:!0};fg(s)?n.capture=s:void 0!==s&&(n=s),t.addEventListener(e,i,n)}else{const n=s;t.removeEventListener(e,i,n)}}!function(t){t.canvas="canvas",t.parent="parent",t.window="window"}(Tm||(Tm={}));class Lm{constructor(t){this.container=t,this._doMouseTouchClick=t=>{const e=this.container,i=e.actualOptions;if(this._canPush){const t=e.interactivity.mouse,n=t.position;if(!n)return;t.clickPosition={...n},t.clickTime=(new Date).getTime(),Zg(i.interactivity.events.onClick.mode,(t=>this.container.handleClickMode(t)))}"touchend"===t.type&&setTimeout((()=>this._mouseTouchFinish()),500)},this._handleThemeChange=t=>{const e=t,i=this.container,n=i.options,s=n.defaultThemes,r=e.matches?s.dark:s.light,o=n.themes.find((t=>t.name===r));o?.default.auto&&i.loadTheme(r)},this._handleVisibilityChange=()=>{const t=this.container,e=t.actualOptions;this._mouseTouchFinish(),e.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const t=this.container.canvas;await(t?.windowResize())};this._resizeTimeout=setTimeout((()=>{t()}),this.container.actualOptions.interactivity.events.resize.delay*ug)},this._manageInteractivityListeners=(t,e)=>{const i=this._handlers,n=this.container,s=n.actualOptions,r=n.interactivity.element;if(!r)return;const o=r,a=n.canvas.element;a&&(a.style.pointerEvents=o===a?"initial":"none"),(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(Rm(r,og,i.mouseMove,e),Rm(r,"touchstart",i.touchStart,e),Rm(r,"touchmove",i.touchMove,e),s.interactivity.events.onClick.enable?(Rm(r,ag,i.touchEndClick,e),Rm(r,"pointerup",i.mouseUp,e),Rm(r,"pointerdown",i.mouseDown,e)):Rm(r,ag,i.touchEnd,e),Rm(r,t,i.mouseLeave,e),Rm(r,"touchcancel",i.touchCancel,e))},this._manageListeners=t=>{const e=this._handlers,i=this.container,n=i.actualOptions.interactivity.detectsOn,s=i.canvas.element;let r=rg;n===Tm.window?(i.interactivity.element=window,r="pointerout"):n===Tm.parent&&s?i.interactivity.element=s.parentElement??s.parentNode:i.interactivity.element=s,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(r,t),document&&Rm(document,"visibilitychange",e.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const e=this._handlers,i=Hg("(prefers-color-scheme: dark)");i&&(void 0===i.addEventListener?void 0!==i.addListener&&(t?i.addListener(e.oldThemeChange):i.removeListener(e.oldThemeChange)):Rm(i,"change",e.themeChange,t))},this._manageResize=t=>{const e=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if("undefined"==typeof ResizeObserver)return void Rm(window,"resize",e.resize,t);const n=i.canvas.element;this._resizeObserver&&!t?(n&&this._resizeObserver.unobserve(n),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&n&&(this._resizeObserver=new ResizeObserver((t=>{t.find((t=>t.target===n))&&this._handleWindowResize()})),this._resizeObserver.observe(n))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:e}=t;e.clicking=!0,e.downPosition=e.position},this._mouseTouchClick=t=>{const e=this.container,i=e.actualOptions,{mouse:n}=e.interactivity;n.inside=!0;let s=!1;const r=n.position;if(r&&i.interactivity.events.onClick.enable){for(const t of e.plugins.values())if(t.clickPositionValid&&(s=t.clickPositionValid(r),s))break;s||this._doMouseTouchClick(t),n.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const e=t.mouse;delete e.position,delete e.clickPosition,delete e.downPosition,t.status=rg,e.inside=!1,e.clicking=!1},this._mouseTouchMove=t=>{const e=this.container,i=e.actualOptions,n=e.interactivity,s=e.canvas.element;if(!n?.element)return;let r;if(n.mouse.inside=!0,t.type.startsWith("pointer")){this._canPush=!0;const e=t;if(n.element===window){if(s){const t=s.getBoundingClientRect();r={x:e.clientX-t.left,y:e.clientY-t.top}}}else if(i.interactivity.detectsOn===Tm.parent){const t=e.target,i=e.currentTarget;if(t&&i&&s){const n=t.getBoundingClientRect(),o=i.getBoundingClientRect(),a=s.getBoundingClientRect();r={x:e.offsetX+2*n.left-(o.left+a.left),y:e.offsetY+2*n.top-(o.top+a.top)}}else r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY}}else e.target===s&&(r={x:e.offsetX??e.clientX,y:e.offsetY??e.clientY})}else if(this._canPush="touchmove"!==t.type,s){const e=t,i=1,n=e.touches[e.touches.length-i],o=s.getBoundingClientRect(),a=0;r={x:n.clientX-(o.left??a),y:n.clientY-(o.top??a)}}const o=e.retina.pixelRatio;r&&(r.x*=o,r.y*=o),n.mouse.position=r,n.status=og},this._touchEnd=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.delete(t.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.delete(t.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const e=t,i=Array.from(e.changedTouches);for(const t of i)this._touches.set(t.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}!function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"}(Em||(Em={}));class Nm{constructor(){this.value=""}static create(t,e){const i=new Nm;return i.load(t),void 0!==e&&(pg(e)||vg(e)?i.load({value:e}):i.load(e)),i}load(t){yg(t)||yg(t.value)||(this.value=t.value)}}class zm{constructor(){this.color=new Nm,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(t){yg(t)||(void 0!==t.color&&(this.color=Nm.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.position&&(this.position=t.position),void 0!==t.repeat&&(this.repeat=t.repeat),void 0!==t.size&&(this.size=t.size),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Fm{constructor(){this.opacity=1}load(t){yg(t)||(void 0!==t.color&&(this.color=Nm.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image),void 0!==t.opacity&&(this.opacity=t.opacity))}}class Bm{constructor(){this.composite="destination-out",this.cover=new Fm,this.enable=!1}load(t){if(!yg(t)){if(void 0!==t.composite&&(this.composite=t.composite),void 0!==t.cover){const e=t.cover,i=pg(t.cover)?{color:t.cover}:t.cover;this.cover.load(void 0!==e.color||void 0!==e.image?e:{color:i})}void 0!==t.enable&&(this.enable=t.enable)}}}class Vm{constructor(){this.enable=!0,this.zIndex=0}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.zIndex&&(this.zIndex=t.zIndex))}}class Um{constructor(){this.enable=!1,this.mode=[]}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode))}}!function(t){t.circle="circle",t.rectangle="rectangle"}(Cm||(Cm={}));class jm{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Cm.circle}load(t){yg(t)||(void 0!==t.selectors&&(this.selectors=t.selectors),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type))}}class qm{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.force&&(this.force=t.force),void 0!==t.smooth&&(this.smooth=t.smooth))}}class $m{constructor(){this.enable=!1,this.mode=[],this.parallax=new qm}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.mode&&(this.mode=t.mode),this.parallax.load(t.parallax))}}class Hm{constructor(){this.delay=.5,this.enable=!0}load(t){yg(t)||(void 0!==t.delay&&(this.delay=t.delay),void 0!==t.enable&&(this.enable=t.enable))}}class Gm{constructor(){this.onClick=new Um,this.onDiv=new jm,this.onHover=new $m,this.resize=new Hm}load(t){if(yg(t))return;this.onClick.load(t.onClick);const e=t.onDiv;void 0!==e&&(this.onDiv=Zg(e,(t=>{const e=new jm;return e.load(t),e}))),this.onHover.load(t.onHover),this.resize.load(t.resize)}}class Xm{constructor(t,e){this._engine=t,this._container=e}load(t){if(yg(t))return;if(!this._container)return;const e=this._engine.interactors.get(this._container);if(e)for(const i of e)i.loadModeOptions&&i.loadModeOptions(this,t)}}class Km{constructor(t,e){this.detectsOn=Tm.window,this.events=new Gm,this.modes=new Xm(t,e)}load(t){if(yg(t))return;const e=t.detectsOn;void 0!==e&&(this.detectsOn=e),this.events.load(t.events),this.modes.load(t.modes)}}class Wm{load(t){yg(t)||(t.position&&(this.position={x:t.position.x??50,y:t.position.y??50,mode:t.position.mode??Vg.percent}),t.options&&(this.options=Jg({},t.options)))}}!function(t){t.screen="screen",t.canvas="canvas"}(Sm||(Sm={}));class Ym{constructor(){this.maxWidth=1/0,this.options={},this.mode=Sm.canvas}load(t){yg(t)||(yg(t.maxWidth)||(this.maxWidth=t.maxWidth),yg(t.mode)||(t.mode===Sm.screen?this.mode=Sm.screen:this.mode=Sm.canvas),yg(t.options)||(this.options=Jg({},t.options)))}}!function(t){t.any="any",t.dark="dark",t.light="light"}(km||(km={}));class Qm{constructor(){this.auto=!1,this.mode=km.any,this.value=!1}load(t){yg(t)||(void 0!==t.auto&&(this.auto=t.auto),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class Jm{constructor(){this.name="",this.default=new Qm}load(t){yg(t)||(void 0!==t.name&&(this.name=t.name),this.default.load(t.default),void 0!==t.options&&(this.options=Jg({},t.options)))}}class Zm{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(t){yg(t)||(void 0!==t.count&&(this.count=Mg(t.count)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Mg(t.speed)),void 0!==t.decay&&(this.decay=Mg(t.decay)),void 0!==t.delay&&(this.delay=Mg(t.delay)),void 0!==t.sync&&(this.sync=t.sync))}}class tv extends Zm{constructor(){super(),this.mode=Ng.auto,this.startValue=Ug.random}load(t){super.load(t),yg(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.startValue&&(this.startValue=t.startValue))}}class ev extends Zm{constructor(){super(),this.offset=0,this.sync=!0}load(t){super.load(t),yg(t)||void 0!==t.offset&&(this.offset=Mg(t.offset))}}class iv{constructor(){this.h=new ev,this.s=new ev,this.l=new ev}load(t){yg(t)||(this.h.load(t.h),this.s.load(t.s),this.l.load(t.l))}}class nv extends Nm{constructor(){super(),this.animation=new iv}static create(t,e){const i=new nv;return i.load(t),void 0!==e&&(pg(e)||vg(e)?i.load({value:e}):i.load(e)),i}load(t){if(super.load(t),yg(t))return;const e=t.animation;void 0!==e&&(void 0!==e.enable?this.animation.h.load(e):this.animation.load(t.animation))}}!function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"}(Im||(Im={}));class sv{constructor(){this.speed=2}load(t){yg(t)||void 0!==t.speed&&(this.speed=t.speed)}}class rv{constructor(){this.enable=!0,this.retries=0}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.retries&&(this.retries=t.retries))}}class ov{constructor(){this.value=0}load(t){yg(t)||yg(t.value)||(this.value=Mg(t.value))}}class av extends ov{constructor(){super(),this.animation=new Zm}load(t){if(super.load(t),yg(t))return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class cv extends av{constructor(){super(),this.animation=new tv}load(t){super.load(t)}}class lv extends ov{constructor(){super(),this.value=1}}class hv{constructor(){this.horizontal=new lv,this.vertical=new lv}load(t){yg(t)||(this.horizontal.load(t.horizontal),this.vertical.load(t.vertical))}}class uv{constructor(){this.absorb=new sv,this.bounce=new hv,this.enable=!1,this.maxSpeed=50,this.mode=Im.bounce,this.overlap=new rv}load(t){yg(t)||(this.absorb.load(t.absorb),this.bounce.load(t.bounce),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.maxSpeed&&(this.maxSpeed=Mg(t.maxSpeed)),void 0!==t.mode&&(this.mode=t.mode),this.overlap.load(t.overlap))}}class dv{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(t){if(yg(t))return;const e=t.options;if(void 0!==e)for(const t in e){const i=e[t];i&&(this.options[t]=Jg(this.options[t]??{},i))}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class fv{constructor(){this.offset=0,this.value=90}load(t){yg(t)||(void 0!==t.offset&&(this.offset=Mg(t.offset)),void 0!==t.value&&(this.value=Mg(t.value)))}}class pv{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(t){if(!yg(t)&&(void 0!==t.distance&&(this.distance=Mg(t.distance)),void 0!==t.enable&&(this.enable=t.enable),t.rotate)){const e=t.rotate.x;void 0!==e&&(this.rotate.x=e);const i=t.rotate.y;void 0!==i&&(this.rotate.y=i)}}}class gv{constructor(){this.x=50,this.y=50,this.mode=Vg.percent,this.radius=0}load(t){yg(t)||(void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.radius&&(this.radius=t.radius))}}class mv{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(t){yg(t)||(void 0!==t.acceleration&&(this.acceleration=Mg(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.inverse&&(this.inverse=t.inverse),void 0!==t.maxSpeed&&(this.maxSpeed=Mg(t.maxSpeed)))}}class vv{constructor(){this.clamp=!0,this.delay=new ov,this.enable=!1,this.options={}}load(t){yg(t)||(void 0!==t.clamp&&(this.clamp=t.clamp),this.delay.load(t.delay),void 0!==t.enable&&(this.enable=t.enable),this.generator=t.generator,t.options&&(this.options=Jg(this.options,t.options)))}}class yv{load(t){yg(t)||(void 0!==t.color&&(this.color=Nm.create(this.color,t.color)),void 0!==t.image&&(this.image=t.image))}}class _v{constructor(){this.enable=!1,this.length=10,this.fill=new yv}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.fill&&this.fill.load(t.fill),void 0!==t.length&&(this.length=t.length))}}!function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"}(Dm||(Dm={}));class wv{constructor(){this.default=Dm.out}load(t){yg(t)||(void 0!==t.default&&(this.default=t.default),this.bottom=t.bottom??t.default,this.left=t.left??t.default,this.right=t.right??t.default,this.top=t.top??t.default)}}class bv{constructor(){this.acceleration=0,this.enable=!1}load(t){yg(t)||(void 0!==t.acceleration&&(this.acceleration=Mg(t.acceleration)),void 0!==t.enable&&(this.enable=t.enable),t.position&&(this.position=Jg({},t.position)))}}class xv{constructor(){this.angle=new fv,this.attract=new pv,this.center=new gv,this.decay=0,this.distance={},this.direction=dg.none,this.drift=0,this.enable=!1,this.gravity=new mv,this.path=new vv,this.outModes=new wv,this.random=!1,this.size=!1,this.speed=2,this.spin=new bv,this.straight=!1,this.trail=new _v,this.vibrate=!1,this.warp=!1}load(t){if(yg(t))return;this.angle.load(gg(t.angle)?{value:t.angle}:t.angle),this.attract.load(t.attract),this.center.load(t.center),void 0!==t.decay&&(this.decay=Mg(t.decay)),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.distance&&(this.distance=gg(t.distance)?{horizontal:t.distance,vertical:t.distance}:{...t.distance}),void 0!==t.drift&&(this.drift=Mg(t.drift)),void 0!==t.enable&&(this.enable=t.enable),this.gravity.load(t.gravity);const e=t.outModes;void 0!==e&&(mg(e)?this.outModes.load(e):this.outModes.load({default:e})),this.path.load(t.path),void 0!==t.random&&(this.random=t.random),void 0!==t.size&&(this.size=t.size),void 0!==t.speed&&(this.speed=Mg(t.speed)),this.spin.load(t.spin),void 0!==t.straight&&(this.straight=t.straight),this.trail.load(t.trail),void 0!==t.vibrate&&(this.vibrate=t.vibrate),void 0!==t.warp&&(this.warp=t.warp)}}class Tv extends tv{constructor(){super(),this.destroy=Fg.none,this.speed=2}load(t){super.load(t),yg(t)||void 0!==t.destroy&&(this.destroy=t.destroy)}}class Ev extends cv{constructor(){super(),this.animation=new Tv,this.value=1}load(t){if(yg(t))return;super.load(t);const e=t.animation;void 0!==e&&this.animation.load(e)}}class Cv{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(t){if(yg(t))return;void 0!==t.enable&&(this.enable=t.enable);const e=t.width;void 0!==e&&(this.width=e);const i=t.height;void 0!==i&&(this.height=i)}}!function(t){t.delete="delete",t.wait="wait"}(Am||(Am={}));class Sv{constructor(){this.mode=Am.delete,this.value=0}load(t){yg(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.value&&(this.value=t.value))}}class kv{constructor(){this.density=new Cv,this.limit=new Sv,this.value=0}load(t){yg(t)||(this.density.load(t.density),this.limit.load(t.limit),void 0!==t.value&&(this.value=t.value))}}class Iv{constructor(){this.blur=0,this.color=new Nm,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(t){yg(t)||(void 0!==t.blur&&(this.blur=t.blur),this.color=Nm.create(this.color,t.color),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.offset&&(void 0!==t.offset.x&&(this.offset.x=t.offset.x),void 0!==t.offset.y&&(this.offset.y=t.offset.y)))}}class Dv{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(t){if(yg(t))return;const e=t.options;if(void 0!==e)for(const t in e){const i=e[t];i&&(this.options[t]=Jg(this.options[t]??{},i))}void 0!==t.close&&(this.close=t.close),void 0!==t.fill&&(this.fill=t.fill),void 0!==t.type&&(this.type=t.type)}}class Av extends tv{constructor(){super(),this.destroy=Fg.none,this.speed=5}load(t){super.load(t),yg(t)||void 0!==t.destroy&&(this.destroy=t.destroy)}}class Mv extends cv{constructor(){super(),this.animation=new Av,this.value=3}load(t){if(super.load(t),yg(t))return;const e=t.animation;void 0!==e&&this.animation.load(e)}}class Ov{constructor(){this.width=0}load(t){yg(t)||(void 0!==t.color&&(this.color=nv.create(this.color,t.color)),void 0!==t.width&&(this.width=Mg(t.width)),void 0!==t.opacity&&(this.opacity=Mg(t.opacity)))}}class Pv extends ov{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(t){super.load(t),yg(t)||(void 0!==t.opacityRate&&(this.opacityRate=t.opacityRate),void 0!==t.sizeRate&&(this.sizeRate=t.sizeRate),void 0!==t.velocityRate&&(this.velocityRate=t.velocityRate))}}class Rv{constructor(t,e){this._engine=t,this._container=e,this.bounce=new hv,this.collisions=new uv,this.color=new nv,this.color.value="#fff",this.effect=new dv,this.groups={},this.move=new xv,this.number=new kv,this.opacity=new Ev,this.reduceDuplicates=!1,this.shadow=new Iv,this.shape=new Dv,this.size=new Mv,this.stroke=new Ov,this.zIndex=new Pv}load(t){if(yg(t))return;if(void 0!==t.groups)for(const e of Object.keys(t.groups)){if(!Object.hasOwn(t.groups,e))continue;const i=t.groups[e];void 0!==i&&(this.groups[e]=Jg(this.groups[e]??{},i))}void 0!==t.reduceDuplicates&&(this.reduceDuplicates=t.reduceDuplicates),this.bounce.load(t.bounce),this.color.load(nv.create(this.color,t.color)),this.effect.load(t.effect),this.move.load(t.move),this.number.load(t.number),this.opacity.load(t.opacity),this.shape.load(t.shape),this.size.load(t.size),this.shadow.load(t.shadow),this.zIndex.load(t.zIndex),this.collisions.load(t.collisions),void 0!==t.interactivity&&(this.interactivity=Jg({},t.interactivity));const e=t.stroke;if(e&&(this.stroke=Zg(e,(t=>{const e=new Ov;return e.load(t),e}))),this._container){const e=this._engine.updaters.get(this._container);if(e)for(const i of e)i.loadOptions&&i.loadOptions(this,t);const i=this._engine.interactors.get(this._container);if(i)for(const e of i)e.loadParticlesOptions&&e.loadParticlesOptions(this,t)}}}function Lv(t,...e){for(const i of e)t.load(i)}function Nv(t,e,...i){const n=new Rv(t,e);return Lv(n,...i),n}class zv{constructor(t,e){this._findDefaultTheme=t=>this.themes.find((e=>e.default.value&&e.default.mode===t))??this.themes.find((t=>t.default.value&&t.default.mode===km.any)),this._importPreset=t=>{this.load(this._engine.getPreset(t))},this._engine=t,this._container=e,this.autoPlay=!0,this.background=new zm,this.backgroundMask=new Bm,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new Vm,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Km(t,e),this.manualParticles=[],this.particles=Nv(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(t){if(yg(t))return;void 0!==t.preset&&Zg(t.preset,(t=>this._importPreset(t))),void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.clear&&(this.clear=t.clear),void 0!==t.key&&(this.key=t.key),void 0!==t.name&&(this.name=t.name),void 0!==t.delay&&(this.delay=Mg(t.delay));const e=t.detectRetina;void 0!==e&&(this.detectRetina=e),void 0!==t.duration&&(this.duration=Mg(t.duration));const i=t.fpsLimit;void 0!==i&&(this.fpsLimit=i),void 0!==t.pauseOnBlur&&(this.pauseOnBlur=t.pauseOnBlur),void 0!==t.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=t.pauseOnOutsideViewport),void 0!==t.zLayers&&(this.zLayers=t.zLayers),this.background.load(t.background);const n=t.fullScreen;fg(n)?this.fullScreen.enable=n:this.fullScreen.load(n),this.backgroundMask.load(t.backgroundMask),this.interactivity.load(t.interactivity),t.manualParticles&&(this.manualParticles=t.manualParticles.map((t=>{const e=new Wm;return e.load(t),e}))),this.particles.load(t.particles),this.style=Jg(this.style,t.style),this._engine.loadOptions(this,t),void 0!==t.smooth&&(this.smooth=t.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const e of s)e.loadOptions&&e.loadOptions(this,t);if(void 0!==t.responsive)for(const e of t.responsive){const t=new Ym;t.load(e),this.responsive.push(t)}if(this.responsive.sort(((t,e)=>t.maxWidth-e.maxWidth)),void 0!==t.themes)for(const e of t.themes){const t=this.themes.find((t=>t.name===e.name));if(t)t.load(e);else{const t=new Jm;t.load(e),this.themes.push(t)}}this.defaultThemes.dark=this._findDefaultTheme(km.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(km.light)?.name}setResponsive(t,e,i){this.load(i);const n=this.responsive.find((i=>i.mode===Sm.screen&&screen?i.maxWidth>screen.availWidth:i.maxWidth*e>t));return this.load(n?.options),n?.maxWidth}setTheme(t){if(t){const e=this.themes.find((e=>e.name===t));e&&this.load(e.options)}else{const t=Hg("(prefers-color-scheme: dark)"),e=t?.matches,i=this._findDefaultTheme(e?km.dark:km.light);i&&this.load(i.options)}}}(Pm=Mm||(Mm={})).external="external",Pm.particles="particles";class Fv{constructor(t,e){this.container=e,this._engine=t,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(t){for(const e of this._externalInteractors)e.isEnabled()&&e.interact(t)}handleClickMode(t){for(const e of this._externalInteractors)e.handleClickMode?.(t)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const t of this._interactors){switch(t.type){case Mm.external:this._externalInteractors.push(t);break;case Mm.particles:this._particleInteractors.push(t)}t.init()}}particlesInteract(t,e){for(const i of this._externalInteractors)i.clear(t,e);for(const i of this._particleInteractors)i.isEnabled(t)&&i.interact(t,e)}reset(t){for(const e of this._externalInteractors)e.isEnabled()&&e.reset(t);for(const e of this._particleInteractors)e.isEnabled(t)&&e.reset(t)}}!function(t){t.normal="normal",t.inside="inside",t.outside="outside"}(Om||(Om={}));const Bv=.5,Vv="random";function Uv(t){if(!Gg(t.outMode,t.checkModes))return;const e=2*t.radius;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class jv{constructor(t,e){this.container=e,this._calcPosition=(t,e,i,n=0)=>{for(const n of t.plugins.values()){const t=void 0!==n.particlePosition?n.particlePosition(e,this):void 0;if(t)return _g.create(t.x,t.y,i)}const s=(h={size:t.canvas.size,position:e},{x:h.position?.x??Cg()*h.size.width,y:h.position?.y??Cg()*h.size.height}),r=_g.create(s.x,s.y,i),o=this.getRadius(),a=this.options.move.outModes,c=e=>{Uv({outMode:e,checkModes:[Dm.bounce],coord:r.x,maxCoord:t.canvas.size.width,setCb:t=>r.x+=t,radius:o})},l=e=>{Uv({outMode:e,checkModes:[Dm.bounce],coord:r.y,maxCoord:t.canvas.size.height,setCb:t=>r.y+=t,radius:o})};var h;if(c(a.left??a.default),c(a.right??a.default),l(a.top??a.default),l(a.bottom??a.default),this._checkOverlap(r,n)){const e=1;return this._calcPosition(t,void 0,i,n+e)}return r},this._calculateVelocity=()=>{const t=function(t){const e=wg.origin;return e.length=1,e.angle=t,e}(this.direction).copy(),e=this.options.move;if(e.direction===dg.inside||e.direction===dg.outside)return t;const i=Rg(Ig(e.angle.value)),n=Rg(Ig(e.angle.offset)),s={left:n-i*Bv,right:n+i*Bv};return e.straight||(t.angle+=kg(Mg(s.left,s.right))),e.random&&"number"==typeof e.speed&&(t.length*=Cg()),t},this._checkOverlap=(t,e=0)=>{const i=this.options.collisions,n=this.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const r=s.retries;if(r>=0&&e>r)throw new Error(`${cg} particle is overlapping and can't be placed`);return!!this.container.particles.find((e=>Pg(t,e.position)<n+e.getRadius()))},this._getRollColor=t=>{if(!t||!this.roll||!this.backColor&&!this.roll.alter)return t;const e=this.roll.horizontal&&this.roll.vertical?2:1,i=this.roll.horizontal?Math.PI*Bv:0;return Math.floor(((this.roll.angle??0)+i)/(Math.PI/e))%2?this.backColor?this.backColor:this.roll.alter?function(t,e,i){return{h:t.h,s:t.s,l:t.l+(e===om.darken?-1:1)*i}}(t,this.roll.alter.type,this.roll.alter.value):t:t},this._initPosition=t=>{const e=this.container,i=Ig(this.options.zIndex.value);this.position=this._calcPosition(e,t,Sg(i,0,e.zLayers)),this.initialPosition=this.position.copy();const n=e.canvas.size;switch(this.moveCenter={...nm(this.options.move.center,n),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??Vg.percent},this.direction=function(t,e,i){if(gg(t))return Rg(t);switch(t){case dg.top:return.5*-Math.PI;case dg.topRight:return.25*-Math.PI;case dg.right:return 0;case dg.bottomRight:return.25*Math.PI;case dg.bottom:return.5*Math.PI;case dg.bottomLeft:return.75*Math.PI;case dg.left:return Math.PI;case dg.topLeft:return.75*-Math.PI;case dg.inside:return Math.atan2(i.y-e.y,i.x-e.x);case dg.outside:return Math.atan2(e.y-i.y,e.x-i.x);default:return Cg()*Eg}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case dg.inside:this.outType=Om.inside;break;case dg.outside:this.outType=Om.outside}this.offset=wg.origin},this._engine=t}destroy(t){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const e=this.container,i=this.pathGenerator,n=e.shapeDrawers.get(this.shape);n?.particleDestroy?.(this);for(const i of e.plugins.values())i.particleDestroyed?.(this,t);for(const i of e.particles.updaters)i.particleDestroyed?.(this,t);i?.reset(this),this._engine.dispatchEvent(Em.particleDestroyed,{container:this.container,data:{particle:this}})}draw(t){const e=this.container,i=e.canvas;for(const n of e.plugins.values())i.drawParticlePlugin(n,this,t);i.drawParticle(this,t)}getFillColor(){return this._getRollColor(this.bubble.color??mm(this.color))}getMass(){return this.getRadius()**2*Math.PI*Bv}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??mm(this.strokeColor))}init(t,e,i,n){const s=this.container,r=this._engine;this.id=t,this.group=n,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Om.normal,this.ignoresResizeRatio=!0;const o=s.retina.pixelRatio,a=s.actualOptions,c=Nv(this._engine,s,a.particles),{reduceDuplicates:l}=c,h=c.effect.type,u=c.shape.type;this.effect=tm(h,this.id,l),this.shape=tm(u,this.id,l);const d=c.effect,f=c.shape;if(i){if(i.effect?.type){const t=tm(i.effect.type,this.id,l);t&&(this.effect=t,d.load(i.effect))}if(i.shape?.type){const t=tm(i.shape.type,this.id,l);t&&(this.shape=t,f.load(i.shape))}}if(this.effect===Vv){const t=[...this.container.effectDrawers.keys()];this.effect=t[Math.floor(Math.random()*t.length)]}if(this.shape===Vv){const t=[...this.container.shapeDrawers.keys()];this.shape=t[Math.floor(Math.random()*t.length)]}this.effectData=function(t,e,i,n){const s=e.options[t];if(s)return Jg({close:e.close,fill:e.fill},tm(s,i,n))}(this.effect,d,this.id,l),this.shapeData=function(t,e,i,n){const s=e.options[t];if(s)return Jg({close:e.close,fill:e.fill},tm(s,i,n))}(this.shape,f,this.id,l),c.load(i);const p=this.effectData;p&&c.load(p.particles);const g=this.shapeData;g&&c.load(g.particles);const m=new Km(r,s);m.load(s.actualOptions.interactivity),m.load(c.interactivity),this.interactivity=m,this.effectFill=p?.fill??c.effect.fill,this.effectClose=p?.close??c.effect.close,this.shapeFill=g?.fill??c.shape.fill,this.shapeClose=g?.close??c.shape.close,this.options=c;const v=this.options.move.path;this.pathDelay=Ig(v.delay.value)*ug,v.generator&&(this.pathGenerator=this._engine.getPathGenerator(v.generator),this.pathGenerator&&s.addPath(v.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=em(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(e),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Ig(this.options.move.decay);const y=s.particles;y.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let _=s.effectDrawers.get(this.effect);_||(_=this._engine.getEffectDrawer(this.effect),_&&s.effectDrawers.set(this.effect,_)),_?.loadEffect&&_.loadEffect(this);let w=s.shapeDrawers.get(this.shape);w||(w=this._engine.getShapeDrawer(this.shape),w&&s.shapeDrawers.set(this.shape,w)),w?.loadShape&&w.loadShape(this);const b=w?.getSidesCount;b&&(this.sides=b(this)),this.spawning=!1,this.shadowColor=hm(this.options.shadow.color);for(const t of y.updaters)t.init(this);for(const t of y.movers)t.init?.(this);_?.particleInit?.(s,this),w?.particleInit?.(s,this);for(const t of s.plugins.values())t.particleCreated?.(this)}isInsideCanvas(){const t=this.getRadius(),e=this.container.canvas.size,i=this.position;return i.x>=-t&&i.y>=-t&&i.y<=e.height+t&&i.x<=e.width+t}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const t of this.container.particles.updaters)t.reset?.(this)}}class qv{constructor(t,e){this.position=t,this.particle=e}}var $v;!function(t){t.circle="circle",t.rectangle="rectangle"}($v||($v={}));class Hv{constructor(t,e,i){this.position={x:t,y:e},this.type=i}}class Gv extends Hv{constructor(t,e,i){super(t,e,$v.circle),this.radius=i}contains(t){return Pg(t,this.position)<=this.radius}intersects(t){const e=this.position,i=t.position,n=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y),r=this.radius;if(t instanceof Gv||t.type===$v.circle)return r+t.radius>Math.sqrt(n**2+s**2);if(t instanceof Xv||t.type===$v.rectangle){const e=t,{width:i,height:o}=e.size;return Math.pow(n-i,2)+Math.pow(s-o,2)<=r**2||n<=r+i&&s<=r+o||n<=i||s<=o}return!1}}class Xv extends Hv{constructor(t,e,i,n){super(t,e,$v.rectangle),this.size={height:n,width:i}}contains(t){const e=this.size.width,i=this.size.height,n=this.position;return t.x>=n.x&&t.x<=n.x+e&&t.y>=n.y&&t.y<=n.y+i}intersects(t){if(t instanceof Gv)return t.intersects(this);const e=this.size.width,i=this.size.height,n=this.position,s=t.position,r=t instanceof Xv?t.size:{width:0,height:0},o=r.width,a=r.height;return s.x<n.x+e&&s.x+o>n.x&&s.y<n.y+i&&s.y+a>n.y}}const Kv=.5;class Wv{constructor(t,e){this.rectangle=t,this.capacity=e,this._subdivide=()=>{const{x:t,y:e}=this.rectangle.position,{width:i,height:n}=this.rectangle.size,{capacity:s}=this;for(let r=0;r<4;r++){const o=r%2;this._subs.push(new Wv(new Xv(t+i*Kv*o,e+n*Kv*(Math.round(r*Kv)-o),i*Kv,n*Kv),s))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(t){return!!this.rectangle.contains(t.position)&&(this._points.length<this.capacity?(this._points.push(t),!0):(this._divided||this._subdivide(),this._subs.some((e=>e.insert(t)))))}query(t,e){const i=[];if(!t.intersects(this.rectangle))return[];for(const n of this._points)!t.contains(n.position)&&Pg(t.position,n.position)>n.particle.getRadius()&&(!e||e(n.particle))||i.push(n.particle);if(this._divided)for(const n of this._subs)i.push(...n.query(t,e));return i}queryCircle(t,e,i){return this.query(new Gv(t.x,t.y,e),i)}queryRectangle(t,e,i){return this.query(new Xv(t.x,t.y,e.width,e.height),i)}}const Yv=t=>{const{height:e,width:i}=t;return new Xv(-.25*i,-.25*e,1.5*i,1.5*e)};class Qv{constructor(t,e){this._addToPool=(...t)=>{this._pool.push(...t)},this._applyDensity=(t,e,i)=>{const n=t.number;if(!t.number.density?.enable)return void(void 0===i?this._limit=n.limit.value:n.limit&&this._groupLimits.set(i,n.limit.value));const s=this._initDensityFactor(n.density),r=n.value,o=n.limit.value>0?n.limit.value:r,a=Math.min(r,o)*s+e,c=Math.min(this.count,this.filter((t=>t.group===i)).length);void 0===i?this._limit=n.limit.value*s:this._groupLimits.set(i,n.limit.value*s),c<a?this.push(Math.abs(a-c),void 0,t,i):c>a&&this.removeQuantity(c-a,i)},this._initDensityFactor=t=>{const e=this._container;if(!e.canvas.element||!t.enable)return 1;const i=e.canvas.element,n=e.retina.pixelRatio;return i.width*i.height/(t.height*t.width*n**2)},this._pushParticle=(t,e,i,n)=>{try{let s=this._pool.pop();s||(s=new jv(this._engine,this._container)),s.init(this._nextId,t,e,i);let r=!0;if(n&&(r=n(s)),!r)return;return this._array.push(s),this._zArray.push(s),this._nextId++,this._engine.dispatchEvent(Em.particleAdded,{container:this._container,data:{particle:s}}),s}catch(t){qg().warning(`${cg} adding particle: ${t}`)}},this._removeParticle=(t,e,i)=>{const n=this._array[t];if(!n||n.group!==e)return!1;const s=this._zArray.indexOf(n);return this._array.splice(t,1),this._zArray.splice(s,1),n.destroy(i),this._engine.dispatchEvent(Em.particleRemoved,{container:this._container,data:{particle:n}}),this._addToPool(n),!0},this._engine=t,this._container=e,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Fv(t,e),this._pluginsInitialized=!1;const i=e.canvas.size;this.quadTree=new Wv(Yv(i),4),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const t=this._container;t.actualOptions.manualParticles.forEach((e=>this.addParticle(e.position?nm(e.position,t.canvas.size):void 0,e.options)))}addParticle(t,e,i,n){const s=this._container.actualOptions.particles.number.limit.mode,r=void 0===i?this._limit:this._groupLimits.get(i)??this._limit,o=this.count;if(r>0)switch(s){case Am.delete:{const t=o+1-r;t>0&&this.removeQuantity(t);break}case Am.wait:if(o>=r)return}return this._pushParticle(t,e,i,n)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(t){const e=this._container,i=e.canvas;i.clear(),this.update(t);for(const n of e.plugins.values())i.drawPlugin(n,t);for(const e of this._zArray)e.draw(t)}filter(t){return this._array.filter(t)}find(t){return this._array.find(t)}get(t){return this._array[t]}handleClickMode(t){this._interactionManager.handleClickMode(t)}async init(){const t=this._container,e=t.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const e of t.plugins.values())if(i=e.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const t=e.particles,i=t.groups;for(const e in i){const n=i[e];for(let i=this.count,s=0;s<n.number?.value&&i<t.number.value;i++,s++)this.addParticle(void 0,n,e)}for(let e=this.count;e<t.number.value;e++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const t=this._container;this.movers=await this._engine.getMovers(t,!0),this.updaters=await this._engine.getUpdaters(t,!0),await this._interactionManager.init();for(const e of t.pathGenerators.values())e.init(t)}push(t,e,i,n){for(let s=0;s<t;s++)this.addParticle(e?.position,i,n)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(t,e,i){this.removeAt(this._array.indexOf(t),void 0,e,i)}removeAt(t,e=1,i,n){if(t<0||t>this.count)return;let s=0;for(let r=t;s<e&&r<this.count;r++)this._removeParticle(r,i,n)&&(r--,s++)}removeQuantity(t,e){this.removeAt(0,t,e)}setDensity(){const t=this._container.actualOptions,e=t.particles.groups;for(const t in e)this._applyDensity(e[t],0,t);this._applyDensity(t.particles,t.manualParticles.length)}setLastZIndex(t){this._lastZIndex=t,this._needsSort=this._needsSort||this._lastZIndex<t}setResizeFactor(t){this._resizeFactor=t}update(t){const e=this._container,i=new Set;this.quadTree=new Wv(Yv(e.canvas.size),4);for(const t of e.pathGenerators.values())t.update();for(const i of e.plugins.values())i.update?.(t);const n=this._resizeFactor;for(const e of this._array){n&&!e.ignoresResizeRatio&&(e.position.x*=n.width,e.position.y*=n.height,e.initialPosition.x*=n.width,e.initialPosition.y*=n.height),e.ignoresResizeRatio=!1,this._interactionManager.reset(e);for(const i of this._container.plugins.values()){if(e.destroyed)break;i.particleUpdate?.(e,t)}for(const i of this.movers)i.isEnabled(e)&&i.move(e,t);e.destroyed?i.add(e):this.quadTree.insert(new qv(e.getPosition(),e))}if(i.size){const t=t=>!i.has(t);this._array=this.filter(t),this._zArray=this._zArray.filter(t);for(const t of i)this._engine.dispatchEvent(Em.particleRemoved,{container:this._container,data:{particle:t}});this._addToPool(...i)}this._interactionManager.externalInteract(t);for(const e of this._array){for(const i of this.updaters)i.update(e,t);e.destroyed||e.spawning||this._interactionManager.particlesInteract(e,t)}if(delete this._resizeFactor,this._needsSort){const t=this._zArray;t.sort(((t,e)=>e.position.z-t.position.z||t.id-e.id));const e=1;this._lastZIndex=t[t.length-e].position.z,this._needsSort=!1}}}class Jv{constructor(t){this.container=t,this.pixelRatio=1,this.reduceFactor=1}init(){const t=this.container,e=t.actualOptions;this.pixelRatio=!e.detectRetina||$g()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio,n=t.canvas;if(n.element){const t=n.element;n.size.width=t.offsetWidth*i,n.size.height=t.offsetHeight*i}const s=e.particles,r=s.move;this.maxSpeed=Ig(r.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Ig(s.size.animation.speed)*i}initParticle(t){const e=t.options,i=this.pixelRatio,n=e.move,s=n.distance,r=t.retina;r.moveDrift=Ig(n.drift)*i,r.moveSpeed=Ig(n.speed)*i,r.sizeAnimationSpeed=Ig(e.size.animation.speed)*i;const o=r.maxDistance;o.horizontal=void 0!==s.horizontal?s.horizontal*i:void 0,o.vertical=void 0!==s.vertical?s.vertical*i:void 0,r.maxSpeed=Ig(n.gravity.maxSpeed)*i}}function Zv(t){return t&&!t.destroyed}function ty(t,e,...i){const n=new zv(t,e);return Lv(n,...i),n}class ey{constructor(t,e,i){this._intersectionManager=t=>{if(Zv(this)&&this.actualOptions.pauseOnOutsideViewport)for(const e of t)e.target===this.interactivity.element&&(e.isIntersecting?this.play():this.pause())},this._nextFrame=t=>{try{if(!this._smooth&&void 0!==this._lastFrameTime&&t<this._lastFrameTime+ug/this.fpsLimit)return void this.draw(!1);this._lastFrameTime??=t;const e=function(t,e=60,i=!1){return{value:t,factor:i?60/e:60*t/ug}}(t-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(e.value),this._lastFrameTime=t,e.value>ug)return void this.draw(!1);if(this.particles.draw(e),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(t){qg().error(`${cg} in animation loop`,t)}},this._engine=t,this.id=Symbol(e),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Jv(this),this.canvas=new xm(this),this.particles=new Qv(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=ty(this._engine,this),this.actualOptions=ty(this._engine,this),this._eventListeners=new Lm(this),this._intersectionObserver=function(t){if(!$g()&&"undefined"!=typeof IntersectionObserver)return new IntersectionObserver(t)}((t=>this._intersectionManager(t))),this._engine.dispatchEvent(Em.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Zv(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(t){if(!Zv(this))return;const e=this.interactivity.element;if(!e)return;const i=(e,i,n)=>{if(!Zv(this))return;const s=this.retina.pixelRatio,r={x:i.x*s,y:i.y*s},o=this.particles.quadTree.queryCircle(r,n*s);t(e,o)};let n=!1,s=!1;this._clickHandlers.set("click",(t=>{if(!Zv(this))return;const e=t,n={x:e.offsetX||e.clientX,y:e.offsetY||e.clientY};i(t,n,1)})),this._clickHandlers.set("touchstart",(()=>{Zv(this)&&(n=!0,s=!1)})),this._clickHandlers.set("touchmove",(()=>{Zv(this)&&(s=!0)})),this._clickHandlers.set("touchend",(t=>{if(Zv(this)){if(n&&!s){const e=t,n=1;let s=e.touches[e.touches.length-n];if(!s&&(s=e.changedTouches[e.changedTouches.length-n],!s))return;const r=this.canvas.element,o=r?r.getBoundingClientRect():void 0,a=0,c={x:s.clientX-(o?o.left:a),y:s.clientY-(o?o.top:a)};i(t,c,Math.max(s.radiusX,s.radiusY))}n=!1,s=!1}})),this._clickHandlers.set("touchcancel",(()=>{Zv(this)&&(n=!1,s=!1)}));for(const[t,i]of this._clickHandlers)e.addEventListener(t,i)}addLifeTime(t){this._lifeTime+=t}addPath(t,e,i=!1){return!(!Zv(this)||!i&&this.pathGenerators.has(t)||(this.pathGenerators.set(t,e),0))}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(Zv(this)){for(const[t,e]of this._clickHandlers)this.interactivity.element?.removeEventListener(t,e);this._clickHandlers.clear()}}destroy(t=!0){if(Zv(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,t){const t=this._engine.items,e=t.findIndex((t=>t===this));if(e>=0){const i=1;t.splice(e,i)}}this._engine.dispatchEvent(Em.containerDestroyed,{container:this})}}draw(t){if(!Zv(this))return;let e=t;const i=t=>{e&&(this._lastFrameTime=void 0,e=!1),this._nextFrame(t)};this._drawAnimationFrame=xg((t=>i(t)))}async export(t,e={}){for(const i of this.plugins.values()){if(!i.export)continue;const n=await i.export(t,e);if(n.supported)return n.blob}qg().error(`${cg} - Export plugin with type ${t} not found`)}handleClickMode(t){if(Zv(this)){this.particles.handleClickMode(t);for(const e of this.plugins.values())e.handleClickMode?.(t)}}async init(){if(!Zv(this))return;const t=this._engine.getSupportedEffects();for(const e of t){const t=this._engine.getEffectDrawer(e);t&&this.effectDrawers.set(e,t)}const e=this._engine.getSupportedShapes();for(const t of e){const e=this._engine.getShapeDrawer(t);e&&this.shapeDrawers.set(t,e)}await this.particles.initPlugins(),this._options=ty(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ty(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[t,e]of i)this.plugins.set(t,e);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:n,duration:s,delay:r,fpsLimit:o,smooth:a}=this.actualOptions;this.zLayers=n,this._duration=Ig(s)*ug,this._delay=Ig(r)*ug,this._lifeTime=0,this.fpsLimit=o>0?o:120,this._smooth=a;for(const t of this.effectDrawers.values())await(t.init?.(this));for(const t of this.shapeDrawers.values())await(t.init?.(this));for(const t of this.plugins.values())await(t.init?.());this._engine.dispatchEvent(Em.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const t of this.plugins.values())t.particlesSetup?.();this._engine.dispatchEvent(Em.particlesSetup,{container:this})}async loadTheme(t){Zv(this)&&(this._currentTheme=t,await this.refresh())}pause(){var t;if(Zv(this)&&(void 0!==this._drawAnimationFrame&&(t=this._drawAnimationFrame,Tg(t),delete this._drawAnimationFrame),!this._paused)){for(const t of this.plugins.values())t.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Em.containerPaused,{container:this})}}play(t){if(!Zv(this))return;const e=this._paused||t;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),e)for(const t of this.plugins.values())t.play&&t.play();this._engine.dispatchEvent(Em.containerPlay,{container:this}),this.draw(e??!1)}else this._firstStart=!1}async refresh(){if(Zv(this))return this.stop(),this.start()}async reset(t){if(Zv(this))return this._initialSourceOptions=t,this._sourceOptions=t,this._options=ty(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ty(this._engine,this,this._options),this.refresh()}async start(){Zv(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((t=>{const e=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const t of this.plugins.values())await(t.start?.());this._engine.dispatchEvent(Em.containerStarted,{container:this}),this.play(),t()};this._delayTimeout=setTimeout((()=>{e()}),this._delay)})))}stop(){if(Zv(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values())t.stop?.();for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(Em.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const t=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==t&&(this._responsiveMaxWidth=t,!0)}}class iy{constructor(){this._listeners=new Map}addEventListener(t,e){this.removeEventListener(t,e);let i=this._listeners.get(t);i||(i=[],this._listeners.set(t,i)),i.push(e)}dispatchEvent(t,e){const i=this._listeners.get(t);i?.forEach((t=>t(e)))}hasEventListener(t){return!!this._listeners.get(t)}removeAllEventListeners(t){t?this._listeners.delete(t):this._listeners=new Map}removeEventListener(t,e){const i=this._listeners.get(t);if(!i)return;const n=i.length,s=i.indexOf(e);s<0||(1===n?this._listeners.delete(t):i.splice(s,1))}}async function ny(t,e,i,n=!1){let s=e.get(t);return s&&!n||(s=await Promise.all([...i.values()].map((e=>e(t)))),e.set(t,s)),s}const sy="true",ry="false",oy="canvas";class ay{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new iy,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const t={};for(const[e,i]of this._configs)t[e]=i;return t}get items(){return this._domArray}get version(){return"3.6.0"}addConfig(t){const e=t.key??t.name??"default";this._configs.set(e,t),this._eventDispatcher.dispatchEvent(Em.configAdded,{data:{name:e,config:t}})}async addEffect(t,e,i=!0){Zg(t,(t=>{this.getEffectDrawer(t)||this.effectDrawers.set(t,e)})),await this.refresh(i)}addEventListener(t,e){this._eventDispatcher.addEventListener(t,e)}async addInteractor(t,e,i=!0){this._initializers.interactors.set(t,e),await this.refresh(i)}async addMover(t,e,i=!0){this._initializers.movers.set(t,e),await this.refresh(i)}async addParticleUpdater(t,e,i=!0){this._initializers.updaters.set(t,e),await this.refresh(i)}async addPathGenerator(t,e,i=!0){this.getPathGenerator(t)||this.pathGenerators.set(t,e),await this.refresh(i)}async addPlugin(t,e=!0){this.getPlugin(t.id)||this.plugins.push(t),await this.refresh(e)}async addPreset(t,e,i=!1,n=!0){!i&&this.getPreset(t)||this.presets.set(t,e),await this.refresh(n)}async addShape(t,e=!0){for(const e of t.validTypes)this.getShapeDrawer(e)||this.shapeDrawers.set(e,t);await this.refresh(e)}clearPlugins(t){this.updaters.delete(t),this.movers.delete(t),this.interactors.delete(t)}dispatchEvent(t,e){this._eventDispatcher.dispatchEvent(t,e)}dom(){return this.items}domItem(t){return this.item(t)}async getAvailablePlugins(t){const e=new Map;for(const i of this.plugins)i.needsPlugin(t.actualOptions)&&e.set(i.id,await i.getPlugin(t));return e}getEffectDrawer(t){return this.effectDrawers.get(t)}async getInteractors(t,e=!1){return ny(t,this.interactors,this._initializers.interactors,e)}async getMovers(t,e=!1){return ny(t,this.movers,this._initializers.movers,e)}getPathGenerator(t){return this.pathGenerators.get(t)}getPlugin(t){return this.plugins.find((e=>e.id===t))}getPreset(t){return this.presets.get(t)}getShapeDrawer(t){return this.shapeDrawers.get(t)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(t,e=!1){return ny(t,this.updaters,this._initializers.updaters,e)}init(){this._initialized||(this._initialized=!0)}item(t){const{items:e}=this,i=e[t];if(i&&!i.destroyed)return i;{const i=1;e.splice(t,i)}}async load(t){const e=t.id??t.element?.id??`tsparticles${Math.floor(1e4*Cg())}`,{index:i,url:n}=t,s=n?await async function(t){const e=tm(t.url,t.index);if(!e)return t.fallback;const i=await fetch(e);return i.ok?await i.json():(qg().error(`${cg} ${i.status} while retrieving config file`),t.fallback)}({fallback:t.options,url:n,index:i}):t.options,r=tm(s,i),{items:o}=this,a=o.findIndex((t=>t.id.description===e)),c=new ey(this,e,r);if(a>=0){const t=this.item(a),e=t?1:0;t&&!t.destroyed&&t.destroy(!1),o.splice(a,e,c)}else o.push(c);const l=((t,e)=>{let i=e??document.getElementById(t);return i||(i=document.createElement("div"),i.id=t,i.dataset[sg]=sy,document.body.append(i),i)})(e,t.element),h=(t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===oy)e=t,e.dataset[sg]||(e.dataset[sg]=ry);else{const i=t.getElementsByTagName(oy);i.length?(e=i[0],e.dataset[sg]=ry):(e=document.createElement(oy),e.dataset[sg]=sy,t.appendChild(e))}const i="100%";return e.style.width||(e.style.width=i),e.style.height||(e.style.height=i),e})(l);return c.canvas.loadCanvas(h),await c.start(),c}loadOptions(t,e){this.plugins.forEach((i=>i.loadOptions?.(t,e)))}loadParticlesOptions(t,e,...i){const n=this.updaters.get(t);n&&n.forEach((t=>t.loadOptions?.(e,...i)))}async refresh(t=!0){t&&await Promise.all(this.items.map((t=>t.refresh())))}removeEventListener(t,e){this._eventDispatcher.removeEventListener(t,e)}setOnClickHandler(t){const{items:e}=this;if(!e.length)throw new Error(`${cg} can only set click handlers after calling tsParticles.load()`);e.forEach((e=>e.addClickHandler(t)))}}var cy,ly,hy,uy,dy;!function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"}(cy||(cy={}));class fy{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.s&&void 0!==e.l)return fm(e)}handleRangeColor(t){const e=t.value.hsl??t.value;if(void 0!==e.h&&void 0!==e.l)return fm({h:Ig(e.h),l:Ig(e.l),s:Ig(e.s)})}parseString(t){if(!t.startsWith("hsl"))return;const e=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(t);return e?function(t){const e=fm(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}({a:e.length>4?Lg(e[cy.a]):1,h:parseInt(e[cy.h],10),l:parseInt(e[cy.l],10),s:parseInt(e[cy.s],10)}):void 0}}!function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"}(ly||(ly={}));class py{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return e}handleRangeColor(t){const e=t.value.rgb??t.value;if(void 0!==e.r)return{r:Ig(e.r),g:Ig(e.g),b:Ig(e.b)}}parseString(t){if(!t.startsWith(this.stringPrefix))return;const e=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(t);return e?{a:e.length>4?Lg(e[ly.a]):1,b:parseInt(e[ly.b],10),g:parseInt(e[ly.g],10),r:parseInt(e[ly.r],10)}:void 0}}!function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"}(hy||(hy={})),function(t){t.linear="linear",t.radial="radial",t.random="random"}(uy||(uy={})),function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"}(dy||(dy={}));const gy=function(){const t=new py,e=new fy;lm(t),lm(e);const i=new ay;return i.init(),i}();$g()||(window.tsParticles=gy);class my{constructor(){this.wait=!1}load(t){yg(t)||(void 0!==t.count&&(this.count=t.count),void 0!==t.delay&&(this.delay=Mg(t.delay)),void 0!==t.duration&&(this.duration=Mg(t.duration)),void 0!==t.wait&&(this.wait=t.wait))}}class vy{constructor(){this.quantity=1,this.delay=.1}load(t){yg(t)||(void 0!==t.quantity&&(this.quantity=Mg(t.quantity)),void 0!==t.delay&&(this.delay=Mg(t.delay)))}}class yy{constructor(){this.color=!1,this.opacity=!1}load(t){yg(t)||(void 0!==t.color&&(this.color=t.color),void 0!==t.opacity&&(this.opacity=t.opacity))}}class _y{constructor(){this.options={},this.replace=new yy,this.type="square"}load(t){yg(t)||(void 0!==t.options&&(this.options=Jg({},t.options??{})),this.replace.load(t.replace),void 0!==t.type&&(this.type=t.type))}}class wy{constructor(){this.mode=Vg.percent,this.height=0,this.width=0}load(t){yg(t)||(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.height&&(this.height=t.height),void 0!==t.width&&(this.width=t.width))}}class by{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new my,this.rate=new vy,this.shape=new _y,this.startCount=0}load(t){yg(t)||(void 0!==t.autoPlay&&(this.autoPlay=t.autoPlay),void 0!==t.size&&(this.size||(this.size=new wy),this.size.load(t.size)),void 0!==t.direction&&(this.direction=t.direction),this.domId=t.domId,void 0!==t.fill&&(this.fill=t.fill),this.life.load(t.life),this.name=t.name,this.particles=Zg(t.particles,(t=>Jg({},t))),this.rate.load(t.rate),this.shape.load(t.shape),void 0!==t.position&&(this.position={},void 0!==t.position.x&&(this.position.x=Mg(t.position.x)),void 0!==t.position.y&&(this.position.y=Mg(t.position.y))),void 0!==t.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new nv),this.spawnColor.load(t.spawnColor)),void 0!==t.startCount&&(this.startCount=t.startCount))}}var xy;function Ty(t,e){t.color?t.color.value=e:t.color={value:e}}!function(t){t.emitter="emitter"}(xy||(xy={}));class Ey{constructor(t,e,i,n,s){this.emitters=e,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const t=void 0!==this.options.life?.duration?Ig(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&void 0!==t&&t>0&&(this._duration=t*ug)},this._setColorAnimation=(t,e,i,n=1)=>{const s=this.container;if(!t.enable)return e;const r=kg(t.offset),o=Ig(this.options.rate.delay)*ug/s.retina.reduceFactor;return(e+Ig(t.speed??0)*s.fpsLimit/o+r*n)%i},this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,n instanceof by?this.options=n:(this.options=new by,this.options.load(n)),this._spawnDelay=Ig(this.options.life.delay??0)*ug/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let r=Jg({},this.options.particles);if(r??={},r.move??={},r.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=dm(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=r,this._size=this._calcSize(),this.size=sm(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this.options.domId){const t=document.getElementById(this.options.domId);t&&(this._mutationObserver=new MutationObserver((()=>{this.resize()})),this._resizeObserver=new ResizeObserver((()=>{this.resize()})),this._mutationObserver.observe(t,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(t))}const o=this.options.shape,a=this._engine.emitterShapeManager?.getShapeGenerator(o.type);a&&(this._shape=a.generate(this.position,this.size,this.fill,o.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await(this._shape?.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0))){if(void 0===this._emitDelay){const t=Ig(this.options.rate.delay);this._emitDelay=t*ug/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}resize(){const t=this._initialPosition;this.position=t&&Yg(t,this.container.canvas.size,wg.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=sm(this._size,this.container.canvas.size),this._shape?.resize(this.position,this.size)}update(t){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=t.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=Ig(this.options.life.delay??0)*ug/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=t.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=t.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const e=t.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(e.x+.5*e.width)*i,y:(e.y+.5*e.height)*i}}}return function(t){const e={x:void 0!==t.position?.x?Ig(t.position.x):void 0,y:void 0!==t.position?.y?Ig(t.position.y):void 0};return function(t){return{x:(t.position?.x??Cg()*lg)*t.size.width/lg,y:(t.position?.y??Cg()*lg)*t.size.height/lg}}({size:t.size,position:e})}({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const t=this.container;if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const i=e.getBoundingClientRect();return{width:i.width*t.retina.pixelRatio,height:i.height*t.retina.pixelRatio,mode:Vg.precise}}}return this.options.size??(()=>{const t=new wy;return t.load({height:0,mode:Vg.percent,width:0}),t})()}_emit(){if(this._paused)return;const t=Ig(this.options.rate.quantity);this._emitParticles(t)}_emitParticles(t){const e=tm(this._particlesOptions);for(let i=0;i<t;i++){const t=Jg({},e);if(this.spawnColor){const e=this.options.spawnColor?.animation;if(e){const t={h:360,s:100,l:100},i=3.6;this.spawnColor.h=this._setColorAnimation(e.h,this.spawnColor.h,t.h,i),this.spawnColor.s=this._setColorAnimation(e.s,this.spawnColor.s,t.s),this.spawnColor.l=this._setColorAnimation(e.l,this.spawnColor.l,t.l)}Ty(t,this.spawnColor)}const i=this.options.shape;let n=this.position;if(this._shape){const e=this._shape.randomPosition();if(e){n=e.position;const s=i.replace;s.color&&e.color&&Ty(t,e.color),s.opacity&&(t.opacity?t.opacity.value=e.opacity:t.opacity={value:e.opacity})}else n=null}n&&this.container.particles.addParticle(n,t)}}}class Cy{constructor(t,e){this.container=e,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},e.getEmitter=t=>void 0===t||gg(t)?this.array[t??0]:this.array.find((e=>e.name===t)),e.addEmitter=async(t,e)=>this.addEmitter(t,e),e.removeEmitter=t=>{const i=e.getEmitter(t);i&&this.removeEmitter(i)},e.playEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPlay()},e.pauseEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPause()}}async addEmitter(t,e){const i=new by;i.load(t);const n=new Ey(this._engine,this,this.container,i,e);return await n.init(),this.array.push(n),n}handleClickMode(t){const e=this.emitters,i=this.interactivityEmitters;if(t!==xy.emitter)return;let n;if(i&&vg(i.value)){const t=0;if(i.value.length>t&&i.random.enable){n=[];const t=[];for(let e=0;e<i.random.count;e++){const s=Kg(i.value);t.includes(s)&&t.length<i.value.length?e--:(t.push(s),n.push(Wg(i.value,s)))}}else n=i.value}else n=i?.value;const s=n??e,r=this.container.interactivity.mouse.clickPosition;Zg(s,(async t=>{await this.addEmitter(t,r)}))}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters)if(vg(this.emitters))for(const t of this.emitters)await this.addEmitter(t);else await this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const e=this.array.indexOf(t);e>=0&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const e of this.array)e.update(t)}}class Sy{constructor(t){this._engine=t,this.id="emitters"}getPlugin(t){return Promise.resolve(new Cy(this._engine,t))}loadOptions(t,e){if(!this.needsPlugin(t)&&!this.needsPlugin(e))return;e?.emitters&&(t.emitters=Zg(e.emitters,(t=>{const e=new by;return e.load(t),e})));const i=e?.interactivity?.modes?.emitters;if(i)if(vg(i))t.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map((t=>{const e=new by;return e.load(t),e}))};else{const e=i;if(void 0!==e.value){const i=1;if(vg(e.value))t.interactivity.modes.emitters={random:{count:e.random.count??i,enable:e.random.enable??!1},value:e.value.map((t=>{const e=new by;return e.load(t),e}))};else{const n=new by;n.load(e.value),t.interactivity.modes.emitters={random:{count:e.random.count??i,enable:e.random.enable??!1},value:n}}}else(t.interactivity.modes.emitters={random:{count:1,enable:!1},value:new by}).value.load(i)}}needsPlugin(t){if(!t)return!1;const e=t.emitters;return vg(e)&&!!e.length||void 0!==e||!!t.interactivity?.events?.onClick?.mode&&Gg(xy.emitter,t.interactivity.events.onClick.mode)}}const ky=new Map;class Iy{constructor(t){this._engine=t}addShapeGenerator(t,e){this.getShapeGenerator(t)||ky.set(t,e)}getShapeGenerator(t){return ky.get(t)}getSupportedShapeGenerators(){return ky.keys()}}class Dy{constructor(){this.angle=90,this.count=50,this.spread=45,this.startVelocity=45,this.decay=.9,this.gravity=1,this.drift=0,this.ticks=200,this.position={x:50,y:50},this.colors=["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],this.shapes=["square","circle"],this.scalar=1,this.zIndex=100,this.disableForReducedMotion=!0,this.flat=!1,this.shapeOptions={}}get origin(){return{x:this.position.x/lg,y:this.position.y/lg}}set origin(t){this.position.x=t.x*lg,this.position.y=t.y*lg}get particleCount(){return this.count}set particleCount(t){this.count=t}load(t){if(yg(t))return;void 0!==t.angle&&(this.angle=t.angle);const e=t.count??t.particleCount;void 0!==e&&(this.count=e),void 0!==t.spread&&(this.spread=t.spread),void 0!==t.startVelocity&&(this.startVelocity=t.startVelocity),void 0!==t.decay&&(this.decay=t.decay),void 0!==t.flat&&(this.flat=t.flat),void 0!==t.gravity&&(this.gravity=t.gravity),void 0!==t.drift&&(this.drift=t.drift),void 0!==t.ticks&&(this.ticks=t.ticks);const i=t.origin;i&&!t.position&&(t.position={x:void 0!==i.x?i.x*lg:void 0,y:void 0!==i.y?i.y*lg:void 0});const n=t.position;n&&(void 0!==n.x&&(this.position.x=n.x),void 0!==n.y&&(this.position.y=n.y)),void 0!==t.colors&&(vg(t.colors)?this.colors=[...t.colors]:this.colors=t.colors);const s=t.shapeOptions;if(void 0!==s)for(const t in s){const e=s[t];e&&(this.shapeOptions[t]=Jg(this.shapeOptions[t]??{},e))}void 0!==t.shapes&&(vg(t.shapes)?this.shapes=[...t.shapes]:this.shapes=t.shapes),void 0!==t.scalar&&(this.scalar=t.scalar),void 0!==t.zIndex&&(this.zIndex=t.zIndex),void 0!==t.disableForReducedMotion&&(this.disableForReducedMotion=t.disableForReducedMotion)}}class Ay{init(t){const e=t.options.move.gravity;t.gravity={enable:e.enable,acceleration:Ig(e.acceleration),inverse:e.inverse},function(t){const e=t.container,i=t.options.move.spin;if(!i.enable)return;const n=i.position??{x:50,y:50},s={x:.01*n.x*e.canvas.size.width,y:.01*n.y*e.canvas.size.height},r=Pg(t.getPosition(),s),o=Ig(i.acceleration);t.retina.spinAcceleration=o*e.retina.pixelRatio,t.spin={center:s,direction:t.velocity.x>=0?hy.clockwise:hy.counterClockwise,angle:t.velocity.angle,radius:r,acceleration:t.retina.spinAcceleration}}(t)}isEnabled(t){return!t.destroyed&&t.options.move.enable}move(t,e){const i=t.options,n=i.move;if(!n.enable)return;const s=t.container,r=s.retina.pixelRatio;t.retina.moveSpeed??=Ig(n.speed)*r,t.retina.moveDrift??=Ig(t.options.move.drift)*r;const o=function(t){return t.slow.inRange?t.slow.factor:1}(t),a=t.retina.moveSpeed*s.retina.reduceFactor,c=t.retina.moveDrift,l=Ag(i.size.value)*r,h=a*(n.size?t.getRadius()/l:1)*o*(e.factor||1)/2,u=t.retina.maxSpeed??s.retina.maxSpeed;n.spin.enable?function(t,e){const i=t.container;if(!t.spin)return;const n={x:t.spin.direction===hy.clockwise?Math.cos:Math.sin,y:t.spin.direction===hy.clockwise?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*n.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*n.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(i.canvas.size.width,i.canvas.size.height),r=.5*s;t.spin.radius>r?(t.spin.radius=r,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=.01*e*(1-t.spin.radius/s)}(t,h):function(t,e,i,n,s,r){!function(t,e){const i=t.options.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay)return void(t.lastPathTime+=e.value);const n=t.pathGenerator?.generate(t,e);n&&t.velocity.addTo(n),i.clamp&&(t.velocity.x=Sg(t.velocity.x,-1,1),t.velocity.y=Sg(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}(t,r);const o=t.gravity,a=o?.enable&&o.inverse?-1:1;s&&i&&(t.velocity.x+=s*r.factor/(60*i)),o?.enable&&i&&(t.velocity.y+=a*(o.acceleration*r.factor)/(60*i));const c=t.moveDecay;t.velocity.multTo(c);const l=t.velocity.mult(i);o?.enable&&n>0&&(!o.inverse&&l.y>=0&&l.y>=n||o.inverse&&l.y<=0&&l.y<=-n)&&(l.y=a*n,i&&(t.velocity.y=l.y/i));const h=t.options.zIndex,u=(1-t.zIndexFactor)**h.velocityRate;l.multTo(u);const{position:d}=t;d.addTo(l),e.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}(t,n,h,u,c,e),function(t){const e=t.initialPosition,{dx:i,dy:n}=Og(e,t.position),s=Math.abs(i),r=Math.abs(n),{maxDistance:o}=t.retina,a=o.horizontal,c=o.vertical;if(a||c)if((a&&s>=a||c&&r>=c)&&!t.misplaced)t.misplaced=!!a&&s>a||!!c&&r>c,a&&(t.velocity.x=.5*t.velocity.y-t.velocity.x),c&&(t.velocity.y=.5*t.velocity.x-t.velocity.y);else if((!a||s<a)&&(!c||r<c)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const i=t.position,n=t.velocity;a&&(i.x<e.x&&n.x<0||i.x>e.x&&n.x>0)&&(n.x*=-Cg()),c&&(i.y<e.y&&n.y<0||i.y>e.y&&n.y>0)&&(n.y*=-Cg())}}(t)}}const My=2*Math.PI;class Oy{constructor(){this.validTypes=["circle"]}draw(t){!function(t){const{context:e,particle:i,radius:n}=t;i.circleRange||(i.circleRange={min:0,max:My});const s=i.circleRange;e.arc(0,0,n,s.min,s.max,!1)}(t)}getSidesCount(){return 12}particleInit(t,e){const i=e.shapeData,n=i?.angle??{max:360,min:0};e.circleRange=mg(n)?{min:Rg(n.min),max:Rg(n.max)}:{min:0,max:Rg(n)}}}class Py{constructor(t){this.container=t}init(t){const e=dm(t.options.color,t.id,t.options.reduceDuplicates);e&&(t.color=function(t,e,i){const n={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(vm(n.h,e.h,i),vm(n.s,e.s,i),vm(n.l,e.l,i)),n}(e,t.options.color.animation,this.container.retina.reduceFactor))}isEnabled(t){const{h:e,s:i,l:n}=t.options.color.animation,{color:s}=t;return!t.destroyed&&!t.spawning&&(void 0!==s?.h.value&&e.enable||void 0!==s?.s.value&&i.enable||void 0!==s?.l.value&&n.enable)}update(t,e){!function(t,e){if(!t)return;const{h:i,s:n,l:s}=t;i&&ym(i,{min:0,max:360},!1,e),n&&ym(n,{min:0,max:100},!0,e),s&&ym(s,{min:0,max:100},!0,e)}(t.color,e)}}class Ry{constructor(t){this.container=t}init(t){const e=t.options.opacity;t.opacity=em(e,1);const i=e.animation;i.enable&&(t.opacity.velocity=Ig(i.speed)/lg*this.container.retina.reduceFactor,i.sync||(t.opacity.velocity*=Cg()))}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.opacity&&t.opacity.enable&&((t.opacity.maxLoops??0)<=0||(t.opacity.maxLoops??0)>0&&(t.opacity.loops??0)<(t.opacity.maxLoops??0))}reset(t){t.opacity&&(t.opacity.time=0,t.opacity.loops=0)}update(t,e){this.isEnabled(t)&&t.opacity&&rm(t,t.opacity,!0,t.options.opacity.animation.destroy,e)}}class Ly{constructor(t){this.container=t,this.modes=[Dm.bounce,Dm.split]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;let r=!1;for(const n of s.plugins.values())if(void 0!==n.particleBounce&&(r=n.particleBounce(t,i,e)),r)break;if(r)return;const o=t.getPosition(),a=t.offset,c=t.getRadius(),l=Qg(o,c),h=s.canvas.size;!function(t){if(t.outMode!==Dm.bounce&&t.outMode!==Dm.split||t.direction!==Bg.left&&t.direction!==Bg.right)return;t.bounds.right<0&&t.direction===Bg.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Bg.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let i=!1;if(t.direction===Bg.right&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction===Bg.left&&t.bounds.left<=0&&e<0){const e=Ig(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-e,i=!0}if(!i)return;const n=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Bg.right?t.particle.position.x=t.canvasSize.width-n:t.bounds.left<=0&&t.direction===Bg.left&&(t.particle.position.x=n),t.outMode===Dm.split&&t.particle.destroy()}({particle:t,outMode:n,direction:e,bounds:l,canvasSize:h,offset:a,size:c}),function(t){if(t.outMode!==Dm.bounce&&t.outMode!==Dm.split||t.direction!==Bg.bottom&&t.direction!==Bg.top)return;t.bounds.bottom<0&&t.direction===Bg.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Bg.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let i=!1;if(t.direction===Bg.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction===Bg.top&&t.bounds.top<=0&&e<0){const e=Ig(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-e,i=!0}if(!i)return;const n=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Bg.bottom?t.particle.position.y=t.canvasSize.height-n:t.bounds.top<=0&&t.direction===Bg.top&&(t.particle.position.y=n),t.outMode===Dm.split&&t.particle.destroy()}({particle:t,outMode:n,direction:e,bounds:l,canvasSize:h,offset:a,size:c})}}class Ny{constructor(t){this.container=t,this.modes=[Dm.destroy]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;switch(t.outType){case Om.normal:case Om.outside:if(Yg(t.position,s.canvas.size,wg.origin,t.getRadius(),e))return;break;case Om.inside:{const{dx:e,dy:i}=Og(t.position,t.moveCenter),{x:n,y:s}=t.velocity;if(n<0&&e>t.moveCenter.radius||s<0&&i>t.moveCenter.radius||n>=0&&e<-t.moveCenter.radius||s>=0&&i<-t.moveCenter.radius)return;break}}s.particles.remove(t,t.group,!0)}}class zy{constructor(t){this.container=t,this.modes=[Dm.none]}update(t,e,i,n){if(!this.modes.includes(n))return;if((t.options.move.distance.horizontal&&(e===Bg.left||e===Bg.right))??(t.options.move.distance.vertical&&(e===Bg.top||e===Bg.bottom)))return;const s=t.options.move.gravity,r=this.container,o=r.canvas.size,a=t.getRadius();if(s.enable){const i=t.position;(!s.inverse&&i.y>o.height+a&&e===Bg.bottom||s.inverse&&i.y<-a&&e===Bg.top)&&r.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=o.height+a||t.velocity.y<0&&t.position.y>=-a||t.velocity.x>0&&t.position.x<=o.width+a||t.velocity.x<0&&t.position.x>=-a)return;Yg(t.position,r.canvas.size,wg.origin,a,e)||r.particles.remove(t)}}}class Fy{constructor(t){this.container=t,this.modes=[Dm.out]}update(t,e,i,n){if(!this.modes.includes(n))return;const s=this.container;switch(t.outType){case Om.inside:{const{x:e,y:i}=t.velocity,n=wg.origin;n.length=t.moveCenter.radius,n.angle=t.velocity.angle+Math.PI,n.addTo(wg.create(t.moveCenter));const{dx:r,dy:o}=Og(t.position,n);if(e<=0&&r>=0||i<=0&&o>=0||e>=0&&r<=0||i>=0&&o<=0)return;t.position.x=Math.floor(kg({min:0,max:s.canvas.size.width})),t.position.y=Math.floor(kg({min:0,max:s.canvas.size.height}));const{dx:a,dy:c}=Og(t.position,t.moveCenter);t.direction=Math.atan2(-c,-a),t.velocity.angle=t.direction;break}default:if(Yg(t.position,s.canvas.size,wg.origin,t.getRadius(),e))return;switch(t.outType){case Om.outside:{t.position.x=Math.floor(kg({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor(kg({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:e,dy:i}=Og(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(i,e),t.velocity.angle=t.direction);break}case Om.normal:{const i=t.options.move.warp,n=s.canvas.size,r={bottom:n.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:n.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},o=t.getRadius(),a=Qg(t.position,o);e===Bg.right&&a.left>n.width+t.offset.x?(t.position.x=r.left,t.initialPosition.x=t.position.x,i||(t.position.y=Cg()*n.height,t.initialPosition.y=t.position.y)):e===Bg.left&&a.right<-t.offset.x&&(t.position.x=r.right,t.initialPosition.x=t.position.x,i||(t.position.y=Cg()*n.height,t.initialPosition.y=t.position.y)),e===Bg.bottom&&a.top>n.height+t.offset.y?(i||(t.position.x=Cg()*n.width,t.initialPosition.x=t.position.x),t.position.y=r.top,t.initialPosition.y=t.position.y):e===Bg.top&&a.bottom<-t.offset.y&&(i||(t.position.x=Cg()*n.width,t.initialPosition.x=t.position.x),t.position.y=r.bottom,t.initialPosition.y=t.position.y);break}}}}}class By{constructor(t){this._addUpdaterIfMissing=(t,e,i)=>{const n=t.options.move.outModes;!this.updaters.has(e)&&((t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e)(n,e)&&this.updaters.set(e,i(this.container))},this._updateOutMode=(t,e,i,n)=>{for(const s of this.updaters.values())s.update(t,n,e,i)},this.container=t,this.updaters=new Map}init(t){this._addUpdaterIfMissing(t,Dm.bounce,(t=>new Ly(t))),this._addUpdaterIfMissing(t,Dm.out,(t=>new Fy(t))),this._addUpdaterIfMissing(t,Dm.destroy,(t=>new Ny(t))),this._addUpdaterIfMissing(t,Dm.none,(t=>new zy(t)))}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,e){const i=t.options.move.outModes;this._updateOutMode(t,e,i.bottom??i.default,Bg.bottom),this._updateOutMode(t,e,i.left??i.default,Bg.left),this._updateOutMode(t,e,i.right??i.default,Bg.right),this._updateOutMode(t,e,i.top??i.default,Bg.top)}}class Vy{init(t){const e=t.container,i=t.options.size.animation;i.enable&&(t.size.velocity=(t.retina.sizeAnimationSpeed??e.retina.sizeAnimationSpeed)/lg*e.retina.reduceFactor,i.sync||(t.size.velocity*=Cg()))}isEnabled(t){return!t.destroyed&&!t.spawning&&t.size.enable&&((t.size.maxLoops??0)<=0||(t.size.maxLoops??0)>0&&(t.size.loops??0)<(t.size.maxLoops??0))}reset(t){t.size.loops=0}update(t,e){this.isEnabled(t)&&rm(t,t.size,!0,t.options.size.animation.destroy,e)}}function Uy(t,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:i,radius:n}=t;i.moveTo(e.segments[0].values[0].x*n,e.segments[0].values[0].y*n);for(const t of e.segments)i.bezierCurveTo(t.values[1].x*n,t.values[1].y*n,t.values[2].x*n,t.values[2].y*n,t.values[3].x*n,t.values[3].y*n);for(let t=e.segments.length-1;t>=0;t--){const s=e.segments[t];i.bezierCurveTo(-s.values[2].x*n,s.values[2].y*n,-s.values[1].x*n,s.values[1].y*n,-s.values[0].x*n,s.values[0].y*n)}}const jy=.5,qy={heart:{segments:[{values:[{x:0,y:jy},{x:0,y:jy},{x:jy,y:0},{x:jy,y:-jy/2}]},{values:[{x:jy,y:-jy/2},{x:jy,y:-jy/2},{x:jy,y:-jy},{x:jy/2,y:-jy}]},{values:[{x:jy/2,y:-jy},{x:jy/2,y:-jy},{x:0,y:-jy},{x:0,y:-jy/2}]}]},diamond:{segments:[{values:[{x:0,y:jy},{x:0,y:jy},{x:.375,y:0},{x:.375,y:0}]},{values:[{x:.375,y:0},{x:.375,y:0},{x:0,y:-jy},{x:0,y:-jy}]}]},club:{segments:[{values:[{x:0,y:-jy},{x:0,y:-jy},{x:jy/2,y:-jy},{x:jy/2,y:-jy/2}]},{values:[{x:jy/2,y:-jy/2},{x:jy/2,y:-jy/2},{x:jy,y:-jy/2},{x:jy,y:0}]},{values:[{x:jy,y:0},{x:jy,y:0},{x:jy,y:jy/2},{x:jy/2,y:jy/2}]},{values:[{x:jy/2,y:jy/2},{x:jy/2,y:jy/2},{x:jy/8,y:jy/2},{x:jy/8,y:jy/8}]},{values:[{x:jy/8,y:jy/8},{x:jy/8,y:jy/2},{x:jy/2,y:jy},{x:jy/2,y:jy}]},{values:[{x:jy/2,y:jy},{x:jy/2,y:jy},{x:0,y:jy},{x:0,y:jy}]}]},spade:{segments:[{values:[{x:0,y:-jy},{x:0,y:-jy},{x:jy,y:-jy/2},{x:jy,y:0}]},{values:[{x:jy,y:0},{x:jy,y:0},{x:jy,y:jy/2},{x:jy/2,y:jy/2}]},{values:[{x:jy/2,y:jy/2},{x:jy/2,y:jy/2},{x:jy/8,y:jy/2},{x:jy/8,y:jy/8}]},{values:[{x:jy/8,y:jy/8},{x:jy/8,y:jy/2},{x:jy/2,y:jy},{x:jy/2,y:jy}]},{values:[{x:jy/2,y:jy},{x:jy/2,y:jy},{x:0,y:jy},{x:0,y:jy}]}]}};class $y{constructor(){this.validTypes=["club","clubs"]}draw(t){Uy(t,qy.club)}}class Hy{constructor(){this.validTypes=["diamond","diamonds"]}draw(t){Uy(t,qy.diamond)}}class Gy{constructor(){this.validTypes=["heart","hearts"]}draw(t){Uy(t,qy.heart)}}class Xy{constructor(){this.validTypes=["spade","spades"]}draw(t){Uy(t,qy.spade)}}const Ky='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class Wy{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[t,e]of this._emojiShapeDict)e instanceof ImageBitmap&&e?.close(),this._emojiShapeDict.delete(t)}draw(t){const e=t.particle.emojiDataKey;if(!e)return;const i=this._emojiShapeDict.get(e);i&&function(t,e){const{context:i,opacity:n}=t,s=i.globalAlpha;if(!e)return;const r=e.width,o=.5*r;i.globalAlpha=n,i.drawImage(e,-o,-o,r,r),i.globalAlpha=s}(t,i)}async init(t){const e=t.actualOptions,{validTypes:i}=this;if(!i.find((t=>Gg(t,e.particles.shape.type))))return;const n=[Xg(Ky)],s=i.map((t=>e.particles.shape.options[t])).find((t=>!!t));s&&Zg(s,(t=>{t.font&&n.push(Xg(t.font))})),await Promise.all(n)}particleDestroy(t){t.emojiDataKey=void 0}particleInit(t,e){const i=e.shapeData;if(!i?.value)return;const n=tm(i.value,e.randomIndexData);if(!n)return;const s="string"==typeof n?{font:i.font??Ky,padding:i.padding??0,value:n}:{font:Ky,padding:0,...i,...n},r=s.font,o=s.value,a=`${o}_${r}`;if(this._emojiShapeDict.has(a))return void(e.emojiDataKey=a);const c=2*s.padding,l=Ag(e.size.value),h=l+c,u=2*h;let d;if("undefined"!=typeof OffscreenCanvas){const t=new OffscreenCanvas(u,u),e=t.getContext("2d");if(!e)return;e.font=`400 ${2*l}px ${r}`,e.textBaseline="middle",e.textAlign="center",e.fillText(o,h,h),d=t.transferToImageBitmap()}else{const t=document.createElement("canvas");t.width=u,t.height=u;const e=t.getContext("2d");if(!e)return;e.font=`400 ${2*l}px ${r}`,e.textBaseline="middle",e.textAlign="center",e.fillText(o,h,h),d=t}this._emojiShapeDict.set(a,d),e.emojiDataKey=a}}class Yy{constructor(){this.validTypes=["heart"]}draw(t){!function(t){const{context:e,radius:i}=t,n=2*i,s=.5*i,r=i+s,o=-i,a=-i;e.moveTo(o,a+s),e.quadraticCurveTo(o,a,o+s,a),e.quadraticCurveTo(o+i,a,o+i,a+s),e.quadraticCurveTo(o+i,a,o+r,a),e.quadraticCurveTo(o+n,a,o+n,a+s),e.quadraticCurveTo(o+n,a+i,o+r,a+r),e.lineTo(o+i,a+n),e.lineTo(o+s,a+r),e.quadraticCurveTo(o,a+i,o,a+s)}(t)}}const Qy=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function Jy(t){return new Promise((e=>{t.loading=!0;const i=new Image;t.element=i,i.addEventListener("load",(()=>{t.loading=!1,e()})),i.addEventListener("error",(()=>{t.element=void 0,t.error=!0,t.loading=!1,qg().error(`${cg} loading image: ${t.source}`),e()})),i.src=t.source}))}async function Zy(t){if("svg"!==t.type)return void await Jy(t);t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(qg().error(`${cg} Image not found`),t.error=!0),t.loading=!1}const t_=[0,4,2,1],e_=[8,8,4,2];class i_{constructor(t){this.pos=0,this.data=new Uint8ClampedArray(t)}getString(t){const e=this.data.slice(this.pos,this.pos+t);return this.pos+=e.length,e.reduce(((t,e)=>t+String.fromCharCode(e)),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let t="",e=0;do{e=this.data[this.pos++];for(let i=e;--i>=0;t+=String.fromCharCode(this.data[this.pos++]));}while(0!==e);return t}readSubBlocksBin(){let t=this.data[this.pos],e=0;for(let i=0;0!==t;i+=t+1,t=this.data[this.pos+i])e+=t;const i=new Uint8Array(e);t=this.data[this.pos++];for(let e=0;0!==t;t=this.data[this.pos++])for(let n=t;--n>=0;i[e++]=this.data[this.pos++]);return i}skipSubBlocks(){for(const t=1,e=0;this.data[this.pos]!==e;this.pos+=this.data[this.pos]+t);this.pos++}}var n_,s_;!function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"}(n_||(n_={})),function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"}(s_||(s_={}));function r_(t,e){const i=[];for(let n=0;n<e;n++)i.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return i}async function o_(t,e,i,n,s,r){switch(t.nextByte()){case s_.EndOfFile:return!0;case s_.Image:await async function(t,e,i,n,s,r){const o=e.frames[n(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),c=!(128&~a),l=!(64&~a);o.sortFlag=!(32&~a),o.reserved=(24&a)>>>3;const h=1<<1+(7&a);c&&(o.localColorTable=r_(t,h));const u=t=>{const{r:n,g:r,b:a}=(c?o.localColorTable:e.globalColorTable)[t];return t!==s(null)?{r:n,g:r,b:a,a:255}:{r:n,g:r,b:a,a:i?~~((n+r+a)/3):0}},d=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==d)throw new EvalError("GIF frame size is to large");const f=t.nextByte(),p=t.readSubBlocksBin(),g=1<<f,m=(t,e)=>{const i=t>>>3,n=7&t;return(p[i]+(p[i+1]<<8)+(p[i+2]<<16)&(1<<e)-1<<n)>>>n};if(l){for(let i=0,s=f+1,a=0,c=[[0]],l=0;l<4;l++){if(t_[l]<o.height){let t=0,e=0,n=!1;for(;!n;){const r=i;if(i=m(a,s),a+=s+1,i===g){s=f+1,c.length=g+2;for(let t=0;t<c.length;t++)c[t]=t<g?[t]:[]}else{i>=c.length?c.push(c[r].concat(c[r][0])):r!==g&&c.push(c[r].concat(c[i][0]));for(const n of c[i]){const{r:i,g:s,b:r,a}=u(n);d.data.set([i,s,r,a],t_[l]*o.width+e_[l]*e+t%(4*o.width)),t+=4}c.length===1<<s&&s<12&&s++}t===4*o.width*(e+1)&&(e++,t_[l]+e_[l]*e>=o.height&&(n=!0))}}r?.(t.pos/(t.data.length-1),n(!1)+1,d,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=d,o.bitmap=await createImageBitmap(d)}else{let i=0,s=f+1,a=0,c=-4,l=!1;const h=[[0]];for(;!l;){const t=i;if(i=m(a,s),a+=s,i===g){s=f+1,h.length=g+2;for(let t=0;t<h.length;t++)h[t]=t<g?[t]:[]}else{if(i===g+1){l=!0;break}i>=h.length?h.push(h[t].concat(h[t][0])):t!==g&&h.push(h[t].concat(h[i][0]));for(const t of h[i]){const{r:e,g:i,b:n,a:s}=u(t);d.data.set([e,i,n,s],c+=4)}h.length>=1<<s&&s<12&&s++}}o.image=d,o.bitmap=await createImageBitmap(d),r?.((t.pos+1)/t.data.length,n(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}(t,e,i,n,s,r);break;case s_.Extension:!function(t,e,i,n){switch(t.nextByte()){case s_.GraphicsControlExtension:{const s=e.frames[i(!1)];t.pos++;const r=t.nextByte();s.GCreserved=(224&r)>>>5,s.disposalMethod=(28&r)>>>2,s.userInputDelayFlag=!(2&~r);const o=!(1&~r);s.delayTime=10*t.nextTwoBytes();const a=t.nextByte();o&&n(a),t.pos++;break}case s_.ApplicationExtension:{t.pos++;const i={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(i);break}case s_.CommentExtension:e.comments.push([i(!1),t.readSubBlocks()]);break;case s_.PlainTextExtension:if(0===e.globalColorTable.length)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[i(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break;default:t.skipSubBlocks()}}(t,e,n,s);break;default:throw new EvalError("undefined block found")}return!1}async function a_(t){if("gif"===t.type){t.loading=!0;try{t.gifData=await async function(t,e,i){i||(i=!1);const n=await fetch(t);if(!n.ok&&404===n.status)throw new EvalError("file not found");const s=await n.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new i_(new Uint8ClampedArray(s));if("GIF89a"!==o.getString(6))throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const a=o.nextByte(),c=!(128&~a);r.colorRes=(112&a)>>>4,r.sortFlag=!(8&~a);const l=1<<1+(7&a),h=o.nextByte();r.pixelAspectRatio=o.nextByte(),0!==r.pixelAspectRatio&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),c&&(r.globalColorTable=r_(o,l));const u=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(t){if(t instanceof DOMException&&"IndexSizeError"===t.name)return null;throw t}})();if(null==u)throw new Error("GIF frame size is to large");const{r:d,g:f,b:p}=r.globalColorTable[h];u.data.set(c?[d,f,p,255]:[0,0,0,0]);for(let t=4;t<u.data.length;t*=2)u.data.copyWithin(t,0,t);r.backgroundImage=u;let g=-1,m=!0,v=-1;const y=t=>(t&&(m=!0),g),_=t=>(null!=t&&(v=t),v);try{do{m&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:n_.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,v=-1,m=!1)}while(!await o_(o,r,i,y,_,undefined));r.frames.length--;for(const t of r.frames){if(t.userInputDelayFlag&&0===t.delayTime){r.totalTime=1/0;break}r.totalTime+=t.delayTime}return r}catch(t){if(t instanceof EvalError)throw new Error(`error while parsing frame ${g} "${t.message}"`);throw t}}(t.source),t.gifLoopCount=function(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}(t.gifData)??0,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}else await Jy(t)}class c_{constructor(t){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${cg} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=t}addImage(t){this._engine.images||(this._engine.images=[]),this._engine.images.push(t)}draw(t){const{context:e,radius:i,particle:n,opacity:s}=t,r=n.image,o=r?.element;if(r){if(e.globalAlpha=s,r.gif&&r.gifData)!function(t){const{context:e,radius:i,particle:n,delta:s}=t,r=n.image;if(!r?.gifData||!r.gif)return;const o=new OffscreenCanvas(r.gifData.width,r.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(0,0,o.width,o.height),void 0===n.gifLoopCount&&(n.gifLoopCount=r.gifLoopCount??0);let c=n.gifFrame??0;const l={x:.5*-r.gifData.width,y:.5*-r.gifData.height},h=r.gifData.frames[c];if(void 0===n.gifTime&&(n.gifTime=0),h.bitmap){switch(e.scale(i/r.gifData.width,i/r.gifData.height),h.disposalMethod){case n_.UndefinedA:case n_.UndefinedB:case n_.UndefinedC:case n_.UndefinedD:case n_.Replace:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(0,0,o.width,o.height);break;case n_.Combine:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y);break;case n_.RestoreBackground:a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(0,0,o.width,o.height),r.gifData.globalColorTable.length?a.putImageData(r.gifData.backgroundImage,l.x,l.y):a.putImageData(r.gifData.frames[0].image,l.x+h.left,l.y+h.top);break;case n_.RestorePrevious:{const t=a.getImageData(0,0,o.width,o.height);a.drawImage(h.bitmap,h.left,h.top),e.drawImage(o,l.x,l.y),a.clearRect(0,0,o.width,o.height),a.putImageData(t,0,0)}}if(n.gifTime+=s.value,n.gifTime>h.delayTime){if(n.gifTime-=h.delayTime,++c>=r.gifData.frames.length){if(--n.gifLoopCount<=0)return;c=0,a.clearRect(0,0,o.width,o.height)}n.gifFrame=c}e.scale(r.gifData.width/i,r.gifData.height/i)}}(t);else if(o){const t=r.ratio,n={x:-i,y:-i},s=2*i;e.drawImage(o,n.x,n.y,s,s/t)}e.globalAlpha=1}}getSidesCount(){return 12}async init(t){const e=t.actualOptions;if(e.preload&&this._engine.loadImage)for(const t of e.preload)await this._engine.loadImage(t)}loadShape(t){if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const e=t.shapeData;e&&(this._engine.images.find((t=>t.name===e.name||t.source===e.src))||this.loadImageShape(e).then((()=>{this.loadShape(t)})))}particleInit(t,e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,n=e.shapeData;if(!n)return;const s=e.getFillColor(),r=i.find((t=>t.name===n.name||t.source===n.src));if(!r)return;const o=n.replaceColor??r.replaceColor;r.loading?setTimeout((()=>{this.particleInit(t,e)})):(async()=>{let t;t=r.svgData&&s?await function(t,e,i,n){const s=function(t,e,i){const{svgData:n}=t;if(!n)return"";const s=gm(e,i);if(n.includes("fill"))return n.replace(Qy,(()=>s));const r=n.indexOf(">");return`${n.substring(0,r)} fill="${s}"${n.substring(r)}`}(t,i,n.opacity?.value??1),r={color:i,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise((e=>{const i=new Blob([s],{type:"image/svg+xml"}),n=URL||window.URL||window.webkitURL||window,o=n.createObjectURL(i),a=new Image;a.addEventListener("load",(()=>{r.loaded=!0,r.element=a,e(r),n.revokeObjectURL(o)})),a.addEventListener("error",(()=>{(async()=>{n.revokeObjectURL(o);const i={...t,error:!1,loading:!0};await Jy(i),r.loaded=!0,r.element=i.element,e(r)})()})),a.src=o}))}(r,n,s,e):{color:s,data:r,element:r.element,gif:r.gif,gifData:r.gifData,gifLoopCount:r.gifLoopCount,loaded:!0,ratio:n.width&&n.height?n.width/n.height:r.ratio??1,replaceColor:o,source:n.src},t.ratio||(t.ratio=1);const i={image:t,fill:n.fill??e.shapeFill,close:n.close??e.shapeClose};e.image=i.image,e.shapeFill=i.fill,e.shapeClose=i.close})()}}class l_{constructor(){this.src="",this.gif=!1}load(t){yg(t)||(void 0!==t.gif&&(this.gif=t.gif),void 0!==t.height&&(this.height=t.height),void 0!==t.name&&(this.name=t.name),void 0!==t.replaceColor&&(this.replaceColor=t.replaceColor),void 0!==t.src&&(this.src=t.src),void 0!==t.width&&(this.width=t.width))}}class h_{constructor(t){this.id="imagePreloader",this._engine=t}async getPlugin(){return await Promise.resolve(),{}}loadOptions(t,e){if(!e?.preload)return;t.preload||(t.preload=[]);const i=t.preload;for(const t of e.preload){const e=i.find((e=>e.name===t.name||e.src===t.src));if(e)e.load(t);else{const e=new l_;e.load(t),i.push(e)}}}needsPlugin(){return!0}}class u_ extends ov{constructor(){super(),this.sync=!1}load(t){yg(t)||(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class d_ extends ov{constructor(){super(),this.sync=!1}load(t){yg(t)||(super.load(t),void 0!==t.sync&&(this.sync=t.sync))}}class f_{constructor(){this.count=0,this.delay=new u_,this.duration=new d_}load(t){yg(t)||(void 0!==t.count&&(this.count=t.count),this.delay.load(t.delay),this.duration.load(t.duration))}}class p_{constructor(t){this.container=t}init(t){const e=this.container,i=t.options.life;i&&(t.life={delay:e.retina.reduceFactor?Ig(i.delay.value)*(i.delay.sync?1:Cg())/e.retina.reduceFactor*ug:0,delayTime:0,duration:e.retina.reduceFactor?Ig(i.duration.value)*(i.duration.sync?1:Cg())/e.retina.reduceFactor*ug:0,time:0,count:i.count},t.life.duration<=0&&(t.life.duration=-1),t.life.count<=0&&(t.life.count=-1),t.life&&(t.spawning=t.life.delay>0))}isEnabled(t){return!t.destroyed}loadOptions(t,...e){t.life||(t.life=new f_);for(const i of e)t.life.load(i?.life)}update(t,e){this.isEnabled(t)&&t.life&&function(t,e,i){if(!t.life)return;const n=t.life;let s=!1;if(t.spawning){if(n.delayTime+=e.value,!(n.delayTime>=t.life.delay))return;s=!0,t.spawning=!1,n.delayTime=0,n.time=0}if(-1===n.duration)return;if(t.spawning)return;if(s?n.time=0:n.time+=e.value,n.time<n.duration)return;if(n.time=0,t.life.count>0&&t.life.count--,0===t.life.count)return void t.destroy();const r=Mg(0,i.width),o=Mg(0,i.width);t.position.x=kg(r),t.position.y=kg(o),t.spawning=!0,n.delayTime=0,n.time=0,t.reset();const a=t.options.life;a&&(n.delay=Ig(a.delay.value)*ug,n.duration=Ig(a.duration.value)*ug)}(t,e,this.container.canvas.size)}}class g_{constructor(){this.factor=4,this.value=!0}load(t){yg(t)||(void 0!==t.factor&&(this.factor=t.factor),void 0!==t.value&&(this.value=t.value))}}class m_{constructor(){this.disable=!1,this.reduce=new g_}load(t){yg(t)||(void 0!==t.disable&&(this.disable=t.disable),this.reduce.load(t.reduce))}}class v_{constructor(t,e){this._handleMotionChange=t=>{const e=this._container,i=e.actualOptions.motion;i&&(t.matches?i.disable?e.retina.reduceFactor=0:e.retina.reduceFactor=i.reduce.value?1/i.reduce.factor:1:e.retina.reduceFactor=1)},this._container=t,this._engine=e}async init(){const t=this._container,e=t.actualOptions.motion;if(!e||!e.disable&&!e.reduce.value)return void(t.retina.reduceFactor=1);const i=Hg("(prefers-reduced-motion: reduce)");if(!i)return void(t.retina.reduceFactor=1);this._handleMotionChange(i);const n=()=>{(async()=>{this._handleMotionChange(i);try{await t.refresh()}catch{}})()};void 0!==i.addEventListener?i.addEventListener("change",n):void 0!==i.addListener&&i.addListener(n),await Promise.resolve()}}class y_{constructor(t){this.id="motion",this._engine=t}getPlugin(t){return Promise.resolve(new v_(t,this._engine))}loadOptions(t,e){if(!this.needsPlugin())return;let i=t.motion;i?.load||(t.motion=i=new m_),i.load(e?.motion)}needsPlugin(){return!0}}class __{draw(t){const{particle:e,radius:i}=t;!function(t,e,i){const{context:n}=t,s=i.count.numerator*i.count.denominator,r=i.count.numerator/i.count.denominator,o=180*(r-2)/r,a=Math.PI-Rg(o);if(n){n.beginPath(),n.translate(e.x,e.y),n.moveTo(0,0);for(let t=0;t<s;t++)n.lineTo(i.length,0),n.translate(i.length,0),n.rotate(a)}}(t,this.getCenter(e,i),this.getSidesData(e,i))}getSidesCount(t){const e=t.shapeData;return Math.round(Ig(e?.sides??5))}}class w_ extends __{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(t,e){return{x:-e/(t.sides/3.5),y:-e/.76}}getSidesData(t,e){const i=t.sides;return{count:{denominator:1,numerator:i},length:2.66*e/(i/3)}}}class b_ extends __{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(t,e){return{x:-e,y:e/1.66}}getSidesCount(){return 3}getSidesData(t,e){return{count:{denominator:2,numerator:3},length:2*e}}}var x_;!function(t){t.both="both",t.horizontal="horizontal",t.vertical="vertical"}(x_||(x_={}));const T_=2*Math.PI;class E_{constructor(){this.enable=!1,this.value=0}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.value&&(this.value=Mg(t.value)))}}class C_{constructor(){this.darken=new E_,this.enable=!1,this.enlighten=new E_,this.mode=x_.vertical,this.speed=25}load(t){yg(t)||(void 0!==t.backColor&&(this.backColor=Nm.create(this.backColor,t.backColor)),this.darken.load(t.darken),void 0!==t.enable&&(this.enable=t.enable),this.enlighten.load(t.enlighten),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.speed&&(this.speed=Mg(t.speed)))}}class S_{getTransformValues(t){const e=t.roll?.enable&&t.roll,i=e&&e.horizontal,n=e&&e.vertical;return{a:i?Math.cos(e.angle):void 0,d:n?Math.sin(e.angle):void 0}}init(t){!function(t){const e=t.options.roll;if(e?.enable)if(t.roll={enable:e.enable,horizontal:e.mode===x_.horizontal||e.mode===x_.both,vertical:e.mode===x_.vertical||e.mode===x_.both,angle:Cg()*T_,speed:Ig(e.speed)/360},e.backColor)t.backColor=dm(e.backColor);else if(e.darken.enable&&e.enlighten.enable){const i=Cg()>=hg?om.darken:om.enlighten;t.roll.alter={type:i,value:Ig(i===om.darken?e.darken.value:e.enlighten.value)}}else e.darken.enable?t.roll.alter={type:om.darken,value:Ig(e.darken.value)}:e.enlighten.enable&&(t.roll.alter={type:om.enlighten,value:Ig(e.enlighten.value)});else t.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}(t)}isEnabled(t){const e=t.options.roll;return!t.destroyed&&!t.spawning&&!!e?.enable}loadOptions(t,...e){t.roll||(t.roll=new C_);for(const i of e)t.roll.load(i?.roll)}update(t,e){this.isEnabled(t)&&function(t,e){const i=t.options.roll,n=t.roll;if(!n||!i?.enable)return;const s=n.speed*e.factor,r=T_;n.angle+=s,n.angle>r&&(n.angle-=r)}(t,e)}}class k_{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Mg(t.speed)),void 0!==t.decay&&(this.decay=Mg(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class I_ extends ov{constructor(){super(),this.animation=new k_,this.direction=hy.clockwise,this.path=!1,this.value=0}load(t){yg(t)||(super.load(t),void 0!==t.direction&&(this.direction=t.direction),this.animation.load(t.animation),void 0!==t.path&&(this.path=t.path))}}const D_=2*Math.PI;class A_{constructor(t){this.container=t}init(t){const e=t.options.rotate;if(!e)return;t.rotate={enable:e.animation.enable,value:Rg(Ig(e.value)),min:0,max:D_},t.pathRotation=e.path;let i=e.direction;switch(i===hy.random&&(i=Math.floor(2*Cg())>0?hy.counterClockwise:hy.clockwise),i){case hy.counterClockwise:case"counterClockwise":t.rotate.status=zg.decreasing;break;case hy.clockwise:t.rotate.status=zg.increasing}const n=e.animation;n.enable&&(t.rotate.decay=1-Ig(n.decay),t.rotate.velocity=Ig(n.speed)/360*this.container.retina.reduceFactor,n.sync||(t.rotate.velocity*=Cg())),t.rotation=t.rotate.value}isEnabled(t){const e=t.options.rotate;return!!e&&!t.destroyed&&!t.spawning&&(!!e.value||e.animation.enable||e.path)}loadOptions(t,...e){t.rotate||(t.rotate=new I_);for(const i of e)t.rotate.load(i?.rotate)}update(t,e){this.isEnabled(t)&&(t.isRotating=!!t.rotate,t.rotate&&(rm(t,t.rotate,!1,Fg.none,e),t.rotation=t.rotate.value))}}const M_=Math.sqrt(2);class O_{constructor(){this.validTypes=["edge","square"]}draw(t){!function(t){const{context:e,radius:i}=t,n=i/M_,s=2*n;e.rect(-n,-n,s,s)}(t)}getSidesCount(){return 4}}class P_{constructor(){this.validTypes=["star"]}draw(t){!function(t){const{context:e,particle:i,radius:n}=t,s=i.sides,r=i.starInset??2;e.moveTo(0,0-n);for(let t=0;t<s;t++)e.rotate(Math.PI/s),e.lineTo(0,0-n*r),e.rotate(Math.PI/s),e.lineTo(0,0-n)}(t)}getSidesCount(t){const e=t.shapeData;return Math.round(Ig(e?.sides??5))}particleInit(t,e){const i=e.shapeData;e.starInset=Ig(i?.inset??2)}}var R_;!function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"}(R_||(R_={}));class L_{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){yg(t)||(void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed&&(this.speed=Mg(t.speed)),void 0!==t.decay&&(this.decay=Mg(t.decay)),void 0!==t.sync&&(this.sync=t.sync))}}class N_ extends ov{constructor(){super(),this.animation=new L_,this.direction=R_.clockwise,this.enable=!1,this.value=0}load(t){super.load(t),yg(t)||(this.animation.load(t.animation),void 0!==t.direction&&(this.direction=t.direction),void 0!==t.enable&&(this.enable=t.enable))}}const z_=2*Math.PI;class F_{constructor(t){this.container=t}getTransformValues(t){const e=t.tilt?.enable&&t.tilt;return{b:e?Math.cos(e.value)*e.cosDirection:void 0,c:e?Math.sin(e.value)*e.sinDirection:void 0}}init(t){const e=t.options.tilt;if(!e)return;t.tilt={enable:e.enable,value:Rg(Ig(e.value)),sinDirection:Cg()>=hg?1:-1,cosDirection:Cg()>=hg?1:-1,min:0,max:z_};let i=e.direction;switch(i===R_.random&&(i=Math.floor(2*Cg())>0?R_.counterClockwise:R_.clockwise),i){case R_.counterClockwise:case"counterClockwise":t.tilt.status=zg.decreasing;break;case R_.clockwise:t.tilt.status=zg.increasing}const n=t.options.tilt?.animation;n?.enable&&(t.tilt.decay=1-Ig(n.decay),t.tilt.velocity=Ig(n.speed)/360*this.container.retina.reduceFactor,n.sync||(t.tilt.velocity*=Cg()))}isEnabled(t){const e=t.options.tilt?.animation;return!t.destroyed&&!t.spawning&&!!e?.enable}loadOptions(t,...e){t.tilt||(t.tilt=new N_);for(const i of e)t.tilt.load(i?.tilt)}async update(t,e){this.isEnabled(t)&&t.tilt&&(rm(t,t.tilt,!1,Fg.none,e),await Promise.resolve())}}class B_{constructor(){this.angle=50,this.move=10}load(t){yg(t)||(void 0!==t.angle&&(this.angle=Mg(t.angle)),void 0!==t.move&&(this.move=Mg(t.move)))}}class V_{constructor(){this.distance=5,this.enable=!1,this.speed=new B_}load(t){if(!yg(t)&&(void 0!==t.distance&&(this.distance=Mg(t.distance)),void 0!==t.enable&&(this.enable=t.enable),void 0!==t.speed))if(gg(t.speed))this.speed.load({angle:t.speed});else{const e=t.speed;void 0!==e.min?this.speed.load({angle:e}):this.speed.load(t.speed)}}}const U_=2*Math.PI,j_=2*Math.PI;class q_{constructor(t){this.container=t}init(t){const e=t.options.wobble;t.wobble=e?.enable?{angle:Cg()*j_,angleSpeed:Ig(e.speed.angle)/360,moveSpeed:Ig(e.speed.move)/10}:{angle:0,angleSpeed:0,moveSpeed:0},t.retina.wobbleDistance=Ig(e?.distance??0)*this.container.retina.pixelRatio}isEnabled(t){return!t.destroyed&&!t.spawning&&!!t.options.wobble?.enable}loadOptions(t,...e){t.wobble||(t.wobble=new V_);for(const i of e)t.wobble.load(i?.wobble)}update(t,e){this.isEnabled(t)&&function(t,e){const{wobble:i}=t.options,{wobble:n}=t;if(!i?.enable||!n)return;const s=n.angleSpeed*e.factor,r=n.moveSpeed*e.factor*((t.retina.wobbleDistance??0)*e.factor)/16.666666666666668,o=U_,{position:a}=t;n.angle+=s,n.angle>o&&(n.angle-=o),a.x+=r*Math.cos(n.angle),a.y+=r*Math.abs(Math.sin(n.angle))}(t,e)}}let $_=!1,H_=!1;const G_=new Map;async function X_(t){if(!$_){if(H_)return new Promise((t=>{const e=setInterval((()=>{$_&&(clearInterval(e),t())}),100)}));H_=!0,await async function(t,e=!0){t.emitterShapeManager||(t.emitterShapeManager=new Iy(t)),t.addEmitterShapeGenerator||(t.addEmitterShapeGenerator=(e,i)=>{t.emitterShapeManager?.addShapeGenerator(e,i)});const i=new Sy(t);await t.addPlugin(i,e)}(t,!1),await async function(t,e=!0){await t.addPlugin(new y_(t),e)}(t,!1),await async function(t,e=!0){await t.addShape(new Xy,e),await t.addShape(new Gy,e),await t.addShape(new Hy,e),await t.addShape(new $y,e)}(t,!1),await async function(t,e=!0){await t.addShape(new Yy,e)}(t,!1),await async function(t,e=!0){!function(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${cg} no image source provided`);if(t.images||(t.images=[]),!t.images.find((t=>t.name===e.name||t.source===e.src)))try{const i={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};let n;t.images.push(i),n=e.gif?a_:e.replaceColor?Zy:Jy,await n(i)}catch{throw new Error(`${cg} ${e.name??e.src} not found`)}})}(t);const i=new h_(t);await t.addPlugin(i,e),await t.addShape(new c_(t),e)}(t,!1),await async function(t,e=!0){await async function(t,e=!0){await t.addShape(new w_,e)}(t,e),await async function(t,e=!0){await t.addShape(new b_,e)}(t,e)}(t,!1),await async function(t,e=!0){await t.addShape(new O_,e)}(t,!1),await async function(t,e=!0){await t.addShape(new P_,e)}(t,!1),await async function(t,e=!0){await t.addShape(new Wy,e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("rotate",(t=>Promise.resolve(new A_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("life",(async t=>Promise.resolve(new p_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("roll",(()=>Promise.resolve(new S_)),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("tilt",(t=>Promise.resolve(new F_(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("wobble",(t=>Promise.resolve(new q_(t))),e)}(t,!1),await async function(t,e=!0){await async function(t,e=!0){await t.addMover("base",(()=>Promise.resolve(new Ay)),e)}(t,!1),await async function(t,e=!0){await t.addShape(new Oy,e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("color",(t=>Promise.resolve(new Py(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("opacity",(t=>Promise.resolve(new Ry(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("outModes",(t=>Promise.resolve(new By(t))),e)}(t,!1),await async function(t,e=!0){await t.addParticleUpdater("size",(()=>Promise.resolve(new Vy)),e)}(t,!1),await t.refresh(e)}(t),H_=!1,$_=!0}}async function K_(t){const e=new Dy;let i;e.load(t.options);const n=e.ticks*ug/432e3;if(G_.has(t.id)&&(i=G_.get(t.id),i&&!i.destroyed)){const t=i;if(t.addEmitter)return void await t.addEmitter({startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1},particles:{color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},life:{count:1},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:n,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},gravity:{acceleration:9.81*e.gravity},speed:3*e.startVelocity,decay:1-e.decay,direction:-e.angle},rotate:{value:e.flat?0:{min:0,max:360},direction:"random",animation:{enable:!e.flat,speed:60}},tilt:{direction:"random",enable:!e.flat,value:e.flat?0:{min:0,max:360},animation:{enable:!0,speed:60}},roll:{darken:{enable:!0,value:25},enable:!e.flat,speed:{min:15,max:25}},wobble:{distance:30,enable:!e.flat,speed:{min:-15,max:15}}}})}const s={fullScreen:{enable:!t.canvas,zIndex:e.zIndex},fpsLimit:120,particles:{number:{value:0},color:{value:e.colors},shape:{type:e.shapes,options:e.shapeOptions},opacity:{value:{min:0,max:1},animation:{enable:!0,sync:!0,speed:n,startValue:"max",destroy:"min"}},size:{value:5*e.scalar},links:{enable:!1},life:{count:1},move:{angle:{value:e.spread,offset:0},drift:{min:-e.drift,max:e.drift},enable:!0,gravity:{enable:!0,acceleration:9.81*e.gravity},speed:3*e.startVelocity,decay:1-e.decay,direction:-e.angle,random:!0,straight:!1,outModes:{default:"none",bottom:"destroy"}},rotate:{value:e.flat?0:{min:0,max:360},direction:"random",animation:{enable:!e.flat,speed:60}},tilt:{direction:"random",enable:!e.flat,value:e.flat?0:{min:0,max:360},animation:{enable:!0,speed:60}},roll:{darken:{enable:!0,value:25},enable:!e.flat,speed:{min:15,max:25}},wobble:{distance:30,enable:!e.flat,speed:{min:-15,max:15}}},detectRetina:!0,motion:{disable:e.disableForReducedMotion},emitters:{name:"confetti",startCount:e.count,position:e.position,size:{width:0,height:0},rate:{delay:0,quantity:0},life:{duration:.1,count:1}}};return i=await gy.load({id:t.id,element:t.canvas,options:s}),G_.set(t.id,i),i}async function W_(t,e){let i,n;return await X_(gy),pg(t)?(n=t,i=e??{}):(n="confetti",i=t),K_({id:n,options:i})}W_.create=async(t,e)=>{if(!t)return W_;await X_(gy);const i=t.getAttribute("id")??"confetti";return t.setAttribute("id",i),async(n,s)=>{let r,o;return pg(n)?(o=n,r=s??e):(o=i,r=n),K_({id:o,canvas:t,options:r})}},W_.init=async()=>{await X_(gy)},W_.version=gy.version,$g()||(window.confetti=W_);const Y_=function(t){const e="string"==typeof t?t:"(default)",i=function(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:function(t=Bc){const e=Uc.get(t);if(!e&&t===Bc&&Ia())return Kc();if(!e)throw Gc.create("no-app",{appName:t});return e}(),"firestore").getImmediate({identifier:e});if(!i._initialized){const t=(t=>{const e=(t=>{var e,i;return null===(i=null===(e=ka())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]})(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),n]:[e.substring(0,i),n]})("firestore");t&&function(t,e,i,n={}){var s;const r=(t=Ip(t,Ap))._getSettings(),o=`${e}:${i}`;if("firestore.googleapis.com"!==r.host&&r.host!==o&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),n.mockUserToken){let e,i;if("string"==typeof n.mockUserToken)e=n.mockUserToken,i=_l.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",n=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sa(JSON.stringify({alg:"none",type:"JWT"})),Sa(JSON.stringify(r)),""].join(".")}(n.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const r=n.mockUserToken.sub||n.mockUserToken.user_id;if(!r)throw new Ml(Al.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new _l(r)}t._authCredentials=new Ll(new Pl(e,i))}}(i,...t)}return i}(Kc({apiKey:"AIzaSyCd-nspx0BBEQC-KvvlNvE1VWgHpFOLq1A",authDomain:"rockbride-studio.firebaseapp.com",projectId:"rockbride-studio",storageBucket:"rockbride-studio.firebasestorage.app",messagingSenderId:"772102168692",appId:"1:772102168692:web:979d2c71cbc2f612a27121",measurementId:"G-YLNES74LL7"}));let Q_={name:"",email:"",eventType:"",eventDate:"",eventLocation:"",whichPackage:"",whereDidYouHear:""};const J_=document.querySelector("#input-1"),Z_=document.querySelector("#input-2"),tw=document.querySelector("#input-3"),ew=document.querySelector("#input-4"),iw=document.querySelector("#input-5");window.onscroll=function(){document.documentElement.scrollTop>200||document.body.scrollTop>200?xa.style.display="block":xa.style.display="none"},xa.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},function(){const t=document.querySelector(".menu");document.querySelector(".hamburger").addEventListener("click",(e=>{t.classList.toggle("visible"),t.classList.contains("visible")?(document.body.classList.add("menu-open"),document.querySelectorAll(".menu li").forEach(((t,e)=>{is.fromTo(t,{opacity:0},{opacity:1,duration:1,delay:.2*e})}))):document.body.classList.remove("menu-open")}))}(),document.querySelectorAll('[data-stage="1"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="1"] .form',null,1.2,1),ba('[data-stage="1"] .emoji',null,.2,.1),setTimeout((()=>{J_.focus()}),1200),document.querySelector('[data-stage="1"] button').addEventListener("click",sw),document.querySelector('[data-stage="2"] button').addEventListener("click",rw),document.querySelector('[data-stage="3"] button').addEventListener("click",ow),document.querySelector('[data-stage="4"] button').addEventListener("click",aw),document.querySelector('[data-stage="5"] button').addEventListener("click",cw),J_.addEventListener("keypress",(t=>{"Enter"===t.key&&sw()})),Z_.addEventListener("keypress",(t=>{"Enter"===t.key&&rw()})),tw.addEventListener("keypress",(t=>{"Enter"===t.key&&ow()})),ew.addEventListener("keypress",(t=>{"Enter"===t.key&&aw()})),iw.addEventListener("keypress",(t=>{"Enter"===t.key&&cw()}));const nw=async t=>{try{await ng(function(t,e,...i){if(t=La(t),Ep("collection","path",e),t instanceof Ap){const n=Kl.fromString(e,...i);return Sp(n),new Pp(t,null,n)}{if(!(t instanceof Op||t instanceof Pp))throw new Ml(Al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Kl.fromString(e,...i));return Sp(n),new Pp(t.firestore,null,n)}}(Y_,"contacts"),t)}catch(t){console.error("Error adding document: ",t)}};function sw(){J_.value&&(Q_.name=J_.value,document.querySelectorAll(".name-span").forEach((t=>t.innerHTML=Q_.name)),document.querySelector('[data-stage="1"').classList.remove("active"),document.querySelector('[data-stage="2"').classList.add("active"),document.querySelectorAll('[data-stage="2"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="2"] .form',null,1.5,1),ba('[data-stage="2"] .emoji',null,.3,.1),Z_.focus())}function rw(){Z_.value&&(Q_.eventType=Z_.value,document.querySelector('[data-stage="2"').classList.remove("active"),document.querySelector('[data-stage="3"').classList.add("active"),document.querySelectorAll('[data-stage="3"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="3"] .form',null,1,1),ba('[data-stage="3"] .emoji',null,.4,.1),tw.focus())}function ow(){tw.value&&(Q_.eventDate=tw.value,document.querySelector('[data-stage="3"').classList.remove("active"),document.querySelector('[data-stage="4"').classList.add("active"),document.querySelectorAll('[data-stage="4"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="4"] .form',null,1,1),ba('[data-stage="4"] .emoji',null,1,.1),ew.focus())}function aw(){ew.value&&(Q_.eventLocation=ew.value,document.querySelector('[data-stage="4"').classList.remove("active"),document.querySelector('[data-stage="5"').classList.add("active"),document.querySelectorAll('[data-stage="5"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="5"] .form',null,1,1),ba('[data-stage="5"] .with-emoji:nth-of-type(1) .emoji',null,.2,.1),ba('[data-stage="5"] .with-emoji:nth-of-type(2) .emoji',null,1.1,.1),iw.focus())}function cw(){iw.value&&(Q_.email=iw.value,document.querySelector('[data-stage="5"').classList.remove("active"),document.querySelector('[data-stage="6"').classList.add("active"),document.querySelectorAll('[data-stage="6"] h3').forEach(((t,e)=>{wa(t,1,.007,e/2*1.1)})),ba('[data-stage="6"] .with-emoji:nth-of-type(1) .emoji:nth-of-type(1)',null,.1,.1),ba('[data-stage="6"] .with-emoji:nth-of-type(1) .emoji:nth-of-type(2)',null,.3,.1),ba('[data-stage="6"] .with-emoji:nth-of-type(2) .emoji:nth-of-type(1)',null,1.5,.1),ba('[data-stage="6"] .with-emoji:nth-of-type(2) .emoji:nth-of-type(2)',null,1.8,.1),function(){const t=36e5,e=Date.now()+t,i={startVelocity:30,spread:360,ticks:20,zIndex:0};function n(t,e){return Math.random()*(e-t)+t}const s=setInterval((function(){const r=e-Date.now();if(r<=0)return clearInterval(s);const o=r/t*20;W_(Object.assign({},i,{particleCount:o,origin:{x:n(.1,.3),y:Math.random()-.2}})),W_(Object.assign({},i,{particleCount:o,origin:{x:n(.7,.9),y:Math.random()-.2}}))}),500)}(),nw(Q_))}})();